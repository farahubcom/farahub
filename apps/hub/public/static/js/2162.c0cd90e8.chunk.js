"use strict";(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[2162],{22162:(e,t,r)=>{r.r(t),r.d(t,{default:()=>H});var o=r(44413),i=r(81e3),n=r(88911),a=r(12110),s=r(39336),l=r(20819),d=r.n(l),c=r(87424),h=r.n(c),p=r(35475),u=r(46987),g=r(18012),m=r(30370),x=r(97324),b=r(56976),A=r(20694),v=r(11107),y=r(74175),j=r(73125),f=r(5748),C=r(28359),w=r(65043),k=r(66789),P=r(12766),z=r(32665),S=r(27800),M=r(70579);const R=({loading:e,data:t,meta:r,infiniteScrollProps:o,onClickChangeStatus:n})=>{const{inject:a}=(0,m.As)(),[s,l]=(0,p.ok)(),[c,u]=(0,w.useState)(s.has("sort")?s.get("sort"):"-createdAt");(0,z.A)((()=>{l({...Object.fromEntries(s),sort:c})}),[c]);const g=(0,S.A)();return(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(k.A,{data:t,loading:e,infiniteScrollProps:o,definitions:h()([{title:"\u0631\u062f\u06cc\u0641",headerCellProps:{align:"center"},rowCellProps:{align:"center",width:100},renderCell:(e,t)=>(0,M.jsx)(P.A,{children:g(t)}),priority:100},{title:"\u0645\u06cc\u0632 \u06a9\u0627\u0631",rowCellProps:{width:150},render:e=>{var t;return(0,M.jsx)(P.A,{children:null===(t=e.workspace)||void 0===t?void 0:t.name})||"-"},priority:200},{field:"content",title:"\u0645\u062a\u0646",rowCellProps:{width:350},render:e=>(0,M.jsx)(i.A,{whiteSpace:"pre-line",children:(0,M.jsx)(P.A,{children:e.content})})||"-",priority:300},{field:"code",title:"\u0648\u0636\u0639\u06cc\u062a",headerCellProps:{align:"center"},rowCellProps:{align:"center",width:150},render:e=>(0,M.jsx)(P.A,{children:e.latestStatus.status})||"-",priority:500},{title:"\u0622\u062e\u0631\u06cc\u0646 \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc",headerCellProps:{align:"center"},rowCellProps:{align:"center",width:200},render:e=>(0,M.jsx)(P.A,{children:(0,C.A)(new Date(e.latestStatus.createdAt),"dd MMMM yyyy HH:mm")})||"-",priority:600},...d()(a("Customers-Club-Management","Customers-Club-ManagementList.definitions")||[])],(e=>e.priority)),renderSheetTitle:e=>(0,M.jsx)(P.A,{children:e.name}),tableRowProps:e=>({striped:!0}),paginationProps:{count:r.total,rowsPerPage:s.has("perPage")?Number(s.get("perPage")):25,page:s.has("page")?Number(s.get("page")):0,onPageChange:(e,t)=>l({...Object.fromEntries([...s]),page:t}),onRowsPerPageChange:e=>l({...Object.fromEntries([...s]),perPage:e.target.value})},actions:[{title:"\u062a\u063a\u06cc\u06cc\u0631 \u0648\u0636\u0639\u06cc\u062a",icon:(0,M.jsx)(f.In,{icon:"solar:clipboard-check-linear"}),onClick:n,authorize:({hasRole:e,hasPermission:t})=>e("owner")||t("person:edit")}]})})};var I=r(66360),F=r(34535),N=r(62559),O=r(37978);const W=(0,F.Ay)(I.A)((({theme:e})=>({color:e.palette.text.secondary}))),E=(0,F.Ay)(N.Ay)((({theme:e})=>({fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.button.fontSize}))),V=()=>{const[e,t]=(0,p.ok)(),[r,o]=(0,w.useState)(e.get("query")||""),n=(0,O.A)(r,500);return(0,z.A)((()=>{t({...Object.fromEntries(e),query:n})}),[n]),(0,M.jsx)(i.A,{sx:{px:2,py:1.5,display:"flex"},className:"search-form",children:(0,M.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1},children:[(0,M.jsx)(W,{sx:{mr:1},color:"inherit"}),(0,M.jsx)(E,{value:r,placeholder:"\u062c\u0633\u062a\u062c\u0648...",onChange:e=>o(e.target.value),sx:{flexGrow:1}})]})})},H=()=>{const{inject:e}=(0,m.As)(),t=(0,g.Mv)("Customers-Club-Management.Messages"),[r]=(0,p.ok)(),{data:l,total:c,loading:f,loadMore:C,reload:w}=(0,y.A)({handleFetch:e=>t.list({...e,...Object.fromEntries([...r])}),loadDeps:[r],infiniteScrollDefaultParams:{page:r.has("page")?r.get("page"):0,perPage:r.has("perPage")?r.get("perPage"):25}}),{enqueueSnackbar:k}=(0,u.dh)(),[P,z,S]=(0,v.A)("form"),I=Object.assign({},...e("Customers-Club-Management","MessagesList.Hooks")||[]),F=(0,g.b7)("Customers-Club-Management.messages");return(0,M.jsx)(A.JQ,{...F,children:(0,M.jsxs)(b.A,{children:[(0,M.jsxs)(i.A,{sx:{display:"flex",mb:{xs:0,sm:1}},children:[(0,M.jsx)(i.A,{sx:{flexGrow:1}}),(0,M.jsx)(n.A,{direction:"row",spacing:1,children:(0,M.jsx)(x.A,{actions:h()([...d()(e("Customers-Club-Management","MessagesList.ActionsList",{data:l,loading:f,reload:w,...I})||[])],(e=>e.priority)),ResponsiveActionIcon:(0,M.jsx)(o.A,{}),responsiveActionProps:{color:"primary"}})})]}),(0,M.jsxs)(a.A,{variant:"outlined",children:[(0,M.jsx)(V,{}),(0,M.jsx)(s.A,{}),(0,M.jsx)(R,{data:l,loading:f,meta:{total:c},infiniteScrollProps:{loading:!1,hasNextPage:l.length<c,onLoadMore:C},onClickChangeStatus:e=>{z({defaultValues:{workspaceId:e.workspace.id,messageId:e.id},onUpdate:()=>(k("\u0648\u0636\u0639\u06cc\u062a \u067e\u06cc\u0627\u0645\u06a9 \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u06af\u0631\u062f\u06cc\u062f."),w(),void S())})}})]}),(0,M.jsx)(j.A,{...P}),e("Customers-Club-Management","MessagesList.Footer",{data:l,loading:f,reload:w,...I})]})})}},24010:(e,t,r)=>{r.d(t,{A:()=>y});var o=r(98587),i=r(58168),n=r(65043),a=r(58387),s=r(65049),l=r(75429),d=r(9848),c=r(98206),h=r(14987),p=r(60239);function u(e){return(0,p.Ay)("MuiFab",e)}const g=(0,h.A)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var m=r(34535),x=r(61475),b=r(70579);const A=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],v=(0,m.Ay)(l.A,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,x.A)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${(0,d.A)(r.size)}`],"inherit"===r.color&&t.colorInherit,t[(0,d.A)(r.size)],t[r.color]]}})((({theme:e,ownerState:t})=>{var r,o;return(0,i.A)({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:null==(r=(o=e.palette).getContrastText)?void 0:r.call(o,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${g.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},"small"===t.size&&{width:40,height:40},"medium"===t.size&&{width:48,height:48},"extended"===t.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===t.variant&&"small"===t.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===t.variant&&"medium"===t.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===t.color&&{color:"inherit"})}),(({theme:e,ownerState:t})=>(0,i.A)({},"inherit"!==t.color&&"default"!==t.color&&null!=(e.vars||e).palette[t.color]&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}})),(({theme:e})=>({[`&.${g.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}))),y=n.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiFab"}),{children:n,className:l,color:h="default",component:p="button",disabled:g=!1,disableFocusRipple:m=!1,focusVisibleClassName:x,size:y="large",variant:j="circular"}=r,f=(0,o.A)(r,A),C=(0,i.A)({},r,{color:h,component:p,disabled:g,disableFocusRipple:m,size:y,variant:j}),w=(e=>{const{color:t,variant:r,classes:o,size:n}=e,a={root:["root",r,`size${(0,d.A)(n)}`,"inherit"===t?"colorInherit":t]},l=(0,s.A)(a,u,o);return(0,i.A)({},o,l)})(C);return(0,b.jsx)(v,(0,i.A)({className:(0,a.A)(w.root,l),component:p,disabled:g,focusRipple:!m,focusVisibleClassName:(0,a.A)(w.focusVisible,x),ownerState:C,ref:t},f,{classes:w,children:n}))}))},44413:(e,t,r)=>{var o=r(24994);t.A=void 0;var i=o(r(40039)),n=r(70579);t.A=(0,i.default)((0,n.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"MenuOutlined")},97324:(e,t,r)=>{r.d(t,{A:()=>S});var o=r(34535),i=r(24010),n=r(81e3),a=r(26240),s=r(79285),l=r(24836),d=r(35316),c=r(68903),h=r(88911),p=r(8302),u=r(73216),g=r(30370),m=r(54049),x=r(30298),b=r(17392),A=r(85865),v=(r(65043),r(70579));const y=(0,o.Ay)(b.A)((({theme:e})=>({display:"flex",flexDirection:"column",minWidth:94.5}))),j=(0,o.Ay)("span")((({theme:e})=>({display:"inline-block"}))),f=(0,o.Ay)(A.A)((({theme:e})=>({...e.typography.button,display:"inline-block"}))),C=({label:e,labelTypographyProps:t={},children:r,...o})=>(0,v.jsxs)(y,{...o,children:[(0,v.jsx)(j,{children:r}),e&&(0,v.jsx)(f,{...t,children:e})]});var w=r(99275);const k=(0,o.Ay)(i.A)((({theme:e})=>({position:"fixed",bottom:`calc(${e.spacing(2)} + 48px)`,left:e.spacing(2),zIndex:100}))),P=(0,o.Ay)(n.A)((({theme:e})=>({}))),z=(0,o.Ay)("span")((({theme:e})=>({border:"1px solid currentColor",borderRadius:"50%",padding:e.spacing(.75),display:"flex",alignItems:"center",justifyContent:"center"}))),S=({actions:e=[],ResponsiveActionComponent:t=k,responsiveActionProps:r={},ResponsiveActionIcon:o,showResponsiveOnDesktop:i=!1})=>{var n,b;const A=(0,a.A)(),y=(0,s.A)(A.breakpoints.down("sm")),j=(0,u.Zp)(),f="actions",{hasSegment:S,addSegment:M,removeSegment:R}=(0,x.A)(),I=(0,m.A)(),F=({children:t})=>e.length>1?(0,v.jsx)(v.Fragment,{children:t}):(0,v.jsx)(l.A,{direction:"up",in:!I,mountOnEnter:!0,unmountOnExit:!0,children:t});return i||y?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(F,{children:(0,v.jsx)(t,{onClick:e.length>1?()=>j(M(f)):null===(n=e[0])||void 0===n?void 0:n.onClick,...r,children:e.length>1?o:null===(b=e[0])||void 0===b?void 0:b.icon})}),e.length>0&&(0,v.jsx)(w.A,{dialogProps:{fullWidth:!0,maxWidth:"xs"},open:S(f),onClose:()=>j(R(f),{replace:!0}),children:(0,v.jsx)(d.A,{children:(0,v.jsx)(c.Ay,{container:!0,columns:3,children:e.map(((e,t)=>(0,v.jsx)(g.UX,{authorize:e.authorize,children:(0,v.jsx)(c.Ay,{item:!0,xs:1,alignItems:"center",justifyContent:"center",children:(0,v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,v.jsx)(C,{label:e.title,onClick:e.onClick,size:"large",color:"inherit",labelTypographyProps:{sx:{mt:1}},children:(0,v.jsx)(z,{children:e.icon})})})})},t)))})})})]}):(0,v.jsx)(P,{children:(0,v.jsx)(h.A,{direction:y?"row-reverse":"row",spacing:1,children:e.map(((e,t)=>(0,v.jsx)(g.UX,{authorize:e.authorize,children:(0,v.jsx)(p.A,{variant:"transparent",disableElevation:!0,startIcon:e.icon,onClick:e.onClick,...e.buttonProps,children:e.title})},t)))})})}}}]);
//# sourceMappingURL=2162.c0cd90e8.chunk.js.map