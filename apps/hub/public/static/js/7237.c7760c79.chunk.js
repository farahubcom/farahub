"use strict";(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[7237],{37237:(e,i,n)=>{n.r(i),n.d(i,{default:()=>k});var s=n(4830),l=n(66934),t=n(27391),o=n(36151),r=n(57621),a=n(61889),d=n(68870),u=n(63466),h=n(56125),c=n(36314),p=n(20890),x=n(58518),j=n(72791),m=n(39230),v=n(62685),b=n(61709),g=n(7175),Z=n(54163),f=n(80184);const C=(0,l.ZP)(t.Z)((({theme:e})=>({"& input":{letterSpacing:3}}))),V=({phone:e,children:i})=>{const{t:n}=(0,m.$G)("customers-club"),{enqueueSnackbar:s}=(0,x.Ds)(),l=(0,v.dp)("Customers-Club.Visit"),{setValue:t,loading:r,handleSubmit:a}=(0,Z.Z)({initialValues:{phone:e},handlePost:e=>l.store(e),onSubmit:e=>{s(n("New visit stored"))}});return(0,j.useEffect)((()=>{t("phone",e)}),[e]),(0,f.jsx)(o.Z,{variant:"contained",onClick:a,disabled:r,children:i})},k=()=>{var e,i,n;const{t:l}=(0,m.$G)("customers-club"),t=(0,v.Vg)("Customers-Club.submitVisit"),{enqueueSnackbar:k}=(0,x.Ds)(),S=(0,v.dp)("Customers-Club.Visit"),[X,P]=(0,j.useState)(null),{register:w,getValue:B,loading:q,handleSubmit:I}=(0,Z.Z)({initialValues:{phone:""},handlePost:e=>S.check(e),onSubmit:e=>{P(e.person)}});return(0,j.useEffect)((()=>{Boolean(B("phone"))&&11===B("phone").length&&I()}),[B("phone")]),(0,f.jsx)(g.xf,{...t,children:(0,f.jsx)(b.Z,{children:(0,f.jsx)(r.Z,{variant:"outlined",children:(0,f.jsx)(a.ZP,{container:!0,justifyContent:"center",children:(0,f.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,f.jsxs)(d.Z,{sx:{py:15},children:[(0,f.jsx)(C,{fullWidth:!0,label:l("pages.visit.form_label","Submit a visit, message or event"),placeholder:"09XXXXXXXXX",InputLabelProps:{shrink:!0},InputProps:{startAdornment:(0,f.jsx)(u.Z,{position:"start",children:(0,f.jsx)(s.JO,{icon:"solar:magnifer-zoom-in-linear"})})},inputProps:{dir:"ltr"},disabled:q,...w("phone")}),(0,f.jsx)(h.Z,{in:11===B("phone").length&&!q,children:(0,f.jsxs)(d.Z,{sx:{mt:3},children:[Boolean(X)&&(0,f.jsxs)(c.Z,{direction:"column",spacing:1,children:[(0,f.jsxs)(p.Z,{children:[l("pages.visit.fullName")," : ",(0,f.jsx)("strong",{children:null!==(e=null===X||void 0===X?void 0:X.fullName)&&void 0!==e?e:"-"})]}),(0,f.jsxs)(p.Z,{children:[l("pages.visit.phone")," : ",(0,f.jsx)("strong",{children:null!==(i=null===X||void 0===X?void 0:X.phone)&&void 0!==i?i:"-"})]}),(0,f.jsxs)(p.Z,{children:[l("pages.visit.email")," : ",(0,f.jsx)("strong",{children:null!==(n=null===X||void 0===X?void 0:X.email)&&void 0!==n?n:"-"})]}),(0,f.jsxs)(p.Z,{children:[l("pages.visit.visitCount")," : ",(0,f.jsx)("strong",{children:null===X||void 0===X?void 0:X.customerClubVisitsCount})]})]}),(0,f.jsxs)(c.Z,{direction:"row",flexWrap:"wrap",gap:1,sx:{mt:3},children:[Boolean(X)&&(0,f.jsx)(V,{phone:B("phone"),children:l("pages.visit.submitVisit")}),!Boolean(X)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(V,{phone:B("phone"),children:l("pages.visit.quickVisit")}),(0,f.jsx)(o.Z,{variant:"outlined",children:"\u062b\u0628\u062a \u0645\u0631\u0627\u062c\u0639\u0647 \u0628\u0627 \u0645\u0634\u062e\u0635\u0627\u062a"})]}),(0,f.jsx)(o.Z,{startIcon:(0,f.jsx)(s.JO,{icon:"solar:bell-bing-linear"}),variant:"outlined",children:"\u0627\u0637\u0644\u0627\u0639 \u0631\u0633\u0627\u0646\u06cc"}),(0,f.jsx)(o.Z,{variant:"outlined",children:"\u06cc\u0627\u062f\u0622\u0648\u0631\u06cc"})]})]})})]})})})})})})}}}]);
//# sourceMappingURL=7237.c7760c79.chunk.js.map