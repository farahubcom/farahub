"use strict";(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[2777],{52777:(e,n,s)=>{s.r(n),s.d(n,{default:()=>P});var t=s(81e3),i=s(22505),a=s(68903),l=s(85865),o=s(63336),r=s(46987),d=s(65043),c=s(18012),x=s(85661),p=s(18611),h=s(71612),j=s(94329),u=s(74563),A=s(4219),m=s(17392),f=s(39336),g=s(29347),b=s(99275),C=s(67444),y=s(3111),k=s(70579);const v=({open:e,onClose:n,defaultValues:s={},onCreateOrUpdate:i,requestConfig:a})=>{const l=(0,c.Mv)("Tasks.Boards"),o={name:"",...s},{register:r,reset:x,loading:p,handleSubmit:v}=(0,y.A)({initialValues:o,handlePost:e=>l.createOrUpdate(e,a),onSubmit:i});return(0,d.useEffect)((()=>{e&&x(o)}),[e]),(0,k.jsxs)(b.A,{open:e,onClose:n,dialogProps:{fullWidth:!0,maxWidth:"xs"},children:[(0,k.jsxs)(A.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,k.jsx)(t.A,{children:s.id?"\u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u0628\u0631\u062f":"\u062b\u0628\u062a \u0628\u0631\u062f \u062c\u062f\u06cc\u062f"}),(0,k.jsx)(m.A,{onClick:n,size:"small",children:(0,k.jsx)(h.A,{})})]}),(0,k.jsx)(f.A,{}),(0,k.jsx)(t.A,{sx:{p:2},children:(0,k.jsx)(C.A,{InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",label:"\u0639\u0646\u0648\u0627\u0646 \u0628\u0631\u062f",variant:"filled",required:!0,...r("name")})}),(0,k.jsx)(f.A,{}),(0,k.jsxs)(g.A,{children:[(0,k.jsx)(u.A,{loading:p,loadingPosition:"start",type:"submit",variant:"contained",startIcon:(0,k.jsx)(j.A,{}),onClick:v,children:"\u062b\u0628\u062a"}),(0,k.jsx)(t.A,{sx:{flexGrow:1}})]})]})};var O=s(17022),S=s(78185),w=s(12766);const z=({board:e,loading:n,readOnly:s,onClickRename:i})=>{const a=(0,p.A)(),r=(0,c.b7)("tasks.boardDetails");return n?(0,k.jsx)(S.A,{variant:"rectangular",sx:{p:2,width:"100%",aspectRatio:"16/9",height:"105px"}}):(0,k.jsxs)(o.A,{variant:"outlined",sx:{aspectRatio:"16/9",p:2,cursor:"pointer",position:"relative",display:"flex",flexDirection:"column",justifyContent:"flex-end"},onClick:()=>a(r(e)),children:[!Boolean(s)&&(0,k.jsx)(t.A,{sx:{position:"absolute",right:10,top:10,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:(0,k.jsx)(m.A,{size:"small",onClick:n=>{n.stopPropagation(),i(e)},children:(0,k.jsx)(O.A,{fontSize:"small"})})}),(0,k.jsx)(l.A,{fontWeight:700,children:(0,k.jsx)(w.A,{children:e.name})})]})},I=({readOnly:e,onClickAdd:n,onClickRename:s})=>{const h=(0,c.Mv)("Tasks.Boards"),{data:j,loading:u,reload:A}=((0,p.A)(),(0,x.A)({handler:()=>h.list(),initialState:{data:{person:{}},loading:!0}})),{data:m}=j,{enqueueSnackbar:f}=((0,c.b7)("tasks.boardDetails"),(0,r.dh)()),[g,b]=(0,d.useState)({open:!1}),C=e=>{f(e),b({open:!1}),A()};return(0,k.jsxs)(t.A,{children:[(0,k.jsx)(a.Ay,{container:!0,justifyContent:"center",children:(0,k.jsxs)(a.Ay,{item:!0,xs:12,sm:8,md:8,children:[(0,k.jsx)(l.A,{variant:"h6",sx:{mb:3},children:"\u0628\u0631\u062f\u0647\u0627\u06cc \u0645\u06cc\u0632 \u06a9\u0627\u0631"}),(0,k.jsxs)(a.Ay,{container:!0,spacing:2,children:[u&&[1,2,3,4,5,6].map((e=>(0,k.jsx)(a.Ay,{item:!0,xs:6,sm:4,md:3,children:(0,k.jsx)(z,{board:{},loading:!0})},e))),!u&&m.map(((n,s)=>(0,k.jsx)(a.Ay,{item:!0,xs:6,sm:4,md:3,children:(0,k.jsx)(z,{board:n,loading:u,readOnly:e,onClickRename:()=>b({open:!0,defaultValues:n,onCreateOrUpdate:e=>C("\u0628\u0631\u062f \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u06af\u0631\u062f\u06cc\u062f.")})})},s))),!Boolean(e)&&!u&&(0,k.jsx)(a.Ay,{item:!0,xs:6,sm:4,md:3,children:(0,k.jsxs)(o.A,{variant:"outlined",sx:{px:3,pt:8,pb:2,textAlign:"center",position:"relative"},children:[(0,k.jsx)(l.A,{fontWeight:700,sx:{opacity:0},children:"$"}),(0,k.jsx)(t.A,{sx:{position:"absolute",left:0,width:"100%",top:0,height:"100%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>b({open:!0,onCreateOrUpdate:e=>C("\u0628\u0631\u062f \u062c\u062f\u06cc\u062f \u0627\u06cc\u062c\u0627\u062f \u06af\u0631\u062f\u06cc\u062f.")}),children:(0,k.jsx)(i.A,{fontSize:"large",sx:{color:"text.secondary"}})})]})})]})]})}),(0,k.jsx)(v,{...g,onClose:()=>b({open:!1})})]})},P=()=>(0,k.jsx)(t.A,{sx:{px:2,py:3},children:(0,k.jsx)(I,{})})}}]);
//# sourceMappingURL=2777.431e907d.chunk.js.map