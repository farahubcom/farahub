"use strict";(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[9283],{24010:(e,o,t)=>{t.d(o,{A:()=>y});var i=t(98587),r=t(58168),n=t(65043),s=t(58387),a=t(65049),l=t(75429),d=t(9848),c=t(98206),h=t(14987),p=t(60239);function u(e){return(0,p.Ay)("MuiFab",e)}const g=(0,h.A)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var m=t(34535),x=t(61475),v=t(70579);const A=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],b=(0,m.Ay)(l.A,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,x.A)(e)||"classes"===e,overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,o[t.variant],o[`size${(0,d.A)(t.size)}`],"inherit"===t.color&&o.colorInherit,o[(0,d.A)(t.size)],o[t.color]]}})((({theme:e,ownerState:o})=>{var t,i;return(0,r.A)({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:null==(t=(i=e.palette).getContrastText)?void 0:t.call(i,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${g.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},"small"===o.size&&{width:40,height:40},"medium"===o.size&&{width:48,height:48},"extended"===o.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===o.variant&&"small"===o.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===o.variant&&"medium"===o.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===o.color&&{color:"inherit"})}),(({theme:e,ownerState:o})=>(0,r.A)({},"inherit"!==o.color&&"default"!==o.color&&null!=(e.vars||e).palette[o.color]&&{color:(e.vars||e).palette[o.color].contrastText,backgroundColor:(e.vars||e).palette[o.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[o.color].main}}})),(({theme:e})=>({[`&.${g.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}))),y=n.forwardRef((function(e,o){const t=(0,c.b)({props:e,name:"MuiFab"}),{children:n,className:l,color:h="default",component:p="button",disabled:g=!1,disableFocusRipple:m=!1,focusVisibleClassName:x,size:y="large",variant:j="circular"}=t,f=(0,i.A)(t,A),w=(0,r.A)({},t,{color:h,component:p,disabled:g,disableFocusRipple:m,size:y,variant:j}),C=(e=>{const{color:o,variant:t,classes:i,size:n}=e,s={root:["root",t,`size${(0,d.A)(n)}`,"inherit"===o?"colorInherit":o]},l=(0,a.A)(s,u,i);return(0,r.A)({},i,l)})(w);return(0,v.jsx)(b,(0,r.A)({className:(0,s.A)(C.root,l),component:p,disabled:g,focusRipple:!m,focusVisibleClassName:(0,s.A)(C.focusVisible,x),ownerState:w,ref:o},f,{classes:C,children:n}))}))},29283:(e,o,t)=>{t.r(o),t.d(o,{default:()=>H});var i=t(44413),r=t(81e3),n=t(88911),s=t(12110),a=t(39336),l=t(20819),d=t.n(l),c=t(87424),h=t.n(c),p=t(35475),u=t(18012),g=t(30370),m=t(97324),x=t(56976),v=t(20694),A=t(74175),b=t(93513),y=t(17022),j=t(38968),f=t(26353),w=t(28359),C=t(65043),k=t(74117),P=t(66789),z=t(12766),I=t(32665),S=t(27800),R=t(18611),M=t(70579);const F=({loading:e,data:o,meta:t,infiniteScrollProps:i,onClickEdit:r,onClickDelete:n})=>{const{inject:s}=(0,g.As)(),{t:a}=(0,k.Bd)(["global","invoices"]),[l,c]=(0,p.ok)(),[m,x]=(0,C.useState)(l.has("sort")?l.get("sort"):"-createdAt");(0,I.A)((()=>{c({...Object.fromEntries(l),sort:m})}),[m]);const v=(0,S.A)(),A=(0,R.A)(),F=(0,u.b7)("Invoices.details");return(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(P.A,{data:o,loading:e,infiniteScrollProps:i,definitions:h()([{title:"#",headerCellProps:{align:"center"},rowCellProps:{align:"center",width:100},renderCell:(e,o)=>(0,M.jsx)(z.A,{children:v(o)}),priority:100},{field:"number",title:"\u0634\u0645\u0627\u0631\u0647",headerCellProps:{align:"center"},rowCellProps:{align:"center",width:100},render:e=>e.number||"-",priority:200},{title:"\u0645\u0634\u062a\u0631\u06cc",rowCellProps:{width:400},renderCell:e=>{var o;return null===(o=e.customer)||void 0===o?void 0:o.fullName},priority:300},{title:"\u062a\u0627\u0631\u06cc\u062e \u0635\u062f\u0648\u0631",rowCellProps:{width:400},renderCell:e=>(0,w.A)(new Date(e.issuedAt),"dd MMMM yyyy"),priority:400},...d()(s("Invoices","InvoicesList.definitions")||[])],(e=>e.priority)),renderSheetTitle:e=>(0,M.jsx)(z.A,{children:e.name}),renderListItemChildren:e=>(0,M.jsx)(j.A,{onClick:()=>A(F(e)),children:(0,M.jsx)(f.A,{primary:(0,M.jsx)("strong",{children:e.name})})}),tableRowProps:e=>({hover:!0,striped:!0,onClick:()=>A(F(e))}),paginationProps:{count:t.total,rowsPerPage:l.has("perPage")?Number(l.get("perPage")):25,page:l.has("page")?Number(l.get("page")):0,onPageChange:(e,o)=>c({...Object.fromEntries([...l]),page:o}),onRowsPerPageChange:e=>c({...Object.fromEntries([...l]),perPage:e.target.value})},actions:[{title:"\u0648\u06cc\u0631\u0627\u06cc\u0634",icon:(0,M.jsx)(y.A,{}),onClick:r,authorize:({hasRole:e,hasPermission:o})=>e("owner")||o("invoice:edit")},{title:"\u062d\u0630\u0641",icon:(0,M.jsx)(b.A,{}),onClick:e=>n(e,!1),authorize:({hasRole:e,hasPermission:o})=>e("owner")||o("invoice:delete")}]})})};var N=t(66360),O=t(34535),E=t(62559),W=t(37978);const L=(0,O.Ay)(N.A)((({theme:e})=>({color:e.palette.text.secondary}))),D=(0,O.Ay)(E.Ay)((({theme:e})=>({fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.button.fontSize}))),T=()=>{const[e,o]=(0,p.ok)(),[t,i]=(0,C.useState)(e.get("query")||""),n=(0,W.A)(t,500);return(0,I.A)((()=>{o({...Object.fromEntries(e),query:n})}),[n]),(0,M.jsx)(r.A,{sx:{px:2,py:1.5,display:"flex"},className:"search-form",children:(0,M.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1},children:[(0,M.jsx)(L,{sx:{mr:1},color:"inherit"}),(0,M.jsx)(D,{value:t,placeholder:"\u062c\u0633\u062a\u062c\u0648 \u0634\u0645\u0627\u0631\u0647\u060c \u0645\u0634\u062a\u0631\u06cc \u0641\u0627\u06a9\u062a\u0648\u0631...",onChange:e=>i(e.target.value),sx:{flexGrow:1}})]})})},V={key:"manage-products",steps:[{title:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u062e\u062f\u0645\u062a\u0627\u062a",intro:"\u062f\u0631 \u0641\u0631\u0622\u06cc\u0646\u062f \u0645\u062f\u06cc\u0631\u06cc\u062a \u062e\u062f\u0645\u062a\u0627\u062a\u060c \u0634\u0645\u0627 \u0647\u0645\u0647 \u062e\u062f\u0645\u062a\u0627\u062a\u06cc\u06cc \u06a9\u0647 \u0628\u0627 \u0622\u0646\u200c\u0647\u0627 \u062f\u0631 \u0641\u0631\u0622\u06cc\u0646\u062f\u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641 \u0645\u062b\u0644 \u0641\u0631\u0622\u06cc\u0646\u062f \u062b\u0628\u062a \u0641\u0627\u06a9\u062a\u0648\u0631 \u0641\u0631\u0648\u0634\u060c \u0631\u0632\u0631\u0648 \u0648 \u06cc\u0627 \u062e\u0631\u06cc\u062f\u060c \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc\u200c\u06a9\u0646\u06cc\u062f\u060c \u062b\u0628\u062a \u0648 \u0645\u0634\u0627\u0647\u062f\u0647 \u0645\u06cc\u200c\u06a9\u0646\u06cc\u062f."},{title:"\u062e\u062f\u0645\u062a \u062c\u062f\u06cc\u062f",intro:"\u0628\u0627 \u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0631\u0648\u06cc \u0627\u06cc\u0646 \u062f\u06a9\u0645\u0647 \u0648 \u0648\u0631\u0648\u062f \u0645\u0634\u062e\u0635\u0627\u062a \u062e\u062f\u0645\u062a \u0645\u06cc\u200c\u062a\u0648\u0627\u0646\u06cc\u062f \u062e\u062f\u0645\u062a\u06cc \u062c\u062f\u06cc\u062f\u06cc \u0628\u0647 \u0644\u06cc\u0633\u062a \u062e\u062f\u0645\u062a\u0627\u062a\u06cc \u062e\u0648\u062f \u0627\u0636\u0627\u0641\u0647 \u06a9\u0646\u06cc\u062f.",element:".add-new"},{title:"\u06af\u0631\u0648\u0647\u200c\u0647\u0627\u06cc \u062e\u062f\u0645\u062a",intro:"\u0634\u0645\u0627 \u0645\u06cc\u200c\u062a\u0648\u0627\u0646\u06cc\u062f \u0628\u0647 \u0647\u0631 \u062e\u062f\u0645\u062a \u06cc\u06a9 \u06af\u0631\u0648\u0647 \u0627\u062e\u062a\u0635\u0627\u0635 \u062f\u0647\u06cc\u062f \u062a\u0627 \u062f\u0631 \u0641\u0631\u0622\u06cc\u0646\u062f\u0647\u0627\u06cc \u062f\u06cc\u06af\u0631\u060c \u0639\u0644\u0627\u0648\u0647 \u0628\u0631 \u06af\u0632\u0627\u0631\u0634 \u0628\u0631\u0627\u0633\u0627\u0633 \u062e\u062f\u0645\u062a\u060c \u06af\u0632\u0627\u0631\u0634 \u0628\u0631\u0627\u0633\u0627\u0633 \u06af\u0631\u0648\u0647 \u0631\u0627 \u0647\u0645 \u0645\u0634\u0627\u0647\u062f\u0647 \u0646\u0645\u0627\u06cc\u06cc\u062f.",element:".manage-categories"}]},H=()=>{const{inject:e}=(0,g.As)(),o=(0,u.Mv)("Invoices.Main"),[t]=(0,p.ok)(),{data:l,total:c,loading:b,loadMore:y,reload:j}=(0,A.A)({handleFetch:e=>o.list({...e,...Object.fromEntries([...t])}),loadDeps:[t],infiniteScrollDefaultParams:{page:t.has("page")?t.get("page"):0,perPage:t.has("perPage")?t.get("perPage"):25}}),f=Object.assign({},...e("Invoices","InvoicesList.Hooks")||[]),w=(0,u.b7)("Invoices.list");return(0,M.jsx)(v.JQ,{...w,tour:V,children:(0,M.jsxs)(x.A,{children:[(0,M.jsxs)(r.A,{sx:{display:"flex",mb:{xs:0,sm:1}},children:[(0,M.jsx)(r.A,{sx:{flexGrow:1}}),(0,M.jsx)(n.A,{direction:"row",spacing:1,children:(0,M.jsx)(m.A,{actions:h()([...d()(e("Invoices","ProductsList.ActionsList",{data:l,loading:b,reload:j,...f})||[])],(e=>e.priority)),ResponsiveActionIcon:(0,M.jsx)(i.A,{}),responsiveActionProps:{color:"primary"}})})]}),(0,M.jsxs)(s.A,{variant:"outlined",children:[(0,M.jsx)(T,{}),(0,M.jsx)(a.A,{}),(0,M.jsx)(F,{data:l,loading:b,meta:{total:c},infiniteScrollProps:{loading:!1,hasNextPage:l.length<c,onLoadMore:y}})]}),e("Invoices","InvoicesList.Footer",{data:l,loading:b,reload:j,...f})]})})}},44413:(e,o,t)=>{var i=t(24994);o.A=void 0;var r=i(t(40039)),n=t(70579);o.A=(0,r.default)((0,n.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"MenuOutlined")},97324:(e,o,t)=>{t.d(o,{A:()=>I});var i=t(34535),r=t(24010),n=t(81e3),s=t(26240),a=t(79285),l=t(24836),d=t(35316),c=t(68903),h=t(88911),p=t(8302),u=t(73216),g=t(30370),m=t(54049),x=t(30298),v=t(17392),A=t(85865),b=(t(65043),t(70579));const y=(0,i.Ay)(v.A)((({theme:e})=>({display:"flex",flexDirection:"column",minWidth:94.5}))),j=(0,i.Ay)("span")((({theme:e})=>({display:"inline-block"}))),f=(0,i.Ay)(A.A)((({theme:e})=>({...e.typography.button,display:"inline-block"}))),w=({label:e,labelTypographyProps:o={},children:t,...i})=>(0,b.jsxs)(y,{...i,children:[(0,b.jsx)(j,{children:t}),e&&(0,b.jsx)(f,{...o,children:e})]});var C=t(99275);const k=(0,i.Ay)(r.A)((({theme:e})=>({position:"fixed",bottom:`calc(${e.spacing(2)} + 48px)`,left:e.spacing(2),zIndex:100}))),P=(0,i.Ay)(n.A)((({theme:e})=>({}))),z=(0,i.Ay)("span")((({theme:e})=>({border:"1px solid currentColor",borderRadius:"50%",padding:e.spacing(.75),display:"flex",alignItems:"center",justifyContent:"center"}))),I=({actions:e=[],ResponsiveActionComponent:o=k,responsiveActionProps:t={},ResponsiveActionIcon:i,showResponsiveOnDesktop:r=!1})=>{var n,v;const A=(0,s.A)(),y=(0,a.A)(A.breakpoints.down("sm")),j=(0,u.Zp)(),f="actions",{hasSegment:I,addSegment:S,removeSegment:R}=(0,x.A)(),M=(0,m.A)(),F=({children:o})=>e.length>1?(0,b.jsx)(b.Fragment,{children:o}):(0,b.jsx)(l.A,{direction:"up",in:!M,mountOnEnter:!0,unmountOnExit:!0,children:o});return r||y?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(F,{children:(0,b.jsx)(o,{onClick:e.length>1?()=>j(S(f)):null===(n=e[0])||void 0===n?void 0:n.onClick,...t,children:e.length>1?i:null===(v=e[0])||void 0===v?void 0:v.icon})}),e.length>0&&(0,b.jsx)(C.A,{dialogProps:{fullWidth:!0,maxWidth:"xs"},open:I(f),onClose:()=>j(R(f),{replace:!0}),children:(0,b.jsx)(d.A,{children:(0,b.jsx)(c.Ay,{container:!0,columns:3,children:e.map(((e,o)=>(0,b.jsx)(g.UX,{authorize:e.authorize,children:(0,b.jsx)(c.Ay,{item:!0,xs:1,alignItems:"center",justifyContent:"center",children:(0,b.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,b.jsx)(w,{label:e.title,onClick:e.onClick,size:"large",color:"inherit",labelTypographyProps:{sx:{mt:1}},children:(0,b.jsx)(z,{children:e.icon})})})})},o)))})})})]}):(0,b.jsx)(P,{children:(0,b.jsx)(h.A,{direction:y?"row-reverse":"row",spacing:1,children:e.map(((e,o)=>(0,b.jsx)(g.UX,{authorize:e.authorize,children:(0,b.jsx)(p.A,{variant:"transparent",disableElevation:!0,startIcon:e.icon,onClick:e.onClick,...e.buttonProps,children:e.title})},o)))})})}}}]);
//# sourceMappingURL=9283.e840ebec.chunk.js.map