(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[321],{9944:(e,t,s)=>{var r=s(12536),a=s(54052);e.exports=function(e,t,s,l){return null==e?[]:(a(t)||(t=null==t?[]:[t]),a(s=l?void 0:s)||(s=null==s?[]:[s]),r(e,t,s))}},10321:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M});var r=s(22505),a=s(82143),l=s(81e3),o=s(68903),n=s(85865),c=s(22698),i=s(88911),d=s(8302),p=s(65043),h=s(73216),x=s(35475),u=s(18012),m=s(20694),A=s(13232),g=s(71136),j=s(12110),f=s(43845),v=s(39336),y=s(28359),b=s(5142),C=s(32665),k=s(9944),w=s.n(k),I=s(70579);const S=({loading:e,tickets:t})=>{const s=(0,h.Zp)(),r=(0,h.zy)(),[a,o]=(0,x.ok)(),[c,d]=(0,p.useState)(a.has("sort")?a.get("sort"):"-createdAt");return(0,C.A)((()=>{o({...Object.fromEntries(a),sort:c})}),[c]),e?(0,I.jsx)(j.A,{variant:"outlined",children:(0,I.jsx)(b.A,{})}):t.length<1?(0,I.jsxs)(j.A,{variant:"outlined",sx:{px:5,py:15,textAlign:"center"},children:[(0,I.jsx)(A.A,{fontSize:"large"}),(0,I.jsx)("p",{children:"\u0645\u0648\u0631\u062f\u06cc \u062c\u0647\u062a \u0646\u0645\u0627\u06cc\u0634 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f."})]}):(0,I.jsx)(j.A,{variant:"outlined",children:w()(t,"openedAt","desc").map(((e,t)=>(0,I.jsxs)(p.Fragment,{children:[(0,I.jsxs)(l.A,{sx:{p:2},onClick:()=>s("/support/ticket/".concat(e.id),{state:{prev:r,ticket:e}}),children:[(0,I.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,I.jsx)(n.A,{variant:"h6",children:e.subject}),(0,I.jsx)("small",{children:(0,y.A)(new Date(e.openedAt),"yyyy/MM/dd hh:mm")})]}),(0,I.jsx)(n.A,{sx:{mb:2},children:e.messages[e.messages.length-1].content}),(0,I.jsxs)(i.A,{spacing:1,justifyContent:"flex-start",alignItems:"flex-start",direction:"row",children:[(0,I.jsx)(f.A,{color:e.closedAt?"error":"success",label:(0,I.jsxs)(l.A,{children:["\u0648\u0636\u0639\u06cc\u062a : ",(0,I.jsx)("strong",{children:e.closedAt?"\u0628\u0633\u062a\u0647 \u0634\u062f\u0647":"\u0628\u0627\u0632"})]}),size:"small"}),(0,I.jsx)(f.A,{variant:"outlined",label:e.messages.length,size:"small",sx:{fontFamily:"Lato, sans-serif"},icon:(0,I.jsx)(g.A,{})})]})]}),(0,I.jsx)(v.A,{})]},t)))})},M=({scope:e,adminWorkspace:t})=>{const s=(0,h.zy)(),A=(0,h.Zp)(),g=(0,u.Mv)("tickets.".concat("auth"===e?"authenticated":"main")),[j]=(0,x.ok)(),[f,v]=(0,p.useState)({loading:!0,data:[],total:""});return(0,p.useEffect)((()=>{(async()=>{const e=await g.list(Object.fromEntries([...j]),t&&{headers:{"Workspace-ID":"admin"}});v({loading:!1,data:e.data,total:e.total})})()}),[j]),(0,I.jsx)(m.JQ,{title:"\u062a\u06cc\u06a9\u062a\u200c\u0647\u0627",Icon:a.A,children:(0,I.jsx)(l.A,{sx:{p:{xs:1,sm:2,md:3}},children:(0,I.jsx)(o.Ay,{container:!0,justifyContent:"center",children:(0,I.jsxs)(o.Ay,{item:!0,xs:12,md:8,children:[(0,I.jsxs)(l.A,{sx:{mb:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,I.jsxs)(l.A,{children:[(0,I.jsx)(n.A,{variant:"h5",sx:{fontWeight:600,mb:1},children:"\u062a\u06cc\u06a9\u062a\u200c\u0647\u0627"}),(0,I.jsxs)(c.A,{children:[(0,I.jsx)(n.A,{color:"text.primary",children:"\u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc"}),(0,I.jsx)(n.A,{color:"text.primary",children:"\u062a\u06cc\u06a9\u062a\u200c\u0647\u0627"})]})]}),(0,I.jsx)(i.A,{direction:"row",spacing:1,children:"auth"===e&&(0,I.jsx)(d.A,{className:"add-new",variant:"transparent",startIcon:(0,I.jsx)(r.A,{}),onClick:()=>A("/support/tickets/new",{state:{prev:s}}),children:"\u062a\u06cc\u06a9\u062a \u062c\u062f\u06cc\u062f"})})]}),(0,I.jsx)(S,{loading:f.loading,tickets:f.data})]})})})})}},22698:(e,t,s)=>{"use strict";s.d(t,{A:()=>B});var r=s(58168),a=s(98587),l=s(65043),o=s(58387),n=s(65049),c=s(99007),i=s(34535),d=s(98206),p=s(85865),h=s(67266),x=s(66734),u=s(70579);const m=(0,x.A)((0,u.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var A=s(75429);const g=["slots","slotProps"],j=(0,i.Ay)(A.A)((({theme:e})=>(0,r.A)({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`},"light"===e.palette.mode?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,r.A)({},"light"===e.palette.mode?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}),"&:active":(0,r.A)({boxShadow:e.shadows[0]},"light"===e.palette.mode?{backgroundColor:(0,h.tL)(e.palette.grey[200],.12)}:{backgroundColor:(0,h.tL)(e.palette.grey[600],.12)})}))),f=(0,i.Ay)(m)({width:24,height:16});const v=function(e){const{slots:t={},slotProps:s={}}=e,l=(0,a.A)(e,g),o=e;return(0,u.jsx)("li",{children:(0,u.jsx)(j,(0,r.A)({focusRipple:!0},l,{ownerState:o,children:(0,u.jsx)(f,(0,r.A)({as:t.CollapsedIcon,ownerState:o},s.collapsedIcon))}))})};var y=s(14987),b=s(60239);function C(e){return(0,b.Ay)("MuiBreadcrumbs",e)}const k=(0,y.A)("MuiBreadcrumbs",["root","ol","li","separator"]),w=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],I=(0,i.Ay)(p.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${k.li}`]:t.li},t.root]})({}),S=(0,i.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),M=(0,i.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function z(e,t,s,r){return e.reduce(((a,l,o)=>(o<e.length-1?a=a.concat(l,(0,u.jsx)(M,{"aria-hidden":!0,className:t,ownerState:r,children:s},`separator-${o}`)):a.push(l),a)),[])}const B=l.forwardRef((function(e,t){const s=(0,d.b)({props:e,name:"MuiBreadcrumbs"}),{children:i,className:p,component:h="nav",slots:x={},slotProps:m={},expandText:A="Show path",itemsAfterCollapse:g=1,itemsBeforeCollapse:j=1,maxItems:f=8,separator:y="/"}=s,b=(0,a.A)(s,w),[k,M]=l.useState(!1),B=(0,r.A)({},s,{component:h,expanded:k,expandText:A,itemsAfterCollapse:g,itemsBeforeCollapse:j,maxItems:f,separator:y}),R=(e=>{const{classes:t}=e;return(0,n.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},C,t)})(B),N=(0,c.A)({elementType:x.CollapsedIcon,externalSlotProps:m.collapsedIcon,ownerState:B}),H=l.useRef(null),P=l.Children.toArray(i).filter((e=>l.isValidElement(e))).map(((e,t)=>(0,u.jsx)("li",{className:R.li,children:e},`child-${t}`)));return(0,u.jsx)(I,(0,r.A)({ref:t,component:h,color:"text.secondary",className:(0,o.A)(R.root,p),ownerState:B},b,{children:(0,u.jsx)(S,{className:R.ol,ref:H,ownerState:B,children:z(k||f&&P.length<=f?P:(e=>j+g>=e.length?e:[...e.slice(0,j),(0,u.jsx)(v,{"aria-label":A,slots:{CollapsedIcon:x.CollapsedIcon},slotProps:{collapsedIcon:N},onClick:()=>{M(!0);const e=H.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-g,e.length)])(P),R.separator,y,B)})}))}))},71136:(e,t,s)=>{"use strict";var r=s(24994);t.A=void 0;var a=r(s(40039)),l=s(70579);t.A=(0,a.default)((0,l.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H6l-2 2V4h16z"}),"ChatBubbleOutline")},82143:(e,t,s)=>{"use strict";var r=s(24994);t.A=void 0;var a=r(s(40039)),l=s(70579);t.A=(0,a.default)((0,l.jsx)("path",{d:"M19 14v4h-2v-4zM7 14v4H6c-.55 0-1-.45-1-1v-3zm5-13c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h4v1h-7v2h6c1.66 0 3-1.34 3-3V10c0-4.97-4.03-9-9-9"}),"HeadsetMicOutlined")}}]);
//# sourceMappingURL=321.8f00e637.chunk.js.map