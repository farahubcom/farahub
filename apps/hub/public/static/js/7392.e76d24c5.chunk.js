(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[7392],{87392:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M});var r=s(42419),a=s(42846),l=s(68870),o=s(61889),n=s(20890),c=s(93517),i=s(36314),d=s(36151),p=s(72791),h=s(57689),x=s(11087),u=s(62685),m=s(7175),g=s(63872),Z=s(73164),j=s(57621),f=s(81918),v=s(94721),b=s(67317),y=s(58052),C=s(90577),w=s(45812),k=s.n(w),I=s(80184);const S=({loading:e,tickets:t})=>{const s=(0,h.s0)(),r=(0,h.TH)(),[a,o]=(0,x.lr)(),[c,d]=(0,p.useState)(a.has("sort")?a.get("sort"):"-createdAt");return(0,C.Z)((()=>{o({...Object.fromEntries(a),sort:c})}),[c]),e?(0,I.jsx)(j.Z,{variant:"outlined",children:(0,I.jsx)(y.Z,{})}):t.length<1?(0,I.jsxs)(j.Z,{variant:"outlined",sx:{px:5,py:15,textAlign:"center"},children:[(0,I.jsx)(g.Z,{fontSize:"large"}),(0,I.jsx)("p",{children:"\u0645\u0648\u0631\u062f\u06cc \u062c\u0647\u062a \u0646\u0645\u0627\u06cc\u0634 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f."})]}):(0,I.jsx)(j.Z,{variant:"outlined",children:k()(t,"openedAt","desc").map(((e,t)=>(0,I.jsxs)(p.Fragment,{children:[(0,I.jsxs)(l.Z,{sx:{p:2},onClick:()=>s("/support/ticket/".concat(e.id),{state:{prev:r,ticket:e}}),children:[(0,I.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,I.jsx)(n.Z,{variant:"h6",children:e.subject}),(0,I.jsx)("small",{children:(0,b.Z)(new Date(e.openedAt),"yyyy/MM/dd hh:mm")})]}),(0,I.jsx)(n.Z,{sx:{mb:2},children:e.messages[e.messages.length-1].content}),(0,I.jsxs)(i.Z,{spacing:1,justifyContent:"flex-start",alignItems:"flex-start",direction:"row",children:[(0,I.jsx)(f.Z,{color:e.closedAt?"error":"success",label:(0,I.jsxs)(l.Z,{children:["\u0648\u0636\u0639\u06cc\u062a : ",(0,I.jsx)("strong",{children:e.closedAt?"\u0628\u0633\u062a\u0647 \u0634\u062f\u0647":"\u0628\u0627\u0632"})]}),size:"small"}),(0,I.jsx)(f.Z,{variant:"outlined",label:e.messages.length,size:"small",sx:{fontFamily:"Lato, sans-serif"},icon:(0,I.jsx)(Z.Z,{})})]})]}),(0,I.jsx)(v.Z,{})]},t)))})},M=({scope:e,adminWorkspace:t})=>{const s=(0,h.TH)(),g=(0,h.s0)(),Z=(0,u.dp)("tickets.".concat("auth"===e?"authenticated":"main")),[j]=(0,x.lr)(),[f,v]=(0,p.useState)({loading:!0,data:[],total:""});return(0,p.useEffect)((()=>{(async()=>{const e=await Z.list(Object.fromEntries([...j]),t&&{headers:{"Workspace-ID":"admin"}});v({loading:!1,data:e.data,total:e.total})})()}),[j]),(0,I.jsx)(m.xf,{title:"\u062a\u06cc\u06a9\u062a\u200c\u0647\u0627",Icon:a.Z,children:(0,I.jsx)(l.Z,{sx:{p:{xs:1,sm:2,md:3}},children:(0,I.jsx)(o.ZP,{container:!0,justifyContent:"center",children:(0,I.jsxs)(o.ZP,{item:!0,xs:12,md:8,children:[(0,I.jsxs)(l.Z,{sx:{mb:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,I.jsxs)(l.Z,{children:[(0,I.jsx)(n.Z,{variant:"h5",sx:{fontWeight:600,mb:1},children:"\u062a\u06cc\u06a9\u062a\u200c\u0647\u0627"}),(0,I.jsxs)(c.Z,{children:[(0,I.jsx)(n.Z,{color:"text.primary",children:"\u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc"}),(0,I.jsx)(n.Z,{color:"text.primary",children:"\u062a\u06cc\u06a9\u062a\u200c\u0647\u0627"})]})]}),(0,I.jsx)(i.Z,{direction:"row",spacing:1,children:"auth"===e&&(0,I.jsx)(d.Z,{className:"add-new",variant:"transparent",startIcon:(0,I.jsx)(r.Z,{}),onClick:()=>g("/support/tickets/new",{state:{prev:s}}),children:"\u062a\u06cc\u06a9\u062a \u062c\u062f\u06cc\u062f"})})]}),(0,I.jsx)(S,{loading:f.loading,tickets:f.data})]})})})})}},73164:(e,t,s)=>{"use strict";var r=s(64836);t.Z=void 0;var a=r(s(45649)),l=s(80184),o=(0,a.default)((0,l.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"}),"ChatBubbleOutline");t.Z=o},42846:(e,t,s)=>{"use strict";var r=s(64836);t.Z=void 0;var a=r(s(45649)),l=s(80184),o=(0,a.default)((0,l.jsx)("path",{d:"M19 14v4h-2v-4h2M7 14v4H6c-.55 0-1-.45-1-1v-3h2m5-13c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h4v1h-7v2h6c1.66 0 3-1.34 3-3V10c0-4.97-4.03-9-9-9z"}),"HeadsetMicOutlined");t.Z=o},93517:(e,t,s)=>{"use strict";s.d(t,{Z:()=>z});var r=s(87462),a=s(63366),l=s(72791),o=(s(57441),s(28182)),n=s(94419),c=s(50272),i=s(66934),d=s(31402),p=s(20890),h=s(12065),x=s(74223),u=s(80184);const m=(0,x.Z)((0,u.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var g=s(95080);const Z=["slots","slotProps"],j=(0,i.ZP)(g.Z)((({theme:e})=>(0,r.Z)({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`},"light"===e.palette.mode?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,r.Z)({},"light"===e.palette.mode?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}),"&:active":(0,r.Z)({boxShadow:e.shadows[0]},"light"===e.palette.mode?{backgroundColor:(0,h._4)(e.palette.grey[200],.12)}:{backgroundColor:(0,h._4)(e.palette.grey[600],.12)})}))),f=(0,i.ZP)(m)({width:24,height:16});const v=function(e){const{slots:t={},slotProps:s={}}=e,l=(0,a.Z)(e,Z),o=e;return(0,u.jsx)("li",{children:(0,u.jsx)(j,(0,r.Z)({focusRipple:!0},l,{ownerState:o,children:(0,u.jsx)(f,(0,r.Z)({as:t.CollapsedIcon,ownerState:o},s.collapsedIcon))}))})};var b=s(75878),y=s(21217);function C(e){return(0,y.Z)("MuiBreadcrumbs",e)}const w=(0,b.Z)("MuiBreadcrumbs",["root","ol","li","separator"]),k=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],I=(0,i.ZP)(p.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${w.li}`]:t.li},t.root]})({}),S=(0,i.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),M=(0,i.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function P(e,t,s,r){return e.reduce(((a,l,o)=>(o<e.length-1?a=a.concat(l,(0,u.jsx)(M,{"aria-hidden":!0,className:t,ownerState:r,children:s},`separator-${o}`)):a.push(l),a)),[])}const z=l.forwardRef((function(e,t){const s=(0,d.Z)({props:e,name:"MuiBreadcrumbs"}),{children:i,className:p,component:h="nav",slots:x={},slotProps:m={},expandText:g="Show path",itemsAfterCollapse:Z=1,itemsBeforeCollapse:j=1,maxItems:f=8,separator:b="/"}=s,y=(0,a.Z)(s,k),[w,M]=l.useState(!1),z=(0,r.Z)({},s,{component:h,expanded:w,expandText:g,itemsAfterCollapse:Z,itemsBeforeCollapse:j,maxItems:f,separator:b}),A=(e=>{const{classes:t}=e;return(0,n.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},C,t)})(z),B=(0,c.Z)({elementType:x.CollapsedIcon,externalSlotProps:m.collapsedIcon,ownerState:z}),R=l.useRef(null),H=l.Children.toArray(i).filter((e=>l.isValidElement(e))).map(((e,t)=>(0,u.jsx)("li",{className:A.li,children:e},`child-${t}`)));return(0,u.jsx)(I,(0,r.Z)({ref:t,component:h,color:"text.secondary",className:(0,o.default)(A.root,p),ownerState:z},y,{children:(0,u.jsx)(S,{className:A.ol,ref:R,ownerState:z,children:P(w||f&&H.length<=f?H:(e=>j+Z>=e.length?e:[...e.slice(0,j),(0,u.jsx)(v,{"aria-label":g,slots:{CollapsedIcon:x.CollapsedIcon},slotProps:{collapsedIcon:B},onClick:()=>{M(!0);const e=R.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-Z,e.length)])(H),A.separator,b,z)})}))}))},45812:(e,t,s)=>{var r=s(93226),a=s(93629);e.exports=function(e,t,s,l){return null==e?[]:(a(t)||(t=null==t?[]:[t]),a(s=l?void 0:s)||(s=null==s?[]:[s]),r(e,t,s))}}}]);
//# sourceMappingURL=7392.e76d24c5.chunk.js.map