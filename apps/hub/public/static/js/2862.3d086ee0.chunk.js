"use strict";(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[2862],{42504:(e,n,i)=>{i.d(n,{A:()=>D});var s=i(71612),l=i(39578),t=i(13232),r=i(34535),o=i(28076),a=i(81e3),d=i(81637),c=i(79650),x=i(71806),h=i(73460),p=i(39652),j=i(81045),m=i(4219),u=i(17392),A=i(39336),g=i(51787),y=i(29347),b=i(8302),f=i(65043),C=i(37978),P=i(50809),v=i(18012),k=i(67444),w=i(99275),S=i(70579);const I=(0,r.Ay)(o.A)((({theme:e,hover:n,selected:i})=>({cursor:n?"pointer":"auto",backgroundColor:i?e.palette.action.hover:e.palette.common.white,"&:focus":{backgroundColor:e.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}))),z=({loading:e,modules:n,selected:i,onSelect:s,selectable:l})=>{const r=e=>!(!l||!i)&&(Array.isArray(i)?i.filter((n=>n.id===e.id)).length>0:i.id===e.id);return e?(0,S.jsx)(a.A,{sx:{px:5,py:5,textAlign:"center"},children:(0,S.jsx)(d.A,{})}):n.length<1?(0,S.jsxs)(a.A,{sx:{px:5,py:5,textAlign:"center"},children:[(0,S.jsx)(t.A,{fontSize:"large"}),(0,S.jsx)("p",{children:"\u0645\u0648\u0631\u062f\u06cc \u062c\u0647\u062a \u0646\u0645\u0627\u06cc\u0634 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f."})]}):(0,S.jsx)(c.A,{sx:{overflow:"auto",maxHeight:400},children:(0,S.jsx)(x.A,{stickyHeader:!0,size:"small",children:(0,S.jsx)(h.A,{children:n.map(((e,n)=>(0,S.jsxs)(I,{selected:r(e),hover:l,onClick:()=>l&&s(e),children:[(0,S.jsx)(p.A,{align:"center",children:n+1}),(0,S.jsx)(p.A,{children:(0,S.jsxs)(a.A,{sx:{display:"flex"},children:[(0,S.jsx)(j.A,{src:e.picture,variant:"rounded",children:(0,S.jsx)(P.A,{})}),(0,S.jsxs)(a.A,{sx:{pl:2},children:[(0,S.jsx)("strong",{children:e.name}),(0,S.jsx)("br",{}),(0,S.jsx)(a.A,{sx:{fontFamily:"Helvetica"},children:e.identifier})]})]})})]},n)))})})})},D=({open:e,onClose:n,selectable:i,selected:t,onSelect:r,onClear:o,queryParams:d={}})=>{const c=(0,v.Mv)("core.modules"),[x,h]=(0,f.useState)(!0),[p,j]=(0,f.useState)([]),[P,I]=(0,f.useState)(""),D=(0,C.A)(P,500);return(0,f.useEffect)((()=>{if(!e){const e=setTimeout((()=>{h(!0),""!==P&&I("")}),500);return()=>{clearTimeout(e)}}(async()=>{const{ok:e,data:n}=await c.list({...d,query:D,...""===P?{page:0,perPage:100}:{}});e&&(j(n),h(!1))})()}),[e,D]),(0,S.jsxs)(w.A,{open:e,onClose:n,dialogProps:{fullWidth:!0,maxWidth:"xs"},children:[(0,S.jsxs)(m.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,S.jsx)(a.A,{children:i?"\u0627\u0646\u062a\u062e\u0627\u0628 \u0645\u0627\u0698\u0648\u0644":"\u0645\u062f\u06cc\u0631\u06cc\u062a \u0645\u0627\u0698\u0648\u0644\u200c\u0647\u0627"}),(0,S.jsx)(u.A,{onClick:n,size:"small",children:(0,S.jsx)(s.A,{})})]}),(0,S.jsx)(A.A,{}),(0,S.jsx)(a.A,{sx:{p:2},children:(0,S.jsx)(k.A,{InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",variant:"filled",label:"\u062c\u0633\u062a\u062c\u0648 \u0628\u0631\u0627\u0633\u0627\u0633 \u0646\u0627\u0645",value:P,onChange:e=>I(e.target.value),InputProps:{startAdornment:(0,S.jsx)(g.A,{position:"start",children:(0,S.jsx)(l.A,{})})}})}),(0,S.jsx)(z,{loading:x,modules:p,selectable:i,selected:t,onSelect:r}),(0,S.jsx)(A.A,{}),(0,S.jsxs)(y.A,{children:[i&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(b.A,{type:"button",onClick:n,children:"\u0628\u0633\u062a\u0646"}),(0,S.jsx)(a.A,{sx:{flexGrow:1}})]}),o&&(0,S.jsx)(b.A,{type:"button",onClick:o,children:"\u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646"}),!i&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(a.A,{sx:{flexGrow:1}}),(0,S.jsx)(b.A,{type:"button",onClick:n,children:"\u0627\u0646\u0635\u0631\u0627\u0641"})]})]})]})}},72862:(e,n,i)=>{i.r(n),i.d(n,{default:()=>pe});var s=i(22505),l=i(44413),t=i(81e3),r=i(12110),o=i(46987),a=i(65043),d=i(35475),c=i(18012),x=i(97324),h=i(56976),p=i(20694),j=i(74175),m=i(8087),u=i(76506),A=i(55774),g=i(71612),y=i(43909),b=i(94329),f=i(43676),C=i(74563),P=i(4219),v=i(17392),k=i(39336),w=i(35316),S=i(68903),I=i(35721),z=i(30681),D=i(38968),W=i(2050),R=i(26353),F=i(17843),E=i(30279),L=i(51787),O=i(29347),q=i(8302),M=i(98413),T=i(99275),V=i(67444),U=i(3111),H=i(62559),G=i(96213),X=i.n(G),Z=i(67472),J=i(34535),N=i(70579);const Q=(0,J.Ay)(t.A)((({theme:e})=>({backgroundColor:"rgb(223, 227, 235)",border:"1px solid rgb(203, 214, 226)",width:"100%",borderRadius:"30000px",padding:"4px 8px",display:"flex",position:"relative",cursor:"pointer"}))),$=(0,J.Ay)("div")((({theme:e})=>({width:"calc(50% - 10px)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",lineHeight:"initial",zIndex:"2",textAlign:"center"}))),B=(0,J.Ay)("div")((({theme:e})=>({fontSize:"11px",fontWeight:600}))),K=(0,J.Ay)("div")((({theme:e})=>({fontSize:"11px"}))),Y=(0,J.Ay)("div")((({theme:e})=>({position:"absolute",height:"calc(100% + 6px)",width:"calc(50% + 6px)",background:"rgb(255, 255, 255)",borderRadius:"3000px",top:"-3px",border:"1px solid ".concat(e.palette.primary.main),transition:"all 0.2s ease-in-out 0s"}))),_=({options:e,value:n,onChange:i,...s})=>(0,N.jsxs)(Q,{...s,children:[e.map(((e,n)=>(0,N.jsxs)($,{onClick:()=>i(e.value),children:[(0,N.jsx)(B,{children:e.title}),e.subtitle&&(0,N.jsx)(K,{children:e.subtitle})]},n))).reduce(((e,n)=>[e,(0,N.jsx)("div",{style:{width:20}},new Date),n])),(0,N.jsx)(Y,{style:{left:n===e[1].value?"-3px":"calc(50% - 3px)"}})]}),ee=({defaultValue:e,open:n,onClose:i,dialogProps:s={},dialogTitle:l,onSubmit:r})=>{const[o,d]=(0,a.useState)(e),[c,x]=(0,a.useState)("editor");return(0,a.useEffect)((()=>{n&&d(e)}),[e]),(0,N.jsxs)(T.A,{open:n,onClose:i,dialogProps:{fullWidth:!0,maxWidth:"md",...s},children:[(0,N.jsxs)(P.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,N.jsx)(t.A,{children:l||"\u0645\u0639\u0631\u0641\u06cc \u0646\u0627\u0645\u0647"}),(0,N.jsx)(v.A,{onClick:i,size:"small",children:(0,N.jsx)(g.A,{})})]}),(0,N.jsx)(k.A,{}),(0,N.jsxs)(w.A,{sx:{p:0},children:[(0,N.jsx)(_,{value:c,sx:{width:"200px",mx:"auto",my:2},options:[{title:"\u0648\u06cc\u0631\u0627\u06cc\u0634",value:"editor"},{title:"\u067e\u06cc\u0634\u0646\u0645\u0627\u06cc\u0634",value:"preview"}],onChange:e=>x(e)}),(0,N.jsx)(t.A,{sx:{minHeight:250},children:"editor"===c?(0,N.jsx)(H.Ay,{fullWidth:!0,value:o,onChange:e=>d(e.target.value),multiline:!0,rows:9,placeholder:"\u0645\u0627\u0698\u0648\u0644 \u0631\u0627 \u0645\u0639\u0631\u0641\u06cc \u06a9\u0646\u06cc\u062f...",sx:{p:2}}):(0,N.jsx)(Z.Ay,{breaks:!0,children:X().sanitize(o)})})]}),(0,N.jsx)(k.A,{}),(0,N.jsx)(O.A,{children:(0,N.jsx)(q.A,{variant:"contained",onClick:()=>r(o),children:"\u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"})})]})};var ne=i(42504);const ie=({open:e,onClose:n,defaultValues:i,onCreateOrUpdate:s,requestConfig:l})=>{const r=(0,c.Mv)("core.modules"),o=(0,c.xZ)("Categories.CategoriesDialog"),d={name:"",identifier:"",monthlyCost:"",description:"",micro:!1,maintenance:!1,readme:"",hourlyCostFactorPercent:"",trimesterlyDiscount:"",semiannuallyDiscount:"",annuallyDiscount:"",categories:[],dependencies:[],...i},{register:x,reset:h,loading:p,getValue:j,setValue:H,handleSubmit:G}=(0,U.A)({initialValues:d,handlePost:e=>r.createOrUpdate(e,l),onSubmit:s});(0,a.useEffect)((()=>{e&&h(d)}),[e]);const[X,Z]=(0,a.useState)({open:!1}),[J,Q]=(0,a.useState)({open:!1}),[$,B]=(0,a.useState)({open:!1});return(0,N.jsxs)(T.A,{open:e,onClose:n,dialogProps:{fullWidth:!0,maxWidth:"sm"},children:[(0,N.jsxs)(P.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,N.jsx)(t.A,{children:i?"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0628\u0631\u0646\u0627\u0645\u0647":"\u062b\u0628\u062a \u0628\u0631\u0646\u0627\u0645\u0647"}),(0,N.jsx)(v.A,{onClick:n,size:"small",children:(0,N.jsx)(g.A,{})})]}),(0,N.jsx)(k.A,{}),(0,N.jsxs)(w.A,{sx:{p:0},children:[(0,N.jsxs)(S.Ay,{container:!0,spacing:2,sx:{p:2},children:[(0,N.jsx)(S.Ay,{item:!0,xs:12,md:6,children:(0,N.jsx)(V.A,{InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",label:"\u0646\u0627\u0645 \u0628\u0631\u0646\u0627\u0645\u0647",variant:"filled",required:!0,...x("name")})}),(0,N.jsx)(S.Ay,{item:!0,xs:12,md:6,children:(0,N.jsx)(V.A,{InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",label:"\u0634\u0646\u0627\u0633\u0647 \u0628\u0631\u0646\u0627\u0645\u0647",variant:"filled",required:!0,dir:"ltr",...x("identifier")})})]}),(0,N.jsx)(k.A,{}),(0,N.jsxs)(I.A,{disablePadding:!0,dense:!0,children:[(0,N.jsx)(z.Ay,{disablePadding:!0,divider:!0,children:(0,N.jsxs)(D.A,{onClick:()=>H("micro",!j("micro")),children:[(0,N.jsx)(W.A,{children:(0,N.jsx)(y.A,{})}),(0,N.jsx)(R.A,{primary:"\u0628\u0631\u0646\u0627\u0645\u0647 \u0645\u06cc\u06a9\u0631\u0648",secondary:"\u0645\u06cc\u06a9\u0631\u0648 \u0628\u0631\u0646\u0627\u0645\u0647\u060c \u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0647\u0627\u06cc\u06cc \u0647\u0633\u062a\u0646\u062f \u06a9\u0647 \u0628\u0631\u0627\u06cc \u062a\u0648\u0633\u0639\u0647 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc\u200c\u0634\u0648\u0646\u062f \u0648 \u0642\u0627\u0628\u0644 \u0646\u0635\u0628 \u0645\u0633\u062a\u0642\u06cc\u0645 \u062a\u0648\u0633\u0637 \u06a9\u0627\u0631\u0628\u0631 \u0646\u0645\u06cc\u200c\u0628\u0627\u0634\u0646\u062f."}),(0,N.jsx)(F.A,{edge:"end",onClick:()=>H("micro",!j("micro")),checked:j("micro"),inputProps:{"aria-labelledby":"switch-list-label-bluetooth"}})]})}),(0,N.jsx)(z.Ay,{disablePadding:!0,children:(0,N.jsxs)(D.A,{onClick:()=>H("maintenance",!j("maintenance")),children:[(0,N.jsx)(W.A,{children:(0,N.jsx)(m.A,{})}),(0,N.jsx)(R.A,{primary:"\u062f\u0631 \u062d\u0627\u0644 \u062a\u0648\u0633\u0639\u0647"}),(0,N.jsx)(F.A,{edge:"end",onClick:()=>H("maintenance",!j("maintenance")),checked:j("maintenance"),inputProps:{"aria-labelledby":"switch-list-label-bluetooth"}})]})})]}),(0,N.jsx)(k.A,{}),(0,N.jsxs)(E.A,{in:!j("micro"),children:[(0,N.jsxs)(S.Ay,{container:!0,spacing:2,sx:{p:2},children:[(0,N.jsx)(S.Ay,{item:!0,xs:12,md:12,children:(0,N.jsx)(V.A,{InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",label:"\u0634\u0631\u062d \u0628\u0631\u0646\u0627\u0645\u0647",variant:"filled",multiline:!0,rows:5,...x("description")})}),(0,N.jsx)(S.Ay,{item:!0,xs:12,md:6,children:(0,N.jsx)(M.A,{fullWidth:!0,size:"small",label:"\u0647\u0632\u06cc\u0646\u0647 \u0645\u0627\u0647\u06cc\u0627\u0646\u0647",dir:"ltr",variant:"filled",InputProps:{startAdornment:(0,N.jsx)(L.A,{position:"start",children:(0,N.jsx)("small",{children:"\u062a\u0648\u0645\u0627\u0646"})})},value:j("monthlyCost")?j("monthlyCost").IRR:"",...x("monthlyCost",["value"])})}),(0,N.jsx)(S.Ay,{item:!0,xs:12,md:6,children:(0,N.jsx)(V.A,{InputLabelProps:{shrink:!0},fullWidth:!0,type:"number",size:"small",label:"\u0641\u0627\u06a9\u062a\u0648\u0631 \u0645\u062d\u0627\u0633\u0628\u0647 \u0633\u0627\u0639\u062a\u06cc",variant:"filled",InputProps:{startAdornment:(0,N.jsx)(L.A,{position:"start",children:(0,N.jsx)("small",{children:"%"})})},dir:"ltr",...x("hourlyCostFactorPercent")})}),(0,N.jsx)(S.Ay,{item:!0,xs:12,md:4,children:(0,N.jsx)(V.A,{InputLabelProps:{shrink:!0},fullWidth:!0,type:"number",size:"small",label:"\u062a\u062e\u0641\u06cc\u0641 \u0633\u0647 \u0645\u0627\u0647\u0647",variant:"filled",InputProps:{startAdornment:(0,N.jsx)(L.A,{position:"start",children:(0,N.jsx)("small",{children:"%"})})},dir:"ltr",...x("trimesterlyDiscount")})}),(0,N.jsx)(S.Ay,{item:!0,xs:12,md:4,children:(0,N.jsx)(V.A,{InputLabelProps:{shrink:!0},fullWidth:!0,type:"number",size:"small",label:"\u062a\u062e\u0641\u06cc\u0641 \u0634\u0634 \u0645\u0627\u0647\u0647",variant:"filled",InputProps:{startAdornment:(0,N.jsx)(L.A,{position:"start",children:(0,N.jsx)("small",{children:"%"})})},dir:"ltr",...x("semiannuallyDiscount")})}),(0,N.jsx)(S.Ay,{item:!0,xs:12,md:4,children:(0,N.jsx)(V.A,{InputLabelProps:{shrink:!0},fullWidth:!0,type:"number",size:"small",label:"\u062a\u062e\u0641\u06cc\u0641 \u0633\u0627\u0644\u06cc\u0627\u0646\u0647",variant:"filled",InputProps:{startAdornment:(0,N.jsx)(L.A,{position:"start",children:(0,N.jsx)("small",{children:"%"})})},dir:"ltr",...x("annuallyDiscount")})})]}),(0,N.jsxs)(I.A,{disablePadding:!0,dense:!0,children:[(0,N.jsx)(z.Ay,{disablePadding:!0,divider:!0}),(0,N.jsx)(z.Ay,{disablePadding:!0,children:(0,N.jsxs)(D.A,{onClick:()=>Z({open:!0}),children:[(0,N.jsx)(W.A,{children:(0,N.jsx)(f.A,{})}),(0,N.jsx)(R.A,{primary:"\u0648\u0627\u0628\u0633\u062a\u06af\u06cc\u200c\u0647\u0627",secondary:j("dependencies")&&j("dependencies").length>0?(0,N.jsx)("strong",{children:j("dependencies").map((e=>e.name)).join(", ")}):"\u0628\u0631\u0627\u06cc \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f."})]})}),(0,N.jsx)(z.Ay,{disablePadding:!0,divider:!0}),(0,N.jsx)(z.Ay,{disablePadding:!0,children:(0,N.jsxs)(D.A,{onClick:()=>B({open:!0}),children:[(0,N.jsx)(W.A,{children:(0,N.jsx)(A.A,{})}),(0,N.jsx)(R.A,{primary:"\u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc\u200c\u0647\u0627",secondary:j("categories")&&j("categories").length>0?(0,N.jsx)("strong",{children:j("categories").map((e=>e.name)).join(", ")}):"\u0628\u0631\u0627\u06cc \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f."})]})}),(0,N.jsx)(z.Ay,{disablePadding:!0,divider:!0}),(0,N.jsx)(z.Ay,{disablePadding:!0,children:(0,N.jsxs)(D.A,{onClick:()=>Q({open:!0,defaultValue:j("readme")}),children:[(0,N.jsx)(W.A,{children:(0,N.jsx)(u.A,{})}),(0,N.jsx)(R.A,{primary:"\u0645\u0639\u0631\u0641\u06cc\u200c\u0646\u0627\u0645\u0647",secondary:"\u0628\u0631\u0627\u06cc \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f."})]})})]})]})]}),(0,N.jsx)(k.A,{}),(0,N.jsxs)(O.A,{children:[(0,N.jsx)(C.A,{loading:p,loadingPosition:"start",type:"submit",variant:"contained",startIcon:(0,N.jsx)(b.A,{}),onClick:G,children:"\u062b\u0628\u062a \u0645\u0634\u062e\u0635\u0627\u062a"}),(0,N.jsx)(t.A,{sx:{flexGrow:1}}),(0,N.jsx)(q.A,{type:"button",onClick:n,children:"\u0627\u0646\u0635\u0631\u0627\u0641"})]}),(0,N.jsx)(ne.A,{...X,queryParams:{includeMicros:!0},onClose:()=>Z({open:!1}),selectable:!0,selected:j("dependencies"),onSelect:e=>H("dependencies",j("dependencies").filter((n=>n.id===e.id)).length>0?j("dependencies").filter((n=>n.id!==e.id)):[...j("dependencies"),e])}),(0,N.jsx)(o,{...$,label:"workspace",onClose:()=>B({open:!1}),selectable:!0,selected:j("categories"),onSelect:e=>H("categories",j("categories").filter((n=>n.id===e.id)).length>0?j("categories").filter((n=>n.id!==e.id)):[...j("categories"),e]),requestConfig:{transformRequest:[(e,n)=>(delete n.common["Workspace-ID"],e)]}}),(0,N.jsx)(ee,{...J,dialogTitle:"\u0645\u0639\u0631\u0641\u06cc\u200c\u0646\u0627\u0645\u0647 \u0628\u0631\u0646\u0627\u0645\u0647",onClose:()=>Q({open:!1}),onSubmit:e=>{H("readme",e),Q({open:!1})}})]})};var se=i(93513),le=i(17022),te=i(50809),re=i(81045),oe=i(23851),ae=i(66789),de=i(12766),ce=i(93934),xe=i(4398);const he=({loading:e,modules:n,meta:i,infiniteScrollProps:s,onClickEdit:l})=>{const[r,o]=(0,a.useState)({open:!1}),[c,x]=(0,d.ok)();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(ae.A,{data:n,loading:e,infiniteScrollProps:s,tableRowProps:e=>({disabled:e.maintenance}),definitions:[{title:"\u0631\u062f\u06cc\u0641",headerCellProps:{align:"center"},rowCellProps:{align:"center"},renderCell:(e,n)=>(0,N.jsx)(de.A,{children:n+1})},{title:"\u0628\u0631\u0646\u0627\u0645\u0647",renderCell:e=>(0,N.jsxs)(t.A,{sx:{display:"flex",alignItems:"center"},children:[(0,N.jsx)(re.A,{src:e.picture,sx:{width:75,height:75},variant:"rounded",children:e.micro?(0,N.jsx)(y.A,{fontSize:"large"}):(0,N.jsx)(te.A,{fontSize:"large"})}),(0,N.jsxs)(t.A,{sx:{pl:2},children:[(0,N.jsx)("strong",{style:{whiteSpace:"nowrap"},children:(0,N.jsx)(de.A,{children:e.name})}),(0,N.jsx)("br",{}),(0,N.jsx)(t.A,{children:e.identifier})]}),e.micro&&(0,N.jsx)(ce.A,{title:"\u0645\u06cc\u06a9\u0631\u0648 \u0628\u0631\u0646\u0627\u0645\u06a9",children:(0,N.jsx)(y.A,{sx:{ml:2},fontSize:"small"})}),e.maintenance&&(0,N.jsx)(ce.A,{title:"\u062f\u0631 \u062d\u0627\u0644 \u062a\u0648\u0633\u0639\u0647",children:(0,N.jsx)(m.A,{sx:{ml:2},fontSize:"small"})})]})},{title:"\u0634\u0631\u062d \u0645\u062e\u062a\u0635\u0631",renderList:e=>e.description?(0,N.jsx)(de.A,{children:e.description}):"-"},{field:"monthlyCost",headerCellProps:{align:"center",width:150},rowCellProps:{align:"center"},title:(0,N.jsxs)(t.A,{component:"span",children:["\u0647\u0632\u06cc\u0646\u0647 \u0645\u0627\u0647\u06cc\u0627\u0646\u0647 ",(0,N.jsx)("small",{children:"(\u062a\u0648\u0645\u0627\u0646)"})]}),render:e=>e.monthlyCost?(0,N.jsx)(de.A,{children:(0,xe.A)(e.monthlyCost.IRR)}):"-"},{field:"hourlyCostFactorPercent",headerCellProps:{align:"center",width:150},rowCellProps:{align:"center"},title:(0,N.jsxs)(t.A,{component:"span",children:["\u0641\u0627\u06a9\u062a\u0648\u0631 \u0647\u0632\u06cc\u0646\u0647 \u0633\u0627\u0639\u062a\u06cc ",(0,N.jsx)("small",{children:"(%)"})]}),render:e=>e.hourlyCostFactorPercent?(0,N.jsx)(de.A,{children:e.hourlyCostFactorPercent}):"-"},{field:"trimesterlyDiscount",headerCellProps:{align:"center",width:150},rowCellProps:{align:"center"},title:(0,N.jsxs)(t.A,{component:"span",children:["\u062a\u062e\u0641\u06cc\u0641 \u0633\u0647 \u0645\u0627\u0647\u0647 ",(0,N.jsx)("small",{children:"(%)"})]}),render:e=>e.trimesterlyDiscount?(0,N.jsx)(de.A,{children:e.trimesterlyDiscount}):"-"},{field:"semiannuallyDiscount",headerCellProps:{align:"center",width:150},rowCellProps:{align:"center"},title:(0,N.jsxs)(t.A,{component:"span",children:["\u062a\u062e\u0641\u06cc\u0641 \u0634\u0634 \u0645\u0627\u0647\u0647 ",(0,N.jsx)("small",{children:"(%)"})]}),render:e=>e.semiannuallyDiscount?(0,N.jsx)(de.A,{children:e.semiannuallyDiscount}):"-"},{field:"annuallyDiscount",headerCellProps:{align:"center",width:150},rowCellProps:{align:"center"},title:(0,N.jsxs)(t.A,{component:"span",children:["\u062a\u062e\u0641\u06cc\u0641 \u0633\u0627\u0644\u06cc\u0627\u0646\u0647 ",(0,N.jsx)("small",{children:"(%)"})]}),render:e=>e.annuallyDiscount?(0,N.jsx)(de.A,{children:e.annuallyDiscount}):"-"},{title:"\u0648\u0627\u0628\u0633\u062a\u06af\u06cc\u200c\u0647\u0627",headerCellProps:{width:200},render:e=>e.dependencies&&e.dependencies.length>0?e.dependencies.map((e=>e.name)).join(", "):"-"},{title:"\u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc\u200c\u0647\u0627",headerCellProps:{width:200},render:e=>e.categories&&e.categories.length>0?e.categories.map((e=>e.name)).join(", "):"-"},{title:"\u062f\u0633\u062a\u0647\u200c\u0647\u0627\u06cc \u06a9\u0633\u0628\u200c\u0648\u200c\u06a9\u0627\u0631",headerCellProps:{width:200},render:e=>e.workspacesCategories&&e.workspacesCategories.length>0?e.workspacesCategories.map((e=>e.name)).join(", "):"-"}],renderSheetTitle:e=>e.name,renderListItemChildren:e=>(0,N.jsxs)(D.A,{children:[(0,N.jsx)(oe.A,{children:(0,N.jsx)(re.A,{src:e.picture,variant:"rounded",children:(0,N.jsx)(te.A,{})})}),(0,N.jsx)(R.A,{primary:(0,N.jsx)("strong",{children:e.name}),secondary:(0,N.jsx)(t.A,{component:"span",children:e.identifier})})]}),paginationProps:{count:i.total,rowsPerPage:c.get("perPage")||25,page:c.get("page")||0,onPageChange:(e,n)=>x({...Object.fromEntries([...c]),page:n}),onRowsPerPageChange:e=>x({...Object.fromEntries([...c]),perPage:e.target.value})},actions:[{title:"\u0648\u06cc\u0631\u0627\u06cc\u0634",icon:(0,N.jsx)(le.A,{}),onClick:l,authorize:({hasRole:e,hasPermission:n})=>e("owner")||n("core.modules.edit")},{title:"\u062d\u0630\u0641",icon:(0,N.jsx)(se.A,{}),onClick:e=>alert("Delete module entirely"),authorize:({hasRole:e,hasPermission:n})=>e("owner")||n("core.modules.delete")}]}),(0,N.jsx)(ee,{onClose:()=>o({open:!1}),...r})]})},pe=()=>{const e=(0,c.Mv)("core.modules"),[n]=(0,d.ok)(),{data:i,total:m,loading:u,loadMore:A,reload:g}=(0,j.A)({handleFetch:i=>e.list({...i,includeMicros:!0,includeInMaintenance:!0,...Object.fromEntries([...n])}),loadDeps:[n],infiniteScrollDefaultParams:{page:n.has("page")?n.get("page"):0,perPage:n.has("perPage")?n.get("perPage"):25}}),{enqueueSnackbar:y}=(0,o.dh)(),[b,f]=(0,a.useState)({open:!1}),C=e=>{y(e),f({open:!1}),g()},P=(0,c.b7)("core.manageModules");return(0,N.jsx)(p.JQ,{...P,children:(0,N.jsxs)(h.A,{children:[(0,N.jsxs)(t.A,{sx:{display:"flex",mb:{xs:0,sm:1}},children:[(0,N.jsx)(t.A,{sx:{flexGrow:1}}),(0,N.jsx)(x.A,{actions:[{title:"\u0628\u0631\u0646\u0627\u0645\u0647 \u062c\u062f\u06cc\u062f",icon:(0,N.jsx)(s.A,{}),onClick:()=>f({open:!0,onCreateOrUpdate:e=>C("\u0645\u0634\u062e\u0635\u0627\u062a \u0628\u0631\u0646\u0627\u0645\u0647 \u062b\u0628\u062a \u06af\u0631\u062f\u06cc\u062f.")})}],ResponsiveActionIcon:(0,N.jsx)(l.A,{}),responsiveActionProps:{color:"primary"}})]}),(0,N.jsx)(r.A,{variant:"outlined",children:(0,N.jsx)(he,{modules:i,loading:u,meta:{total:m},infiniteScrollProps:{loading:!1,hasNextPage:i.length<m,onLoadMore:A},onClickEdit:e=>f({open:!0,defaultValues:e,onCreateOrUpdate:e=>C("\u0645\u0634\u062e\u0635\u0627\u062a \u0628\u0631\u0646\u0627\u0645\u0647 \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u06af\u0631\u062f\u06cc\u062f.")})})}),(0,N.jsx)(ie,{...b,onClose:()=>f({open:!1})})]})})}},97324:(e,n,i)=>{i.d(n,{A:()=>I});var s=i(34535),l=i(24010),t=i(81e3),r=i(26240),o=i(79285),a=i(24836),d=i(35316),c=i(68903),x=i(88911),h=i(8302),p=i(73216),j=i(30370),m=i(54049),u=i(30298),A=i(17392),g=i(85865),y=(i(65043),i(70579));const b=(0,s.Ay)(A.A)((({theme:e})=>({display:"flex",flexDirection:"column",minWidth:94.5}))),f=(0,s.Ay)("span")((({theme:e})=>({display:"inline-block"}))),C=(0,s.Ay)(g.A)((({theme:e})=>({...e.typography.button,display:"inline-block"}))),P=({label:e,labelTypographyProps:n={},children:i,...s})=>(0,y.jsxs)(b,{...s,children:[(0,y.jsx)(f,{children:i}),e&&(0,y.jsx)(C,{...n,children:e})]});var v=i(99275);const k=(0,s.Ay)(l.A)((({theme:e})=>({position:"fixed",bottom:`calc(${e.spacing(2)} + 48px)`,left:e.spacing(2),zIndex:100}))),w=(0,s.Ay)(t.A)((({theme:e})=>({}))),S=(0,s.Ay)("span")((({theme:e})=>({border:"1px solid currentColor",borderRadius:"50%",padding:e.spacing(.75),display:"flex",alignItems:"center",justifyContent:"center"}))),I=({actions:e=[],ResponsiveActionComponent:n=k,responsiveActionProps:i={},ResponsiveActionIcon:s,showResponsiveOnDesktop:l=!1})=>{var t,A;const g=(0,r.A)(),b=(0,o.A)(g.breakpoints.down("sm")),f=(0,p.Zp)(),C="actions",{hasSegment:I,addSegment:z,removeSegment:D}=(0,u.A)(),W=(0,m.A)(),R=({children:n})=>e.length>1?(0,y.jsx)(y.Fragment,{children:n}):(0,y.jsx)(a.A,{direction:"up",in:!W,mountOnEnter:!0,unmountOnExit:!0,children:n});return l||b?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(R,{children:(0,y.jsx)(n,{onClick:e.length>1?()=>f(z(C)):null===(t=e[0])||void 0===t?void 0:t.onClick,...i,children:e.length>1?s:null===(A=e[0])||void 0===A?void 0:A.icon})}),e.length>0&&(0,y.jsx)(v.A,{dialogProps:{fullWidth:!0,maxWidth:"xs"},open:I(C),onClose:()=>f(D(C),{replace:!0}),children:(0,y.jsx)(d.A,{children:(0,y.jsx)(c.Ay,{container:!0,columns:3,children:e.map(((e,n)=>(0,y.jsx)(j.UX,{authorize:e.authorize,children:(0,y.jsx)(c.Ay,{item:!0,xs:1,alignItems:"center",justifyContent:"center",children:(0,y.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,y.jsx)(P,{label:e.title,onClick:e.onClick,size:"large",color:"inherit",labelTypographyProps:{sx:{mt:1}},children:(0,y.jsx)(S,{children:e.icon})})})})},n)))})})})]}):(0,y.jsx)(w,{children:(0,y.jsx)(x.A,{direction:b?"row-reverse":"row",spacing:1,children:e.map(((e,n)=>(0,y.jsx)(j.UX,{authorize:e.authorize,children:(0,y.jsx)(h.A,{variant:"transparent",disableElevation:!0,startIcon:e.icon,onClick:e.onClick,...e.buttonProps,children:e.title})},n)))})})}}}]);
//# sourceMappingURL=2862.3d086ee0.chunk.js.map