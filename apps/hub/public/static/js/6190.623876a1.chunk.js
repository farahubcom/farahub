"use strict";(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[6190],{11692:(e,n,i)=>{i.d(n,{Z:()=>I});var s=i(66934),l=i(49877),t=i(68870),r=i(13967),o=i(95193),a=i(55931),d=i(39157),c=i(61889),x=i(36314),h=i(36151),p=i(57689),j=i(46019),m=i(28367),u=i(26386),Z=i(13400),g=i(20890),P=(i(72791),i(80184));const f=(0,s.ZP)(Z.Z)((({theme:e})=>({display:"flex",flexDirection:"column",minWidth:94.5}))),C=(0,s.ZP)("span")((({theme:e})=>({display:"inline-block"}))),b=(0,s.ZP)(g.Z)((({theme:e})=>({...e.typography.button,display:"inline-block"}))),y=({label:e,labelTypographyProps:n={},children:i,...s})=>(0,P.jsxs)(f,{...s,children:[(0,P.jsx)(C,{children:i}),e&&(0,P.jsx)(b,{...n,children:e})]});var v=i(26411);const k=(0,s.ZP)(l.Z)((({theme:e})=>({position:"fixed",bottom:`calc(${e.spacing(2)} + 48px)`,left:e.spacing(2),zIndex:100}))),w=(0,s.ZP)(t.Z)((({theme:e})=>({}))),S=(0,s.ZP)("span")((({theme:e})=>({border:"1px solid currentColor",borderRadius:"50%",padding:e.spacing(.75),display:"flex",alignItems:"center",justifyContent:"center"}))),I=({actions:e=[],ResponsiveActionComponent:n=k,responsiveActionProps:i={},ResponsiveActionIcon:s,showResponsiveOnDesktop:l=!1})=>{var t,Z;const g=(0,r.Z)(),f=(0,o.Z)(g.breakpoints.down("sm")),C=(0,p.s0)(),b="actions",{hasSegment:I,addSegment:z,removeSegment:D}=(0,u.Z)(),W=(0,m.Z)(),A=({children:n})=>e.length>1?(0,P.jsx)(P.Fragment,{children:n}):(0,P.jsx)(a.Z,{direction:"up",in:!W,mountOnEnter:!0,unmountOnExit:!0,children:n});return l||f?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(A,{children:(0,P.jsx)(n,{onClick:e.length>1?()=>C(z(b)):null===(t=e[0])||void 0===t?void 0:t.onClick,...i,children:e.length>1?s:null===(Z=e[0])||void 0===Z?void 0:Z.icon})}),e.length>0&&(0,P.jsx)(v.Z,{dialogProps:{fullWidth:!0,maxWidth:"xs"},open:I(b),onClose:()=>C(D(b),{replace:!0}),children:(0,P.jsx)(d.Z,{children:(0,P.jsx)(c.ZP,{container:!0,columns:3,children:e.map(((e,n)=>(0,P.jsx)(j.FY,{authorize:e.authorize,children:(0,P.jsx)(c.ZP,{item:!0,xs:1,alignItems:"center",justifyContent:"center",children:(0,P.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,P.jsx)(y,{label:e.title,onClick:e.onClick,size:"large",color:"inherit",labelTypographyProps:{sx:{mt:1}},children:(0,P.jsx)(S,{children:e.icon})})})})},n)))})})})]}):(0,P.jsx)(w,{children:(0,P.jsx)(x.Z,{direction:f?"row-reverse":"row",spacing:1,children:e.map(((e,n)=>(0,P.jsx)(j.FY,{authorize:e.authorize,children:(0,P.jsx)(h.Z,{variant:"transparent",disableElevation:!0,startIcon:e.icon,onClick:e.onClick,...e.buttonProps,children:e.title})},n)))})})}},39269:(e,n,i)=>{i.d(n,{Z:()=>D});var s=i(81598),l=i(57250),t=i(63872),r=i(66934),o=i(35855),a=i(68870),d=i(13239),c=i(39281),x=i(79836),h=i(53382),p=i(68745),j=i(93044),m=i(65661),u=i(13400),Z=i(94721),g=i(63466),P=i(97123),f=i(36151),C=i(72791),b=i(37398),y=i(18702),v=i(35065),k=i(70697),w=i(26411),S=i(80184);const I=(0,r.ZP)(o.Z)((({theme:e,hover:n,selected:i})=>({cursor:n?"pointer":"auto",backgroundColor:i?e.palette.action.hover:e.palette.common.white,"&:focus":{backgroundColor:e.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}))),z=({loading:e,modules:n,selected:i,onSelect:s,selectable:l})=>{const r=e=>!(!l||!i)&&(Array.isArray(i)?i.filter((n=>n.id===e.id)).length>0:i.id===e.id);return e?(0,S.jsx)(a.Z,{sx:{px:5,py:5,textAlign:"center"},children:(0,S.jsx)(d.Z,{})}):n.length<1?(0,S.jsxs)(a.Z,{sx:{px:5,py:5,textAlign:"center"},children:[(0,S.jsx)(t.Z,{fontSize:"large"}),(0,S.jsx)("p",{children:"\u0645\u0648\u0631\u062f\u06cc \u062c\u0647\u062a \u0646\u0645\u0627\u06cc\u0634 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f."})]}):(0,S.jsx)(c.Z,{sx:{overflow:"auto",maxHeight:400},children:(0,S.jsx)(x.Z,{stickyHeader:!0,size:"small",children:(0,S.jsx)(h.Z,{children:n.map(((e,n)=>(0,S.jsxs)(I,{selected:r(e),hover:l,onClick:()=>l&&s(e),children:[(0,S.jsx)(p.Z,{align:"center",children:n+1}),(0,S.jsx)(p.Z,{children:(0,S.jsxs)(a.Z,{sx:{display:"flex"},children:[(0,S.jsx)(j.Z,{src:e.picture,variant:"rounded",children:(0,S.jsx)(y.Z,{})}),(0,S.jsxs)(a.Z,{sx:{pl:2},children:[(0,S.jsx)("strong",{children:e.name}),(0,S.jsx)("br",{}),(0,S.jsx)(a.Z,{sx:{fontFamily:"Helvetica"},children:e.identifier})]})]})})]},n)))})})})},D=({open:e,onClose:n,selectable:i,selected:t,onSelect:r,onClear:o,queryParams:d={}})=>{const c=(0,v.dp)("core.modules"),[x,h]=(0,C.useState)(!0),[p,j]=(0,C.useState)([]),[y,I]=(0,C.useState)(""),D=(0,b.Z)(y,500);return(0,C.useEffect)((()=>{if(!e){const e=setTimeout((()=>{h(!0),""!==y&&I("")}),500);return()=>{clearTimeout(e)}}(async()=>{const{ok:e,data:n}=await c.list({...d,query:D,...""===y?{page:0,perPage:100}:{}});e&&(j(n),h(!1))})()}),[e,D]),(0,S.jsxs)(w.Z,{open:e,onClose:n,dialogProps:{fullWidth:!0,maxWidth:"xs"},children:[(0,S.jsxs)(m.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,S.jsx)(a.Z,{children:i?"\u0627\u0646\u062a\u062e\u0627\u0628 \u0645\u0627\u0698\u0648\u0644":"\u0645\u062f\u06cc\u0631\u06cc\u062a \u0645\u0627\u0698\u0648\u0644\u200c\u0647\u0627"}),(0,S.jsx)(u.Z,{onClick:n,size:"small",children:(0,S.jsx)(s.Z,{})})]}),(0,S.jsx)(Z.Z,{}),(0,S.jsx)(a.Z,{sx:{p:2},children:(0,S.jsx)(k.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",variant:"filled",label:"\u062c\u0633\u062a\u062c\u0648 \u0628\u0631\u0627\u0633\u0627\u0633 \u0646\u0627\u0645",value:y,onChange:e=>I(e.target.value),InputProps:{startAdornment:(0,S.jsx)(g.Z,{position:"start",children:(0,S.jsx)(l.Z,{})})}})}),(0,S.jsx)(z,{loading:x,modules:p,selectable:i,selected:t,onSelect:r}),(0,S.jsx)(Z.Z,{}),(0,S.jsxs)(P.Z,{children:[i&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(f.Z,{type:"button",onClick:n,children:"\u0628\u0633\u062a\u0646"}),(0,S.jsx)(a.Z,{sx:{flexGrow:1}})]}),o&&(0,S.jsx)(f.Z,{type:"button",onClick:o,children:"\u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646"}),!i&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(a.Z,{sx:{flexGrow:1}}),(0,S.jsx)(f.Z,{type:"button",onClick:n,children:"\u0627\u0646\u0635\u0631\u0627\u0641"})]})]})]})}},16190:(e,n,i)=>{i.r(n),i.d(n,{default:()=>pe});var s=i(42419),l=i(4390),t=i(18702),r=i(68870),o=i(57621),a=i(58518),d=i(72791),c=i(11087),x=i(35065),h=i(11692),p=i(61709),j=i(7175),m=i(99519),u=i(39705),Z=i(39027),g=i(95616),P=i(81598),f=i(97479),C=i(53329),b=i(63250),y=i(39709),v=i(65661),k=i(13400),w=i(94721),S=i(39157),I=i(61889),z=i(90493),D=i(15021),W=i(76278),A=i(57064),R=i(49900),F=i(91440),E=i(56125),L=i(63466),O=i(97123),q=i(36151),T=i(20139),V=i(26411),H=i(70697),M=i(54163),G=i(85818),U=i(78703),Y=i.n(U),N=i(2959),$=i(66934),B=i(80184);const J=(0,$.ZP)(r.Z)((({theme:e})=>({backgroundColor:"rgb(223, 227, 235)",border:"1px solid rgb(203, 214, 226)",width:"100%",borderRadius:"30000px",padding:"4px 8px",display:"flex",position:"relative",cursor:"pointer"}))),K=(0,$.ZP)("div")((({theme:e})=>({width:"calc(50% - 10px)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",lineHeight:"initial",zIndex:"2",textAlign:"center"}))),Q=(0,$.ZP)("div")((({theme:e})=>({fontSize:"11px",fontWeight:600}))),X=(0,$.ZP)("div")((({theme:e})=>({fontSize:"11px"}))),_=(0,$.ZP)("div")((({theme:e})=>({position:"absolute",height:"calc(100% + 6px)",width:"calc(50% + 6px)",background:"rgb(255, 255, 255)",borderRadius:"3000px",top:"-3px",border:"1px solid ".concat(e.palette.primary.main),transition:"all 0.2s ease-in-out 0s"}))),ee=({options:e,value:n,onChange:i,...s})=>(0,B.jsxs)(J,{...s,children:[e.map(((e,n)=>(0,B.jsxs)(K,{onClick:()=>i(e.value),children:[(0,B.jsx)(Q,{children:e.title}),e.subtitle&&(0,B.jsx)(X,{children:e.subtitle})]},n))).reduce(((e,n)=>[e,(0,B.jsx)("div",{style:{width:20}},new Date),n])),(0,B.jsx)(_,{style:{left:n===e[1].value?"-3px":"calc(50% - 3px)"}})]}),ne=({defaultValue:e,open:n,onClose:i,dialogProps:s={},dialogTitle:l,onSubmit:t})=>{const[o,a]=(0,d.useState)(e),[c,x]=(0,d.useState)("editor");return(0,d.useEffect)((()=>{n&&a(e)}),[e]),(0,B.jsxs)(V.Z,{open:n,onClose:i,dialogProps:{fullWidth:!0,maxWidth:"md",...s},children:[(0,B.jsxs)(v.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,B.jsx)(r.Z,{children:l||"\u0645\u0639\u0631\u0641\u06cc \u0646\u0627\u0645\u0647"}),(0,B.jsx)(k.Z,{onClick:i,size:"small",children:(0,B.jsx)(P.Z,{})})]}),(0,B.jsx)(w.Z,{}),(0,B.jsxs)(S.Z,{sx:{p:0},children:[(0,B.jsx)(ee,{value:c,sx:{width:"200px",mx:"auto",my:2},options:[{title:"\u0648\u06cc\u0631\u0627\u06cc\u0634",value:"editor"},{title:"\u067e\u06cc\u0634\u0646\u0645\u0627\u06cc\u0634",value:"preview"}],onChange:e=>x(e)}),(0,B.jsx)(r.Z,{sx:{minHeight:250},children:"editor"===c?(0,B.jsx)(G.ZP,{fullWidth:!0,value:o,onChange:e=>a(e.target.value),multiline:!0,rows:9,placeholder:"\u0645\u0627\u0698\u0648\u0644 \u0631\u0627 \u0645\u0639\u0631\u0641\u06cc \u06a9\u0646\u06cc\u062f...",sx:{p:2}}):(0,B.jsx)(N.Z,{breaks:!0,children:Y().sanitize(o)})})]}),(0,B.jsx)(w.Z,{}),(0,B.jsx)(O.Z,{children:(0,B.jsx)(q.Z,{variant:"contained",onClick:()=>t(o),children:"\u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"})})]})};var ie=i(39269);const se=({open:e,onClose:n,defaultValues:i,onCreateOrUpdate:s,requestConfig:l})=>{const t=(0,x.dp)("core.modules"),o=(0,x.Co)("Categories.CategoriesDialog"),a={name:"",identifier:"",monthlyCost:"",description:"",micro:!1,maintenance:!1,readme:"",hourlyCostFactorPercent:"",trimesterlyDiscount:"",semiannuallyDiscount:"",annuallyDiscount:"",categories:[],dependencies:[],...i},{register:c,reset:h,loading:p,getValue:j,setValue:m,handleSubmit:G}=(0,M.Z)({initialValues:a,handlePost:e=>t.createOrUpdate(e,l),onSubmit:s});(0,d.useEffect)((()=>{e&&h(a)}),[e]);const[U,Y]=(0,d.useState)({open:!1}),[N,$]=(0,d.useState)({open:!1}),[J,K]=(0,d.useState)({open:!1});return(0,B.jsxs)(V.Z,{open:e,onClose:n,dialogProps:{fullWidth:!0,maxWidth:"sm"},children:[(0,B.jsxs)(v.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,B.jsx)(r.Z,{children:i?"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0628\u0631\u0646\u0627\u0645\u0647":"\u062b\u0628\u062a \u0628\u0631\u0646\u0627\u0645\u0647"}),(0,B.jsx)(k.Z,{onClick:n,size:"small",children:(0,B.jsx)(P.Z,{})})]}),(0,B.jsx)(w.Z,{}),(0,B.jsxs)(S.Z,{sx:{p:0},children:[(0,B.jsxs)(I.ZP,{container:!0,spacing:2,sx:{p:2},children:[(0,B.jsx)(I.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(H.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",label:"\u0646\u0627\u0645 \u0628\u0631\u0646\u0627\u0645\u0647",variant:"filled",required:!0,...c("name")})}),(0,B.jsx)(I.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(H.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",label:"\u0634\u0646\u0627\u0633\u0647 \u0628\u0631\u0646\u0627\u0645\u0647",variant:"filled",required:!0,dir:"ltr",...c("identifier")})})]}),(0,B.jsx)(w.Z,{}),(0,B.jsxs)(z.Z,{disablePadding:!0,dense:!0,children:[(0,B.jsx)(D.ZP,{disablePadding:!0,divider:!0,children:(0,B.jsxs)(W.Z,{onClick:()=>m("micro",!j("micro")),children:[(0,B.jsx)(A.Z,{children:(0,B.jsx)(f.Z,{})}),(0,B.jsx)(R.Z,{primary:"\u0628\u0631\u0646\u0627\u0645\u0647 \u0645\u06cc\u06a9\u0631\u0648",secondary:"\u0645\u06cc\u06a9\u0631\u0648 \u0628\u0631\u0646\u0627\u0645\u0647\u060c \u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0647\u0627\u06cc\u06cc \u0647\u0633\u062a\u0646\u062f \u06a9\u0647 \u0628\u0631\u0627\u06cc \u062a\u0648\u0633\u0639\u0647 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc\u200c\u0634\u0648\u0646\u062f \u0648 \u0642\u0627\u0628\u0644 \u0646\u0635\u0628 \u0645\u0633\u062a\u0642\u06cc\u0645 \u062a\u0648\u0633\u0637 \u06a9\u0627\u0631\u0628\u0631 \u0646\u0645\u06cc\u200c\u0628\u0627\u0634\u0646\u062f."}),(0,B.jsx)(F.Z,{edge:"end",onClick:()=>m("micro",!j("micro")),checked:j("micro"),inputProps:{"aria-labelledby":"switch-list-label-bluetooth"}})]})}),(0,B.jsx)(D.ZP,{disablePadding:!0,children:(0,B.jsxs)(W.Z,{onClick:()=>m("maintenance",!j("maintenance")),children:[(0,B.jsx)(A.Z,{children:(0,B.jsx)(u.Z,{})}),(0,B.jsx)(R.Z,{primary:"\u062f\u0631 \u062d\u0627\u0644 \u062a\u0648\u0633\u0639\u0647"}),(0,B.jsx)(F.Z,{edge:"end",onClick:()=>m("maintenance",!j("maintenance")),checked:j("maintenance"),inputProps:{"aria-labelledby":"switch-list-label-bluetooth"}})]})})]}),(0,B.jsx)(w.Z,{}),(0,B.jsxs)(E.Z,{in:!j("micro"),children:[(0,B.jsxs)(I.ZP,{container:!0,spacing:2,sx:{p:2},children:[(0,B.jsx)(I.ZP,{item:!0,xs:12,md:12,children:(0,B.jsx)(H.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",label:"\u0634\u0631\u062d \u0628\u0631\u0646\u0627\u0645\u0647",variant:"filled",multiline:!0,rows:5,...c("description")})}),(0,B.jsx)(I.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(T.Z,{fullWidth:!0,size:"small",label:"\u0647\u0632\u06cc\u0646\u0647 \u0645\u0627\u0647\u06cc\u0627\u0646\u0647",dir:"ltr",variant:"filled",InputProps:{startAdornment:(0,B.jsx)(L.Z,{position:"start",children:(0,B.jsx)("small",{children:"\u062a\u0648\u0645\u0627\u0646"})})},value:j("monthlyCost")?j("monthlyCost").IRR:"",...c("monthlyCost",["value"])})}),(0,B.jsx)(I.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(H.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,type:"number",size:"small",label:"\u0641\u0627\u06a9\u062a\u0648\u0631 \u0645\u062d\u0627\u0633\u0628\u0647 \u0633\u0627\u0639\u062a\u06cc",variant:"filled",InputProps:{startAdornment:(0,B.jsx)(L.Z,{position:"start",children:(0,B.jsx)("small",{children:"%"})})},dir:"ltr",...c("hourlyCostFactorPercent")})}),(0,B.jsx)(I.ZP,{item:!0,xs:12,md:4,children:(0,B.jsx)(H.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,type:"number",size:"small",label:"\u062a\u062e\u0641\u06cc\u0641 \u0633\u0647 \u0645\u0627\u0647\u0647",variant:"filled",InputProps:{startAdornment:(0,B.jsx)(L.Z,{position:"start",children:(0,B.jsx)("small",{children:"%"})})},dir:"ltr",...c("trimesterlyDiscount")})}),(0,B.jsx)(I.ZP,{item:!0,xs:12,md:4,children:(0,B.jsx)(H.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,type:"number",size:"small",label:"\u062a\u062e\u0641\u06cc\u0641 \u0634\u0634 \u0645\u0627\u0647\u0647",variant:"filled",InputProps:{startAdornment:(0,B.jsx)(L.Z,{position:"start",children:(0,B.jsx)("small",{children:"%"})})},dir:"ltr",...c("semiannuallyDiscount")})}),(0,B.jsx)(I.ZP,{item:!0,xs:12,md:4,children:(0,B.jsx)(H.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,type:"number",size:"small",label:"\u062a\u062e\u0641\u06cc\u0641 \u0633\u0627\u0644\u06cc\u0627\u0646\u0647",variant:"filled",InputProps:{startAdornment:(0,B.jsx)(L.Z,{position:"start",children:(0,B.jsx)("small",{children:"%"})})},dir:"ltr",...c("annuallyDiscount")})})]}),(0,B.jsxs)(z.Z,{disablePadding:!0,dense:!0,children:[(0,B.jsx)(D.ZP,{disablePadding:!0,divider:!0}),(0,B.jsx)(D.ZP,{disablePadding:!0,children:(0,B.jsxs)(W.Z,{onClick:()=>Y({open:!0}),children:[(0,B.jsx)(A.Z,{children:(0,B.jsx)(b.Z,{})}),(0,B.jsx)(R.Z,{primary:"\u0648\u0627\u0628\u0633\u062a\u06af\u06cc\u200c\u0647\u0627",secondary:j("dependencies")&&j("dependencies").length>0?(0,B.jsx)("strong",{children:j("dependencies").map((e=>e.name)).join(", ")}):"\u0628\u0631\u0627\u06cc \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f."})]})}),(0,B.jsx)(D.ZP,{disablePadding:!0,divider:!0}),(0,B.jsx)(D.ZP,{disablePadding:!0,children:(0,B.jsxs)(W.Z,{onClick:()=>K({open:!0}),children:[(0,B.jsx)(A.Z,{children:(0,B.jsx)(g.Z,{})}),(0,B.jsx)(R.Z,{primary:"\u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc\u200c\u0647\u0627",secondary:j("categories")&&j("categories").length>0?(0,B.jsx)("strong",{children:j("categories").map((e=>e.name)).join(", ")}):"\u0628\u0631\u0627\u06cc \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f."})]})}),(0,B.jsx)(D.ZP,{disablePadding:!0,divider:!0}),(0,B.jsx)(D.ZP,{disablePadding:!0,children:(0,B.jsxs)(W.Z,{onClick:()=>$({open:!0,defaultValue:j("readme")}),children:[(0,B.jsx)(A.Z,{children:(0,B.jsx)(Z.Z,{})}),(0,B.jsx)(R.Z,{primary:"\u0645\u0639\u0631\u0641\u06cc\u200c\u0646\u0627\u0645\u0647",secondary:"\u0628\u0631\u0627\u06cc \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f."})]})})]})]})]}),(0,B.jsx)(w.Z,{}),(0,B.jsxs)(O.Z,{children:[(0,B.jsx)(y.Z,{loading:p,loadingPosition:"start",type:"submit",variant:"contained",startIcon:(0,B.jsx)(C.Z,{}),onClick:G,children:"\u062b\u0628\u062a \u0645\u0634\u062e\u0635\u0627\u062a"}),(0,B.jsx)(r.Z,{sx:{flexGrow:1}}),(0,B.jsx)(q.Z,{type:"button",onClick:n,children:"\u0627\u0646\u0635\u0631\u0627\u0641"})]}),(0,B.jsx)(ie.Z,{...U,queryParams:{includeMicros:!0},onClose:()=>Y({open:!1}),selectable:!0,selected:j("dependencies"),onSelect:e=>m("dependencies",j("dependencies").filter((n=>n.id===e.id)).length>0?j("dependencies").filter((n=>n.id!==e.id)):[...j("dependencies"),e])}),(0,B.jsx)(o,{...J,label:"workspace",onClose:()=>K({open:!1}),selectable:!0,selected:j("categories"),onSelect:e=>m("categories",j("categories").filter((n=>n.id===e.id)).length>0?j("categories").filter((n=>n.id!==e.id)):[...j("categories"),e]),requestConfig:{transformRequest:[(e,n)=>(delete n.common["Workspace-ID"],e)]}}),(0,B.jsx)(ne,{...N,dialogTitle:"\u0645\u0639\u0631\u0641\u06cc\u200c\u0646\u0627\u0645\u0647 \u0628\u0631\u0646\u0627\u0645\u0647",onClose:()=>$({open:!1}),onSubmit:e=>{m("readme",e),$({open:!1})}})]})};var le=i(90503),te=i(88471),re=i(93044),oe=i(20653),ae=i(78925),de=i(75669),ce=i(79698),xe=i(25863);const he=({loading:e,modules:n,meta:i,infiniteScrollProps:s,onClickEdit:l})=>{const[o,a]=(0,d.useState)({open:!1}),[x,h]=(0,c.lr)();return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(ae.Z,{data:n,loading:e,infiniteScrollProps:s,tableRowProps:e=>({disabled:e.maintenance}),definitions:[{title:"\u0631\u062f\u06cc\u0641",headerCellProps:{align:"center"},rowCellProps:{align:"center"},renderCell:(e,n)=>(0,B.jsx)(de.Z,{children:n+1})},{title:"\u0628\u0631\u0646\u0627\u0645\u0647",renderCell:e=>(0,B.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,B.jsx)(re.Z,{src:e.picture,sx:{width:75,height:75},variant:"rounded",children:e.micro?(0,B.jsx)(f.Z,{fontSize:"large"}):(0,B.jsx)(t.Z,{fontSize:"large"})}),(0,B.jsxs)(r.Z,{sx:{pl:2},children:[(0,B.jsx)("strong",{style:{whiteSpace:"nowrap"},children:(0,B.jsx)(de.Z,{children:e.name})}),(0,B.jsx)("br",{}),(0,B.jsx)(r.Z,{children:e.identifier})]}),e.micro&&(0,B.jsx)(ce.Z,{title:"\u0645\u06cc\u06a9\u0631\u0648 \u0628\u0631\u0646\u0627\u0645\u06a9",children:(0,B.jsx)(f.Z,{sx:{ml:2},fontSize:"small"})}),e.maintenance&&(0,B.jsx)(ce.Z,{title:"\u062f\u0631 \u062d\u0627\u0644 \u062a\u0648\u0633\u0639\u0647",children:(0,B.jsx)(u.Z,{sx:{ml:2},fontSize:"small"})})]})},{title:"\u0634\u0631\u062d \u0645\u062e\u062a\u0635\u0631",renderList:e=>e.description?(0,B.jsx)(de.Z,{children:e.description}):"-"},{field:"monthlyCost",headerCellProps:{align:"center",width:150},rowCellProps:{align:"center"},title:(0,B.jsxs)(r.Z,{component:"span",children:["\u0647\u0632\u06cc\u0646\u0647 \u0645\u0627\u0647\u06cc\u0627\u0646\u0647 ",(0,B.jsx)("small",{children:"(\u062a\u0648\u0645\u0627\u0646)"})]}),render:e=>e.monthlyCost?(0,B.jsx)(de.Z,{children:(0,xe.Z)(e.monthlyCost.IRR)}):"-"},{field:"hourlyCostFactorPercent",headerCellProps:{align:"center",width:150},rowCellProps:{align:"center"},title:(0,B.jsxs)(r.Z,{component:"span",children:["\u0641\u0627\u06a9\u062a\u0648\u0631 \u0647\u0632\u06cc\u0646\u0647 \u0633\u0627\u0639\u062a\u06cc ",(0,B.jsx)("small",{children:"(%)"})]}),render:e=>e.hourlyCostFactorPercent?(0,B.jsx)(de.Z,{children:e.hourlyCostFactorPercent}):"-"},{field:"trimesterlyDiscount",headerCellProps:{align:"center",width:150},rowCellProps:{align:"center"},title:(0,B.jsxs)(r.Z,{component:"span",children:["\u062a\u062e\u0641\u06cc\u0641 \u0633\u0647 \u0645\u0627\u0647\u0647 ",(0,B.jsx)("small",{children:"(%)"})]}),render:e=>e.trimesterlyDiscount?(0,B.jsx)(de.Z,{children:e.trimesterlyDiscount}):"-"},{field:"semiannuallyDiscount",headerCellProps:{align:"center",width:150},rowCellProps:{align:"center"},title:(0,B.jsxs)(r.Z,{component:"span",children:["\u062a\u062e\u0641\u06cc\u0641 \u0634\u0634 \u0645\u0627\u0647\u0647 ",(0,B.jsx)("small",{children:"(%)"})]}),render:e=>e.semiannuallyDiscount?(0,B.jsx)(de.Z,{children:e.semiannuallyDiscount}):"-"},{field:"annuallyDiscount",headerCellProps:{align:"center",width:150},rowCellProps:{align:"center"},title:(0,B.jsxs)(r.Z,{component:"span",children:["\u062a\u062e\u0641\u06cc\u0641 \u0633\u0627\u0644\u06cc\u0627\u0646\u0647 ",(0,B.jsx)("small",{children:"(%)"})]}),render:e=>e.annuallyDiscount?(0,B.jsx)(de.Z,{children:e.annuallyDiscount}):"-"},{title:"\u0648\u0627\u0628\u0633\u062a\u06af\u06cc\u200c\u0647\u0627",headerCellProps:{width:200},render:e=>e.dependencies&&e.dependencies.length>0?e.dependencies.map((e=>e.name)).join(", "):"-"},{title:"\u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc\u200c\u0647\u0627",headerCellProps:{width:200},render:e=>e.categories&&e.categories.length>0?e.categories.map((e=>e.name)).join(", "):"-"},{title:"\u062f\u0633\u062a\u0647\u200c\u0647\u0627\u06cc \u06a9\u0633\u0628\u200c\u0648\u200c\u06a9\u0627\u0631",headerCellProps:{width:200},render:e=>e.workspacesCategories&&e.workspacesCategories.length>0?e.workspacesCategories.map((e=>e.name)).join(", "):"-"}],renderSheetTitle:e=>e.name,renderListItemChildren:e=>(0,B.jsxs)(W.Z,{children:[(0,B.jsx)(oe.Z,{children:(0,B.jsx)(re.Z,{src:e.picture,variant:"rounded",children:(0,B.jsx)(t.Z,{})})}),(0,B.jsx)(R.Z,{primary:(0,B.jsx)("strong",{children:e.name}),secondary:(0,B.jsx)(r.Z,{component:"span",children:e.identifier})})]}),paginationProps:{count:i.total,rowsPerPage:x.get("perPage")||25,page:x.get("page")||0,onPageChange:(e,n)=>h({...Object.fromEntries([...x]),page:n}),onRowsPerPageChange:e=>h({...Object.fromEntries([...x]),perPage:e.target.value})},actions:[{title:"\u0648\u06cc\u0631\u0627\u06cc\u0634",icon:(0,B.jsx)(te.Z,{}),onClick:l,authorize:({hasRole:e,hasPermission:n})=>e("owner")||n("core.modules.edit")},{title:"\u062d\u0630\u0641",icon:(0,B.jsx)(le.Z,{}),onClick:e=>alert("Delete module entirely"),authorize:({hasRole:e,hasPermission:n})=>e("owner")||n("core.modules.delete")}]}),(0,B.jsx)(ne,{onClose:()=>a({open:!1}),...o})]})},pe=()=>{const e=(0,x.dp)("core.modules"),[n]=(0,c.lr)(),{data:i,total:u,loading:Z,loadMore:g,reload:P}=(0,m.Z)({handleFetch:i=>e.list({...i,includeMicros:!0,includeInMaintenance:!0,...Object.fromEntries([...n])}),loadDeps:[n],infiniteScrollDefaultParams:{page:n.has("page")?n.get("page"):0,perPage:n.has("perPage")?n.get("perPage"):25}}),{enqueueSnackbar:f}=(0,a.Ds)(),[C,b]=(0,d.useState)({open:!1}),y=e=>{f(e),b({open:!1}),P()};return(0,B.jsx)(j.xf,{title:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0647\u0627",Icon:t.Z,children:(0,B.jsxs)(p.Z,{children:[(0,B.jsxs)(r.Z,{sx:{display:"flex",mb:{xs:0,sm:1}},children:[(0,B.jsx)(r.Z,{sx:{flexGrow:1}}),(0,B.jsx)(h.Z,{actions:[{title:"\u0628\u0631\u0646\u0627\u0645\u0647 \u062c\u062f\u06cc\u062f",icon:(0,B.jsx)(s.Z,{}),onClick:()=>b({open:!0,onCreateOrUpdate:e=>y("\u0645\u0634\u062e\u0635\u0627\u062a \u0628\u0631\u0646\u0627\u0645\u0647 \u062b\u0628\u062a \u06af\u0631\u062f\u06cc\u062f.")})}],ResponsiveActionIcon:(0,B.jsx)(l.Z,{}),responsiveActionProps:{color:"primary"}})]}),(0,B.jsx)(o.Z,{variant:"outlined",children:(0,B.jsx)(he,{modules:i,loading:Z,meta:{total:u},infiniteScrollProps:{loading:!1,hasNextPage:i.length<u,onLoadMore:g},onClickEdit:e=>b({open:!0,defaultValues:e,onCreateOrUpdate:e=>y("\u0645\u0634\u062e\u0635\u0627\u062a \u0628\u0631\u0646\u0627\u0645\u0647 \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u06af\u0631\u062f\u06cc\u062f.")})})}),(0,B.jsx)(se,{...C,onClose:()=>b({open:!1})})]})})}}}]);
//# sourceMappingURL=6190.623876a1.chunk.js.map