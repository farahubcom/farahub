"use strict";(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[3438],{23438:(e,r,t)=>{t.r(r),t.d(r,{default:()=>O});var i=t(44413),o=t(81e3),n=t(88911),a=t(12110),s=t(20819),l=t.n(s),d=t(87424),c=t.n(d),h=t(46987),p=t(35475),u=t(18012),g=t(30370),m=t(97324),x=t(56976),A=t(20694),b=t(11107),v=t(18611),y=t(74175),j=t(34535),w=t(85865),f=t(38968),C=t(26353),k=t(28359),P=t(65043),S=t(66789),z=t(12766),R=t(32665),I=t(27800),F=t(70579);const M=(0,j.Ay)(w.A)((({theme:e})=>({overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"2"}))),H=({loading:e,data:r,meta:t,infiniteScrollProps:i})=>{const{inject:n}=(0,g.As)(),[a,s]=(0,p.ok)(),[d,h]=(0,P.useState)(a.has("sort")?a.get("sort"):"-createdAt");(0,R.A)((()=>{s({...Object.fromEntries(a),sort:d})}),[d]);const u=(0,I.A)();return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(S.A,{data:r,loading:e,infiniteScrollProps:i,definitions:c()([{title:"\u0631\u062f\u06cc\u0641",headerCellProps:{align:"center"},rowCellProps:{align:"center",width:100},renderCell:(e,r)=>(0,F.jsx)(z.A,{children:u(r)}),priority:100},{title:"\u06af\u06cc\u0631\u0646\u062f\u0647",rowCellProps:{width:100},renderCell:e=>(0,F.jsx)(o.A,{sx:{display:"flex",alignItems:"center"},children:(0,F.jsx)("strong",{children:(0,F.jsx)(z.A,{children:e.receiver})})}),priority:200},{field:"content",title:"\u0645\u062a\u0646 \u067e\u06cc\u0627\u0645\u06a9",rowCellProps:{width:300},render:e=>(0,F.jsx)(M,{whiteSpace:"pre",children:(0,F.jsx)(z.A,{children:e.content})})||"-",priority:300},{field:"count",title:"\u062a\u0639\u062f\u0627\u062f \u067e\u06cc\u0627\u0645\u06a9",rowCellProps:{width:100},priority:400},{field:"sentAt",title:"\u062a\u0627\u0631\u06cc\u062e \u0627\u0631\u0633\u0627\u0644",rowCellProps:{width:100},render:e=>(0,F.jsx)(z.A,{children:(0,k.A)(new Date(e.sentAt),"yyyy/MM/dd HH:mm")})||"-",priority:500},{field:"status",title:"\u0648\u0636\u0639\u06cc\u062a",rowCellProps:{width:100},priority:600},...l()(n("Sms","History.definitions")||[])],(e=>e.priority)),renderSheetTitle:e=>(0,F.jsx)(M,{whiteSpace:"pre",children:(0,F.jsx)(z.A,{children:e.content})}),renderListItemChildren:e=>(0,F.jsx)(f.A,{children:(0,F.jsx)(C.A,{primary:(0,F.jsx)(M,{whiteSpace:"pre",children:(0,F.jsx)(z.A,{children:e.content})})})}),tableRowProps:e=>({striped:!0}),paginationProps:{count:t.total,rowsPerPage:a.get("perPage")||25,page:a.get("page")||0,onPageChange:(e,r)=>s({...Object.fromEntries([...a]),page:r}),onRowsPerPageChange:e=>s({...Object.fromEntries([...a]),perPage:e.target.value})}})})},O=()=>{const{inject:e}=(0,g.As)(),r=(0,u.Mv)("Sms.main"),[t]=(0,p.ok)(),{data:s,total:d,loading:j,loadMore:w,reload:f}=((0,v.A)(),(0,y.A)({handleFetch:e=>r.list({...e,...Object.fromEntries([...t])}),loadDeps:[t],infiniteScrollDefaultParams:{page:t.has("page")?t.get("page"):0,perPage:t.has("perPage")?t.get("perPage"):25}})),{enqueueSnackbar:C}=(0,h.dh)(),[k,P,S]=(0,b.A)("form"),[z,R,I]=(0,b.A)("delete",{hashDeps:["person"]}),M=Object.assign({},...e("Sms","History.Hooks")||[]),O=(0,u.b7)("Sms.history");return(0,F.jsx)(A.JQ,{...O,children:(0,F.jsxs)(x.A,{children:[(0,F.jsxs)(o.A,{sx:{display:"flex",mb:{xs:0,sm:1}},children:[(0,F.jsx)(o.A,{sx:{flexGrow:1}}),(0,F.jsx)(n.A,{direction:"row",spacing:1,children:(0,F.jsx)(m.A,{actions:c()([...l()(e("Sms","History.ActionsList",{data:s,loading:j,reload:f,...M})||[])],(e=>e.priority)),ResponsiveActionIcon:(0,F.jsx)(i.A,{}),responsiveActionProps:{color:"primary"}})})]}),(0,F.jsx)(a.A,{variant:"outlined",sx:{flexGrow:1},children:(0,F.jsx)(H,{data:s,loading:j,meta:{total:d},infiniteScrollProps:{loading:!1,hasNextPage:s.length<d,onLoadMore:w},onClickEdit:e=>{P({defaultValues:e,onCreateOrUpdate:()=>(C("\u0645\u0634\u062e\u0635\u0627\u062a \u0634\u062e\u0635 \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u06af\u0631\u062f\u06cc\u062f."),f(),void S())})},onClickDelete:(e,r)=>{R({person:e,permanent:r})}})}),e("Sms","History.Footer",{data:s,loading:j,reload:f,...M})]})})}},24010:(e,r,t)=>{t.d(r,{A:()=>y});var i=t(98587),o=t(58168),n=t(65043),a=t(58387),s=t(65049),l=t(75429),d=t(9848),c=t(98206),h=t(14987),p=t(60239);function u(e){return(0,p.Ay)("MuiFab",e)}const g=(0,h.A)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var m=t(34535),x=t(61475),A=t(70579);const b=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],v=(0,m.Ay)(l.A,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,x.A)(e)||"classes"===e,overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`size${(0,d.A)(t.size)}`],"inherit"===t.color&&r.colorInherit,r[(0,d.A)(t.size)],r[t.color]]}})((({theme:e,ownerState:r})=>{var t,i;return(0,o.A)({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:null==(t=(i=e.palette).getContrastText)?void 0:t.call(i,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${g.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},"small"===r.size&&{width:40,height:40},"medium"===r.size&&{width:48,height:48},"extended"===r.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===r.variant&&"small"===r.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===r.variant&&"medium"===r.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===r.color&&{color:"inherit"})}),(({theme:e,ownerState:r})=>(0,o.A)({},"inherit"!==r.color&&"default"!==r.color&&null!=(e.vars||e).palette[r.color]&&{color:(e.vars||e).palette[r.color].contrastText,backgroundColor:(e.vars||e).palette[r.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[r.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[r.color].main}}})),(({theme:e})=>({[`&.${g.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}))),y=n.forwardRef((function(e,r){const t=(0,c.b)({props:e,name:"MuiFab"}),{children:n,className:l,color:h="default",component:p="button",disabled:g=!1,disableFocusRipple:m=!1,focusVisibleClassName:x,size:y="large",variant:j="circular"}=t,w=(0,i.A)(t,b),f=(0,o.A)({},t,{color:h,component:p,disabled:g,disableFocusRipple:m,size:y,variant:j}),C=(e=>{const{color:r,variant:t,classes:i,size:n}=e,a={root:["root",t,`size${(0,d.A)(n)}`,"inherit"===r?"colorInherit":r]},l=(0,s.A)(a,u,i);return(0,o.A)({},i,l)})(f);return(0,A.jsx)(v,(0,o.A)({className:(0,a.A)(C.root,l),component:p,disabled:g,focusRipple:!m,focusVisibleClassName:(0,a.A)(C.focusVisible,x),ownerState:f,ref:r},w,{classes:C,children:n}))}))},44413:(e,r,t)=>{var i=t(24994);r.A=void 0;var o=i(t(40039)),n=t(70579);r.A=(0,o.default)((0,n.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"MenuOutlined")},97324:(e,r,t)=>{t.d(r,{A:()=>z});var i=t(34535),o=t(24010),n=t(81e3),a=t(26240),s=t(79285),l=t(24836),d=t(35316),c=t(68903),h=t(88911),p=t(8302),u=t(73216),g=t(30370),m=t(54049),x=t(30298),A=t(17392),b=t(85865),v=(t(65043),t(70579));const y=(0,i.Ay)(A.A)((({theme:e})=>({display:"flex",flexDirection:"column",minWidth:94.5}))),j=(0,i.Ay)("span")((({theme:e})=>({display:"inline-block"}))),w=(0,i.Ay)(b.A)((({theme:e})=>({...e.typography.button,display:"inline-block"}))),f=({label:e,labelTypographyProps:r={},children:t,...i})=>(0,v.jsxs)(y,{...i,children:[(0,v.jsx)(j,{children:t}),e&&(0,v.jsx)(w,{...r,children:e})]});var C=t(99275);const k=(0,i.Ay)(o.A)((({theme:e})=>({position:"fixed",bottom:`calc(${e.spacing(2)} + 48px)`,left:e.spacing(2),zIndex:100}))),P=(0,i.Ay)(n.A)((({theme:e})=>({}))),S=(0,i.Ay)("span")((({theme:e})=>({border:"1px solid currentColor",borderRadius:"50%",padding:e.spacing(.75),display:"flex",alignItems:"center",justifyContent:"center"}))),z=({actions:e=[],ResponsiveActionComponent:r=k,responsiveActionProps:t={},ResponsiveActionIcon:i,showResponsiveOnDesktop:o=!1})=>{var n,A;const b=(0,a.A)(),y=(0,s.A)(b.breakpoints.down("sm")),j=(0,u.Zp)(),w="actions",{hasSegment:z,addSegment:R,removeSegment:I}=(0,x.A)(),F=(0,m.A)(),M=({children:r})=>e.length>1?(0,v.jsx)(v.Fragment,{children:r}):(0,v.jsx)(l.A,{direction:"up",in:!F,mountOnEnter:!0,unmountOnExit:!0,children:r});return o||y?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(M,{children:(0,v.jsx)(r,{onClick:e.length>1?()=>j(R(w)):null===(n=e[0])||void 0===n?void 0:n.onClick,...t,children:e.length>1?i:null===(A=e[0])||void 0===A?void 0:A.icon})}),e.length>0&&(0,v.jsx)(C.A,{dialogProps:{fullWidth:!0,maxWidth:"xs"},open:z(w),onClose:()=>j(I(w),{replace:!0}),children:(0,v.jsx)(d.A,{children:(0,v.jsx)(c.Ay,{container:!0,columns:3,children:e.map(((e,r)=>(0,v.jsx)(g.UX,{authorize:e.authorize,children:(0,v.jsx)(c.Ay,{item:!0,xs:1,alignItems:"center",justifyContent:"center",children:(0,v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,v.jsx)(f,{label:e.title,onClick:e.onClick,size:"large",color:"inherit",labelTypographyProps:{sx:{mt:1}},children:(0,v.jsx)(S,{children:e.icon})})})})},r)))})})})]}):(0,v.jsx)(P,{children:(0,v.jsx)(h.A,{direction:y?"row-reverse":"row",spacing:1,children:e.map(((e,r)=>(0,v.jsx)(g.UX,{authorize:e.authorize,children:(0,v.jsx)(p.A,{variant:"transparent",disableElevation:!0,startIcon:e.icon,onClick:e.onClick,...e.buttonProps,children:e.title})},r)))})})}}}]);
//# sourceMappingURL=3438.b3427ef6.chunk.js.map