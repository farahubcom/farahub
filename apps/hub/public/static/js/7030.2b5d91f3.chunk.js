(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[7030],{23287:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n,s=i(42907),l=i.n(s);class r{}n=r,r.getItemPureTotal=e=>e.amount*e.unitPrice,r.getItemDiscountPrice=e=>e.discount||0,r.getItemTotalPrice=e=>n.getItemPureTotal(e)-n.getItemDiscountPrice(e),r.getFactorPrice=(e,t)=>("PRICE"===t.unit?t.amount:t.amount/100*n.getInvoiceSubtotal(e))*("REDUCER"===t.type?-1:1),r.getInvoiceSubtotal=e=>l()(e,(e=>n.getItemTotalPrice(e))),r.getInvoiceTotal=(e,t)=>Number(n.getInvoiceSubtotal(e))+l()(t,(t=>n.getFactorPrice(e,t)));const c=r},42907:(e,t,i)=>{var n=i(9096),s=i(99910);e.exports=function(e,t){return e&&e.length?s(e,n(t,2)):0}},49030:(e,t,i)=>{var n=i(56552).isFinite;e.exports=function(e){return"number"==typeof e&&n(e)}},57030:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>P});var n=i(34535),s=i(28076),l=i(79650),r=i(71806),c=i(84882),a=i(39652),o=i(73460),d=i(81e3),x=i(85865),h=i(49030),u=i.n(h),A=i(65043),j=i(73216),m=i(18012),g=i(30370),v=i(5142),p=i(4398),b=i(23287),f=i(70579);const I=(0,n.Ay)(s.A)((({theme:e})=>({"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}))),P=()=>{var e;const{inject:t}=(0,g.As)(),i=(0,m.Mv)("Online-Booking.Main"),n=(0,j.g)(),[h,P]=(0,A.useState)(!0),[T,y]=(0,A.useState)();(0,A.useEffect)((()=>{(async()=>{P(!0);const e=await i.details(n.reservationId);e.ok&&(y(e.reservation),P(!1))})()}),[n.reservationId]);const w=(0,A.useMemo)((()=>T&&T.items?b.A.getInvoiceTotal(T.items,T.factors):0),[T]);return h?(0,f.jsx)(v.A,{size:"small"}):(0,f.jsx)(l.A,{children:(0,f.jsxs)(r.A,{size:"small",stickyHeader:!0,children:[(0,f.jsx)(c.A,{children:(0,f.jsxs)(s.A,{children:[(0,f.jsx)(a.A,{align:"center",children:"#"}),(0,f.jsx)(a.A,{align:"center",children:"\u06a9\u062f"}),(0,f.jsx)(a.A,{children:"\u0634\u0631\u062d"}),t("invoices","InvoiceItemsTable.HeadCells.AfterTitle"),(0,f.jsx)(a.A,{align:"center",children:"\u062a\u0639\u062f\u0627\u062f"}),(0,f.jsxs)(a.A,{align:"center",children:["\u0641\u06cc ",(0,f.jsx)("small",{children:"(\u0631\u06cc\u0627\u0644)"})]}),(0,f.jsx)(a.A,{align:"center",children:"\u062a\u062e\u0641\u06cc\u0641"}),(0,f.jsx)(a.A,{align:"center",children:"\u0645\u062c\u0645\u0648\u0639"})]})}),(0,f.jsxs)(o.A,{children:[T.items.map(((e,i)=>(0,f.jsxs)(I,{children:[(0,f.jsx)(a.A,{align:"center",children:i+1}),(0,f.jsx)(a.A,{align:"center",children:e.item.code}),(0,f.jsx)(a.A,{children:e.item.name}),t("invoices","InvoiceItemsTable.BodyCells.AfterTitle",{item:e}),(0,f.jsx)(a.A,{align:"center",children:e.amount}),(0,f.jsx)(a.A,{align:"center",children:(0,p.A)(e.unitPrice)}),(0,f.jsx)(a.A,{align:"center",children:(0,p.A)(b.A.getItemDiscountPrice(e))}),(0,f.jsx)(a.A,{align:"center",children:(0,p.A)(b.A.getItemTotalPrice(e))})]},e.id))),(0,f.jsx)(I,{children:(0,f.jsx)(a.A,{colSpan:100,children:(0,f.jsxs)(d.A,{sx:{width:"33.33%",ml:"auto",display:"flex"},children:[(0,f.jsx)(x.A,{variant:"subtitle2",children:"\u062c\u0645\u0639 \u06a9\u0644 \u0641\u0627\u06a9\u062a\u0648\u0631"}),(0,f.jsx)(d.A,{sx:{flexGrow:1}}),(0,f.jsx)(x.A,{variant:"subtitle2",sx:{px:"16px"},children:(0,p.A)(T.subtotal)})]})})}),T&&(null===(e=T.factors)||void 0===e?void 0:e.map(((e,t)=>(0,f.jsx)(I,{children:(0,f.jsx)(a.A,{colSpan:100,children:(0,f.jsxs)(d.A,{sx:{width:"33.33%",ml:"auto",display:"flex"},children:[(0,f.jsxs)(x.A,{variant:"subtitle2",children:[e.title," ","PERCENT"===e.unit?`(${e.amount}%)`:""]}),(0,f.jsx)(d.A,{sx:{flexGrow:1}}),(0,f.jsx)(x.A,{variant:"subtitle2",sx:{px:"16px"},children:(0,p.A)(e.amount)})]})})},e.id)))),(0,f.jsx)(I,{children:(0,f.jsx)(a.A,{colSpan:100,children:(0,f.jsxs)(d.A,{sx:{width:"33.33%",ml:"auto",display:"flex"},children:[(0,f.jsx)(x.A,{variant:"subtitle2",children:"\u062e\u0627\u0644\u0635 \u0641\u0627\u06a9\u062a\u0648\u0631"}),(0,f.jsx)(d.A,{sx:{flexGrow:1}}),(0,f.jsxs)(x.A,{variant:"subtitle2",sx:{px:"16px"},children:[(0,f.jsx)("strong",{children:u()(w)?(0,p.A)(w):0})," ",(0,f.jsx)("small",{children:"\u0631\u06cc\u0627\u0644"})]})]})})})]})]})})}},99910:e=>{e.exports=function(e,t){for(var i,n=-1,s=e.length;++n<s;){var l=t(e[n]);void 0!==l&&(i=void 0===i?l:i+l)}return i}}}]);
//# sourceMappingURL=7030.2b5d91f3.chunk.js.map