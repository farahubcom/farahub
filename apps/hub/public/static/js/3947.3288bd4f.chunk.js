"use strict";(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[3947],{43947:(e,i,n)=>{n.r(i),n.d(i,{default:()=>V});var s=n(5748),l=n(34535),t=n(15795),o=n(8302),r=n(12110),a=n(68903),d=n(81e3),u=n(51787),h=n(30279),c=n(88911),p=n(85865),x=n(46987),v=n(65043),j=n(74117),b=n(18012),m=n(56976),g=n(20694),A=n(3111),f=n(70579);const C=(0,l.Ay)(t.A)((({theme:e})=>({"& input":{letterSpacing:3}}))),k=({phone:e,children:i})=>{const{t:n}=(0,j.Bd)("customers-club"),{enqueueSnackbar:s}=(0,x.dh)(),l=(0,b.Mv)("Customers-Club.Visit"),{setValue:t,loading:r,handleSubmit:a}=(0,A.A)({initialValues:{phone:e},handlePost:e=>l.store(e),onSubmit:e=>{s(n("New visit stored"))}});return(0,v.useEffect)((()=>{t("phone",e)}),[e]),(0,f.jsx)(o.A,{variant:"contained",onClick:a,disabled:r,children:i})},V=()=>{var e,i,n;const{t:l}=(0,j.Bd)("customers-club"),t=(0,b.b7)("Customers-Club.submitVisit"),{enqueueSnackbar:V}=(0,x.dh)(),S=(0,b.Mv)("Customers-Club.Visit"),[X,B]=(0,v.useState)(null),{register:w,getValue:y,loading:I,handleSubmit:P}=(0,A.A)({initialValues:{phone:""},handlePost:e=>S.check(e),onSubmit:e=>{B(e.person)}});return(0,v.useEffect)((()=>{Boolean(y("phone"))&&11===y("phone").length&&P()}),[y("phone")]),(0,f.jsx)(g.JQ,{...t,children:(0,f.jsx)(m.A,{children:(0,f.jsx)(r.A,{variant:"outlined",children:(0,f.jsx)(a.Ay,{container:!0,justifyContent:"center",children:(0,f.jsx)(a.Ay,{item:!0,xs:12,md:4,children:(0,f.jsxs)(d.A,{sx:{py:15},children:[(0,f.jsx)(C,{fullWidth:!0,label:l("pages.visit.form_label","Submit a visit, message or event"),placeholder:"09XXXXXXXXX",InputLabelProps:{shrink:!0},InputProps:{startAdornment:(0,f.jsx)(u.A,{position:"start",children:(0,f.jsx)(s.In,{icon:"solar:magnifer-zoom-in-linear"})})},inputProps:{dir:"ltr"},disabled:I,...w("phone")}),(0,f.jsx)(h.A,{in:11===y("phone").length&&!I,children:(0,f.jsxs)(d.A,{sx:{mt:3},children:[Boolean(X)&&(0,f.jsxs)(c.A,{direction:"column",spacing:1,children:[(0,f.jsxs)(p.A,{children:[l("pages.visit.fullName")," : ",(0,f.jsx)("strong",{children:null!==(e=null===X||void 0===X?void 0:X.fullName)&&void 0!==e?e:"-"})]}),(0,f.jsxs)(p.A,{children:[l("pages.visit.phone")," : ",(0,f.jsx)("strong",{children:null!==(i=null===X||void 0===X?void 0:X.phone)&&void 0!==i?i:"-"})]}),(0,f.jsxs)(p.A,{children:[l("pages.visit.email")," : ",(0,f.jsx)("strong",{children:null!==(n=null===X||void 0===X?void 0:X.email)&&void 0!==n?n:"-"})]}),(0,f.jsxs)(p.A,{children:[l("pages.visit.visitCount")," : ",(0,f.jsx)("strong",{children:null===X||void 0===X?void 0:X.customerClubVisitsCount})]})]}),(0,f.jsxs)(c.A,{direction:"row",flexWrap:"wrap",gap:1,sx:{mt:3},children:[Boolean(X)&&(0,f.jsx)(k,{phone:y("phone"),children:l("pages.visit.submitVisit")}),!Boolean(X)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(k,{phone:y("phone"),children:l("pages.visit.quickVisit")}),(0,f.jsx)(o.A,{variant:"outlined",children:"\u062b\u0628\u062a \u0645\u0631\u0627\u062c\u0639\u0647 \u0628\u0627 \u0645\u0634\u062e\u0635\u0627\u062a"})]}),(0,f.jsx)(o.A,{startIcon:(0,f.jsx)(s.In,{icon:"solar:bell-bing-linear"}),variant:"outlined",children:"\u0627\u0637\u0644\u0627\u0639 \u0631\u0633\u0627\u0646\u06cc"}),(0,f.jsx)(o.A,{variant:"outlined",children:"\u06cc\u0627\u062f\u0622\u0648\u0631\u06cc"})]})]})})]})})})})})})}}}]);
//# sourceMappingURL=3947.3288bd4f.chunk.js.map