"use strict";(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[9723],{19723:(e,s,i)=>{i.r(s),i.d(s,{default:()=>V});var n=i(81e3),t=i(85865),r=i(19252),a=i(12110),d=i(26494),l=i(81637),c=i(68903),o=i(35721),x=i(38968),h=i(26353),j=i(1488),A=i.n(j),m=i(65043),p=i(73216),u=i(18012),y=i(30370),b=i(56976),v=i(20694),g=i(39522),f=i(76790),w=i(98468),k=i(74563),C=i(78185),I=i(88911),z=i(39336),S=i(88446),W=i(96213),L=i.n(W),D=i(67472),M=i(46987),$=i(99275),E=i(70579);const F="#/app/",P=({open:e,onClose:s})=>{const{workspace:i}=(0,y.As)(),r=(0,u.Mv)("core.modules"),a=(0,u.Mv)("core.subscriptions"),d=(0,p.zy)(),[l,o]=(0,m.useState)({}),[x,h]=(0,m.useState)(!0);(0,m.useEffect)((()=>{e&&d.hash&&d.hash.startsWith(F)?(h(!0),(async()=>{const e=await r.details(d.hash.replace(F,""));o(e.module),h(!1)})()):h(!1)}),[e]);const{enqueueSnackbar:j}=(0,M.dh)(),[A,b]=(0,m.useState)(!1),v=i.subscriptions.filter((e=>e.subscribed.id===l.id)).length>0;return(0,E.jsxs)($.A,{open:e,onClose:s,dialogProps:{fullWidth:!0,maxWidth:"lg"},children:[(0,E.jsx)(n.A,{sx:{p:{xs:3,md:5}},children:(0,E.jsxs)(n.A,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:{xs:"space-between"},alignItems:{xs:"flex-start",md:"center"},width:"100%"},children:[(0,E.jsxs)(n.A,{children:[(0,E.jsx)(t.A,{variant:"h5",sx:{m:0,fontWeight:700},children:x?(0,E.jsx)(C.A,{variant:"text",width:200,animation:"wave"}):l.name}),(0,E.jsx)(t.A,{variant:"body1",sx:{m:0},children:x?(0,E.jsx)(C.A,{variant:"text",width:200,animation:"wave"}):l.description})]}),(0,E.jsx)(I.A,{direction:"row",spacing:1,sx:{mt:{xs:3,md:0}},children:(0,E.jsx)(k.A,{fullWidth:!0,variant:"contained",startIcon:v?(0,E.jsx)(g.A,{}):(0,E.jsx)(f.A,{}),disabled:v||A,loading:A,onClick:()=>!v&&(async()=>{b(!0);const e=await a.subscribe({moduleId:l.id,returnUrl:window.location.href});e.ok?window.location.href=e.redirectUrl:j("\u062e\u0637\u0627 \u062f\u0631 \u0628\u0631\u0642\u0631\u0627\u0631\u06cc \u0627\u0631\u062a\u0628\u0627\u0637")})(),children:v?"\u0646\u0635\u0628 \u0634\u062f\u0647":"\u0646\u0635\u0628"})})]})}),(0,E.jsx)(z.A,{}),(0,E.jsx)(n.A,{sx:{p:{xs:3,md:5}},children:(0,E.jsxs)(c.Ay,{container:!0,children:[(0,E.jsx)(c.Ay,{item:!0,xs:12,md:9,children:(0,E.jsx)(n.A,{sx:{height:"100%"},children:x?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(C.A,{variant:"text",width:"100%",animation:"wave"}),(0,E.jsx)(C.A,{variant:"text",width:"100%",animation:"wave"}),(0,E.jsx)(C.A,{variant:"text",width:"100%",animation:"wave"})]}):l.readme?(0,E.jsx)(D.Ay,{breaks:!0,children:L().sanitize(l.readme)}):(0,E.jsx)(n.A,{sx:{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a\u06cc \u062c\u0647\u062a \u0646\u0645\u0627\u06cc\u0634 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f."})})}),(0,E.jsxs)(c.Ay,{item:!0,xs:12,md:3,children:[(0,E.jsx)(t.A,{variant:"h6",children:"\u062c\u0632\u0626\u06cc\u0627\u062a"}),(0,E.jsxs)(n.A,{sx:{mt:2},children:[(0,E.jsx)(t.A,{variant:"body2",color:"text.secondary",children:"\u062a\u0648\u0633\u0639\u0647\u200c\u062f\u0647\u0646\u062f\u0647"}),(0,E.jsx)(t.A,{variant:"body1",children:(0,E.jsxs)(S.A,{children:["\u0646\u06cc\u0644\u0627\u0647\u0627\u0628 ",(0,E.jsx)(w.A,{fontSize:"inherit",color:"primary",sx:{verticalAlign:"middle"}})]})})]}),(0,E.jsxs)(n.A,{sx:{mt:2},children:[(0,E.jsx)(t.A,{variant:"body2",color:"text.secondary",children:"\u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc"}),(0,E.jsx)(t.A,{variant:"body1",children:l.categories&&l.categories.length>0?l.categories.map(((e,s)=>(0,E.jsx)(S.A,{children:e.name},s))).reduce(((e,s)=>[e,", ",s])):"\u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc \u0646\u062f\u0627\u0631\u062f"})]}),(0,E.jsxs)(n.A,{sx:{mt:2},children:[(0,E.jsx)(t.A,{variant:"body2",color:"text.secondary",children:"\u067e\u0644\u062a\u0641\u0631\u0645\u200c\u0647\u0627"}),(0,E.jsxs)(t.A,{variant:"body1",children:[(0,E.jsx)(S.A,{children:"\u0648\u0628\u0633\u0627\u06cc\u062a"}),", ",(0,E.jsx)(S.A,{children:"\u0627\u067e\u0644\u06cc\u06a9\u06cc\u0634\u0646"}),", ",(0,E.jsx)(S.A,{children:"\u062f\u0633\u06a9\u062a\u0627\u067e"})]})]}),(0,E.jsxs)(n.A,{sx:{mt:2},children:[(0,E.jsx)(t.A,{variant:"body2",color:"text.secondary",children:"\u067e\u06cc\u0634\u0646\u06cc\u0627\u0632\u0647\u0627"}),(0,E.jsx)(t.A,{variant:"body1",children:l.dependencies&&l.dependencies.length>0?l.dependencies.map(((e,s)=>(0,E.jsx)(S.A,{children:e.name},s))).reduce(((e,s)=>[e,", ",s])):"\u067e\u06cc\u0634\u0646\u06cc\u0627\u0632 \u0646\u062f\u0627\u0631\u062f"})]})]})]})})]})};var T=i(5748),U=i(34535),q=i(63336),B=i(90310),G=i(8302),H=i(8122);const J=(0,U.Ay)(q.A,{shouldForwardProp:e=>!["selected","installed"].includes(e)})((({theme:e,installed:s,selected:i})=>({width:"100%",aspectRatio:"16/9",position:"relative",border:"1px solid ".concat(e.palette.divider),display:"flex",flexDirection:"column",justifyContent:"flex-end",padding:e.spacing(2),...!s&&{"&:hover":{borderColor:e.palette.primary.main,boxShadow:"0 0 0 1px ".concat(e.palette.primary.main),cursor:"pointer",backgroundColor:"#e5f5f8"}},...s&&{borderColor:e.palette.grey[200],backgroundColor:(0,B.X4)(e.palette.grey[200],.5)},...i&&{borderColor:"#00a4bd",boxShadow:"0 0 0 1px #00a4bd",backgroundColor:"#e5f5f8"}}))),O=(0,U.Ay)(G.A)((({theme:e})=>({position:"absolute",top:e.spacing(2),right:e.spacing(2)}))),Q=({onInstalled:e,onClick:s,...i})=>{const{workspace:r}=(0,y.As)(),a=r.subscriptions.filter((e=>e.subscribed.id===i.id)).length>0;return(0,E.jsxs)(J,{installed:a,variant:"outlined",onClick:s,children:[a&&(0,E.jsx)(O,{variant:"outlined",startIcon:(0,E.jsx)(H.A,{component:T.In,icon:"solar:check-read-linear"}),size:"small",disabled:!0,children:"\u0646\u0635\u0628 \u0634\u062f\u0647"}),(0,E.jsxs)(n.A,{sx:{mt:"auto"},children:[(0,E.jsx)(t.A,{variant:"h6",children:i.name}),(0,E.jsxs)(t.A,{variant:"body2",color:"text.secondary",children:["\u062a\u0648\u0633\u0637 \u0646\u06cc\u0644\u0627\u0647\u0627\u0628 ",(0,E.jsx)(H.A,{component:T.In,icon:"solar:verified-check-bold-duotone",fontSize:"inherit",color:"primary",sx:{verticalAlign:"middle"}})]}),i.description&&(0,E.jsx)(t.A,{sx:{mt:2},variant:"body1",children:i.description})]})]})},R=({title:e,subtitle:s,actions:i=[],children:r})=>(0,E.jsxs)(n.A,{sx:{mt:5},children:[(0,E.jsx)(t.A,{variant:"h6",children:e}),(0,E.jsx)(t.A,{variant:"body2",color:"text.secondary",children:s}),(0,E.jsx)(n.A,{sx:{mt:1},children:r})]}),V=()=>{const{workspace:e}=(0,y.As)(),s=(0,p.zy)(),i=(0,p.Zp)(),t=(0,u.Mv)("core.modules"),[j,g]=(0,m.useState)(!0),[f,w]=(0,m.useState)({data:[],total:""}),k=async()=>{const s=await t.list({...e.category&&{category:e.category.id}});s.ok&&(w(A()(s,["ok"])),g(!1))};(0,m.useEffect)((()=>{k()}),[]);const C=(0,u.b7)("Core.marketplace");return(0,E.jsxs)(v.JQ,{...C,children:[(0,E.jsx)(b.A,{children:(0,E.jsx)(r.A,{disableGutters:!0,children:(0,E.jsx)(a.A,{variant:"outlined",children:(0,E.jsx)(d.A,{children:j?(0,E.jsx)(n.A,{sx:{p:15,textAlign:"center"},children:(0,E.jsx)(l.A,{})}):(0,E.jsxs)(c.Ay,{container:!0,spacing:2,children:[(0,E.jsx)(c.Ay,{item:!0,md:3,sx:{display:{xs:"none",md:"block"}},children:(0,E.jsx)(R,{title:"\u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc\u200c\u0647\u0627",children:(0,E.jsx)(o.A,{children:(0,E.jsx)(x.A,{selected:!0,children:(0,E.jsx)(h.A,{primary:"\u0645\u062f\u06cc\u0631\u06cc\u062a"})})})})}),(0,E.jsxs)(c.Ay,{item:!0,xs:12,md:9,children:[(0,E.jsx)(R,{title:"\u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0647\u0627\u06cc \u067e\u0627\u06cc\u0647",subtitle:"\u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0647\u0627\u06cc \u0644\u0627\u0632\u0645 \u0628\u0631\u0627\u06cc \u0647\u0645\u0647 \u06a9\u0633\u0628\u200c\u0648\u06a9\u0627\u0631\u0647\u0627",children:(0,E.jsx)(c.Ay,{container:!0,spacing:2,sx:{mt:1},children:f.data.slice(0,3).map(((e,s)=>(0,E.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(Q,{...e,onClick:()=>i(`#/app/${e.id}`),onInstalled:k})},s)))})}),(0,E.jsx)(R,{title:"\u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0647\u0627\u06cc \u0631\u0627\u06cc\u06af\u0627\u0646",subtitle:"\u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0647\u0627\u06cc \u0631\u0627\u06cc\u06af\u0627\u0646 \u0628\u0631\u0627\u06cc ",children:(0,E.jsx)(c.Ay,{container:!0,spacing:2,sx:{mt:1},children:f.data.slice(0,3).map(((e,s)=>(0,E.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(Q,{...e,onClick:()=>i(`#/app/${e.id}`),onInstalled:k})},s)))})}),(0,E.jsx)(R,{title:"\u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0647\u0627\u06cc \u0645\u062d\u0628\u0648\u0628",subtitle:"\u0628\u06cc\u0634\u062a\u0631\u06cc\u0646 \u0646\u0635\u0628\u200c \u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0647\u0627 \u062f\u0631 \u062d\u0648\u0632\u0647 \u06a9\u0627\u0631\u06cc \u0634\u0645\u0627",children:(0,E.jsx)(c.Ay,{container:!0,spacing:2,sx:{mt:1},children:f.data.map(((e,s)=>(0,E.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(Q,{...e,onClick:()=>i(`#/app/${e.id}`),onInstalled:k})},s)))})})]})]})})})})}),(0,E.jsx)(P,{open:Boolean(s.hash&&s.hash.startsWith("#/app/")),onClose:()=>i(-1)})]})}},39522:(e,s,i)=>{var n=i(24994);s.A=void 0;var t=n(i(40039)),r=i(70579);s.A=(0,t.default)((0,r.jsx)("path",{d:"M5 18h14v2H5zm4.6-2.7L5 10.7l2-1.9 2.6 2.6L17 4l2 2z"}),"DownloadDoneOutlined")},98468:(e,s,i)=>{var n=i(24994);s.A=void 0;var t=n(i(40039)),r=i(70579);s.A=(0,t.default)((0,r.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}),"Verified")}}]);
//# sourceMappingURL=9723.58cda5df.chunk.js.map