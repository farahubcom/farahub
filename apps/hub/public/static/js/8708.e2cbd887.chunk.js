"use strict";(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[8708],{24010:(e,t,o)=>{o.d(t,{A:()=>j});var r=o(98587),i=o(58168),n=o(65043),s=o(58387),a=o(65049),l=o(75429),d=o(9848),c=o(98206),h=o(14987),p=o(60239);function u(e){return(0,p.Ay)("MuiFab",e)}const g=(0,h.A)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var x=o(34535),m=o(61475),A=o(70579);const b=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],v=(0,x.Ay)(l.A,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,m.A)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t[`size${(0,d.A)(o.size)}`],"inherit"===o.color&&t.colorInherit,t[(0,d.A)(o.size)],t[o.color]]}})((({theme:e,ownerState:t})=>{var o,r;return(0,i.A)({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:null==(o=(r=e.palette).getContrastText)?void 0:o.call(r,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${g.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},"small"===t.size&&{width:40,height:40},"medium"===t.size&&{width:48,height:48},"extended"===t.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===t.variant&&"small"===t.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===t.variant&&"medium"===t.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===t.color&&{color:"inherit"})}),(({theme:e,ownerState:t})=>(0,i.A)({},"inherit"!==t.color&&"default"!==t.color&&null!=(e.vars||e).palette[t.color]&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}})),(({theme:e})=>({[`&.${g.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}))),j=n.forwardRef((function(e,t){const o=(0,c.b)({props:e,name:"MuiFab"}),{children:n,className:l,color:h="default",component:p="button",disabled:g=!1,disableFocusRipple:x=!1,focusVisibleClassName:m,size:j="large",variant:y="circular"}=o,f=(0,r.A)(o,b),C=(0,i.A)({},o,{color:h,component:p,disabled:g,disableFocusRipple:x,size:j,variant:y}),P=(e=>{const{color:t,variant:o,classes:r,size:n}=e,s={root:["root",o,`size${(0,d.A)(n)}`,"inherit"===t?"colorInherit":t]},l=(0,a.A)(s,u,r);return(0,i.A)({},r,l)})(C);return(0,A.jsx)(v,(0,i.A)({className:(0,s.A)(P.root,l),component:p,disabled:g,focusRipple:!x,focusVisibleClassName:(0,s.A)(P.focusVisible,m),ownerState:C,ref:t},f,{classes:P,children:n}))}))},38708:(e,t,o)=>{o.r(t),o.d(t,{default:()=>$});var r=o(22505),i=o(44413),n=o(81e3),s=o(88911),a=o(12110),l=o(39336),d=o(20819),c=o.n(d),h=o(87424),p=o.n(h),u=o(46987),g=o(35475),x=o(18012),m=o(30370),A=o(97324),b=o(56976),v=o(20694),j=o(11107),y=o(74175),f=o(93513),C=o(17022),P=o(38968),w=o(26353),k=o(65043),z=o(66789),S=o(12766),R=o(32665),I=o(27800),F=o(18611),D=o(70579);const M=({loading:e,products:t,meta:o,infiniteScrollProps:r,onClickEdit:i,onClickDelete:s})=>{const{inject:a}=(0,m.As)(),[l,d]=(0,g.ok)(),[h,u]=(0,k.useState)(l.has("sort")?l.get("sort"):"-createdAt");(0,R.A)((()=>{d({...Object.fromEntries(l),sort:h})}),[h]);const A=(0,I.A)(),b=(0,F.A)(),v=(0,x.b7)("Products.details");return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(z.A,{data:t,loading:e,infiniteScrollProps:r,definitions:p()([{title:"\u0631\u062f\u06cc\u0641",headerCellProps:{align:"center"},rowCellProps:{align:"center",width:100},renderCell:(e,t)=>(0,D.jsx)(S.A,{children:A(t)}),priority:100},{field:"code",title:"\u06a9\u062f \u062e\u062f\u0645\u062a",headerCellProps:{align:"center"},rowCellProps:{align:"center",width:100},render:e=>(0,D.jsx)(S.A,{children:e.code})||"-",priority:200},{title:"\u062e\u062f\u0645\u062a",rowCellProps:{width:400},renderCell:e=>(0,D.jsx)(n.A,{sx:{display:"flex",alignItems:"center"},children:(0,D.jsx)("strong",{children:(0,D.jsx)(S.A,{children:e.name})})}),priority:300},...c()(a("Products","ProductsList.definitions")||[])],(e=>e.priority)),renderSheetTitle:e=>(0,D.jsx)(S.A,{children:e.name}),renderListItemChildren:e=>(0,D.jsx)(P.A,{onClick:()=>b(v(e)),children:(0,D.jsx)(w.A,{primary:(0,D.jsx)("strong",{children:e.name})})}),tableRowProps:e=>({hover:!0,striped:!0,onClick:()=>b(v(e))}),paginationProps:{count:o.total,rowsPerPage:l.has("perPage")?Number(l.get("perPage")):25,page:l.has("page")?Number(l.get("page")):0,onPageChange:(e,t)=>d({...Object.fromEntries([...l]),page:t}),onRowsPerPageChange:e=>d({...Object.fromEntries([...l]),perPage:e.target.value})},actions:[{title:"\u0648\u06cc\u0631\u0627\u06cc\u0634",icon:(0,D.jsx)(C.A,{}),onClick:i,authorize:({hasRole:e,hasPermission:t})=>e("owner")||t("person:edit")},{title:"\u062d\u0630\u0641",icon:(0,D.jsx)(f.A,{}),onClick:e=>s(e,!1),authorize:({hasRole:e,hasPermission:t})=>e("owner")||t("person:delete")}]})})};var O=o(66360),E=o(34535),N=o(62559),V=o(37978);const W=(0,E.Ay)(O.A)((({theme:e})=>({color:e.palette.text.secondary}))),L=(0,E.Ay)(N.Ay)((({theme:e})=>({fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.button.fontSize}))),T=()=>{const[e,t]=(0,g.ok)(),[o,r]=(0,k.useState)(e.get("query")||""),i=(0,V.A)(o,500);return(0,R.A)((()=>{t({...Object.fromEntries(e),query:i})}),[i]),(0,D.jsx)(n.A,{sx:{px:2,py:1.5,display:"flex"},className:"search-form",children:(0,D.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1},children:[(0,D.jsx)(W,{sx:{mr:1},color:"inherit"}),(0,D.jsx)(L,{value:o,placeholder:"\u062c\u0633\u062a\u062c\u0648 \u0634\u0631\u062d \u06cc\u0627 \u06a9\u062f \u062e\u062f\u0645\u062a...",onChange:e=>r(e.target.value),sx:{flexGrow:1}})]})})},H={key:"manage-products",steps:[{title:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u062e\u062f\u0645\u062a\u0627\u062a",intro:"\u062f\u0631 \u0641\u0631\u0622\u06cc\u0646\u062f \u0645\u062f\u06cc\u0631\u06cc\u062a \u062e\u062f\u0645\u062a\u0627\u062a\u060c \u0634\u0645\u0627 \u0647\u0645\u0647 \u062e\u062f\u0645\u062a\u0627\u062a\u06cc\u06cc \u06a9\u0647 \u0628\u0627 \u0622\u0646\u200c\u0647\u0627 \u062f\u0631 \u0641\u0631\u0622\u06cc\u0646\u062f\u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641 \u0645\u062b\u0644 \u0641\u0631\u0622\u06cc\u0646\u062f \u062b\u0628\u062a \u0641\u0627\u06a9\u062a\u0648\u0631 \u0641\u0631\u0648\u0634\u060c \u0631\u0632\u0631\u0648 \u0648 \u06cc\u0627 \u062e\u0631\u06cc\u062f\u060c \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc\u200c\u06a9\u0646\u06cc\u062f\u060c \u062b\u0628\u062a \u0648 \u0645\u0634\u0627\u0647\u062f\u0647 \u0645\u06cc\u200c\u06a9\u0646\u06cc\u062f."},{title:"\u062e\u062f\u0645\u062a \u062c\u062f\u06cc\u062f",intro:"\u0628\u0627 \u06a9\u0644\u06cc\u06a9 \u0628\u0631\u0631\u0648\u06cc \u0627\u06cc\u0646 \u062f\u06a9\u0645\u0647 \u0648 \u0648\u0631\u0648\u062f \u0645\u0634\u062e\u0635\u0627\u062a \u062e\u062f\u0645\u062a \u0645\u06cc\u200c\u062a\u0648\u0627\u0646\u06cc\u062f \u062e\u062f\u0645\u062a\u06cc \u062c\u062f\u06cc\u062f\u06cc \u0628\u0647 \u0644\u06cc\u0633\u062a \u062e\u062f\u0645\u062a\u0627\u062a\u06cc \u062e\u0648\u062f \u0627\u0636\u0627\u0641\u0647 \u06a9\u0646\u06cc\u062f.",element:".add-new"},{title:"\u06af\u0631\u0648\u0647\u200c\u0647\u0627\u06cc \u062e\u062f\u0645\u062a",intro:"\u0634\u0645\u0627 \u0645\u06cc\u200c\u062a\u0648\u0627\u0646\u06cc\u062f \u0628\u0647 \u0647\u0631 \u062e\u062f\u0645\u062a \u06cc\u06a9 \u06af\u0631\u0648\u0647 \u0627\u062e\u062a\u0635\u0627\u0635 \u062f\u0647\u06cc\u062f \u062a\u0627 \u062f\u0631 \u0641\u0631\u0622\u06cc\u0646\u062f\u0647\u0627\u06cc \u062f\u06cc\u06af\u0631\u060c \u0639\u0644\u0627\u0648\u0647 \u0628\u0631 \u06af\u0632\u0627\u0631\u0634 \u0628\u0631\u0627\u0633\u0627\u0633 \u062e\u062f\u0645\u062a\u060c \u06af\u0632\u0627\u0631\u0634 \u0628\u0631\u0627\u0633\u0627\u0633 \u06af\u0631\u0648\u0647 \u0631\u0627 \u0647\u0645 \u0645\u0634\u0627\u0647\u062f\u0647 \u0646\u0645\u0627\u06cc\u06cc\u062f.",element:".manage-categories"}]},$=()=>{const{inject:e}=(0,m.As)(),t=(0,x.Mv)("Products.Main"),o=(0,x.xZ)("Products.ProductFormDialog"),d=(0,x.xZ)("Products.ProductDeleteDialog"),[h]=(0,g.ok)(),{data:f,total:C,loading:P,loadMore:w,reload:k}=(0,y.A)({handleFetch:e=>t.list({type:"service",...e,...Object.fromEntries([...h])}),loadDeps:[h],infiniteScrollDefaultParams:{page:h.has("page")?h.get("page"):0,perPage:h.has("perPage")?h.get("perPage"):25}}),{enqueueSnackbar:z}=(0,u.dh)(),[S,R,I]=(0,j.A)("form"),F=e=>{z(e),k(),I()},[O,E,N]=(0,j.A)("delete",{hashDeps:["product"]}),V=Object.assign({},...e("Products","ProductsList.Hooks")||[]),W=(0,x.b7)("Services.manage");return(0,D.jsx)(v.JQ,{...W,tour:H,children:(0,D.jsxs)(b.A,{children:[(0,D.jsxs)(n.A,{sx:{display:"flex",mb:{xs:0,sm:1}},children:[(0,D.jsx)(n.A,{sx:{flexGrow:1}}),(0,D.jsx)(s.A,{direction:"row",spacing:1,children:(0,D.jsx)(A.A,{actions:p()([{title:"\u062e\u062f\u0645\u062a \u062c\u062f\u06cc\u062f",icon:(0,D.jsx)(r.A,{}),onClick:()=>{R({onCreateOrUpdate:()=>F("\u0645\u0634\u062e\u0635\u0627\u062a \u062e\u062f\u0645\u062a \u062b\u0628\u062a \u06af\u0631\u062f\u06cc\u062f.")})},authorize:({hasRole:e,hasPermission:t})=>e("owner")||t("product:edit"),priority:100},...c()(e("Products","ProductsList.ActionsList",{data:f,loading:P,reload:k,...V})||[])],(e=>e.priority)),ResponsiveActionIcon:(0,D.jsx)(i.A,{}),responsiveActionProps:{color:"primary"}})})]}),(0,D.jsxs)(a.A,{variant:"outlined",children:[(0,D.jsx)(T,{}),(0,D.jsx)(l.A,{}),(0,D.jsx)(M,{products:f,loading:P,meta:{total:C},infiniteScrollProps:{loading:!1,hasNextPage:f.length<C,onLoadMore:w},onClickEdit:e=>{R({defaultValues:e,onCreateOrUpdate:()=>F("\u0645\u0634\u062e\u0635\u0627\u062a \u062e\u062f\u0645\u062a \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u06af\u0631\u062f\u06cc\u062f.")})},onClickDelete:e=>{E({product:e})}})]}),(0,D.jsx)(o,{defaultValues:{type:"service"},...S}),(0,D.jsx)(d,{...O,onDelete:()=>{z("\u062e\u062f\u0645\u062a \u062d\u0630\u0641 \u06af\u0631\u062f\u06cc\u062f"),N(),k()}}),e("Products","ProductsList.Footer",{data:f,loading:P,reload:k,...V})]})})}},44413:(e,t,o)=>{var r=o(24994);t.A=void 0;var i=r(o(40039)),n=o(70579);t.A=(0,i.default)((0,n.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"MenuOutlined")},97324:(e,t,o)=>{o.d(t,{A:()=>S});var r=o(34535),i=o(24010),n=o(81e3),s=o(26240),a=o(79285),l=o(24836),d=o(35316),c=o(68903),h=o(88911),p=o(8302),u=o(73216),g=o(30370),x=o(54049),m=o(30298),A=o(17392),b=o(85865),v=(o(65043),o(70579));const j=(0,r.Ay)(A.A)((({theme:e})=>({display:"flex",flexDirection:"column",minWidth:94.5}))),y=(0,r.Ay)("span")((({theme:e})=>({display:"inline-block"}))),f=(0,r.Ay)(b.A)((({theme:e})=>({...e.typography.button,display:"inline-block"}))),C=({label:e,labelTypographyProps:t={},children:o,...r})=>(0,v.jsxs)(j,{...r,children:[(0,v.jsx)(y,{children:o}),e&&(0,v.jsx)(f,{...t,children:e})]});var P=o(99275);const w=(0,r.Ay)(i.A)((({theme:e})=>({position:"fixed",bottom:`calc(${e.spacing(2)} + 48px)`,left:e.spacing(2),zIndex:100}))),k=(0,r.Ay)(n.A)((({theme:e})=>({}))),z=(0,r.Ay)("span")((({theme:e})=>({border:"1px solid currentColor",borderRadius:"50%",padding:e.spacing(.75),display:"flex",alignItems:"center",justifyContent:"center"}))),S=({actions:e=[],ResponsiveActionComponent:t=w,responsiveActionProps:o={},ResponsiveActionIcon:r,showResponsiveOnDesktop:i=!1})=>{var n,A;const b=(0,s.A)(),j=(0,a.A)(b.breakpoints.down("sm")),y=(0,u.Zp)(),f="actions",{hasSegment:S,addSegment:R,removeSegment:I}=(0,m.A)(),F=(0,x.A)(),D=({children:t})=>e.length>1?(0,v.jsx)(v.Fragment,{children:t}):(0,v.jsx)(l.A,{direction:"up",in:!F,mountOnEnter:!0,unmountOnExit:!0,children:t});return i||j?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(D,{children:(0,v.jsx)(t,{onClick:e.length>1?()=>y(R(f)):null===(n=e[0])||void 0===n?void 0:n.onClick,...o,children:e.length>1?r:null===(A=e[0])||void 0===A?void 0:A.icon})}),e.length>0&&(0,v.jsx)(P.A,{dialogProps:{fullWidth:!0,maxWidth:"xs"},open:S(f),onClose:()=>y(I(f),{replace:!0}),children:(0,v.jsx)(d.A,{children:(0,v.jsx)(c.Ay,{container:!0,columns:3,children:e.map(((e,t)=>(0,v.jsx)(g.UX,{authorize:e.authorize,children:(0,v.jsx)(c.Ay,{item:!0,xs:1,alignItems:"center",justifyContent:"center",children:(0,v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,v.jsx)(C,{label:e.title,onClick:e.onClick,size:"large",color:"inherit",labelTypographyProps:{sx:{mt:1}},children:(0,v.jsx)(z,{children:e.icon})})})})},t)))})})})]}):(0,v.jsx)(k,{children:(0,v.jsx)(h.A,{direction:j?"row-reverse":"row",spacing:1,children:e.map(((e,t)=>(0,v.jsx)(g.UX,{authorize:e.authorize,children:(0,v.jsx)(p.A,{variant:"transparent",disableElevation:!0,startIcon:e.icon,onClick:e.onClick,...e.buttonProps,children:e.title})},t)))})})}}}]);
//# sourceMappingURL=8708.e2cbd887.chunk.js.map