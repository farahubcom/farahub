{"version":3,"file":"static/js/601.a65c8888.chunk.js","mappings":"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","sources":["modules/core/components/ModuleDialog.js","modules/core/components/ModuleSingle.js","modules/core/pages/Marketplace/Main.js","../node_modules/@mui/icons-material/DownloadDoneOutlined.js","../node_modules/@mui/icons-material/Verified.js"],"sourcesContent":["import DownloadDoneOutlined from \"@mui/icons-material/DownloadDoneOutlined\";\r\nimport DownloadOutlined from \"@mui/icons-material/DownloadOutlined\";\r\nimport Verified from \"@mui/icons-material/Verified\";\r\nimport { LoadingButton } from \"@mui/lab\";\r\nimport { Box, Divider, Grid, Link, Skeleton, Stack, Typography, useMediaQuery, useTheme } from \"@mui/material\";\r\nimport DOMPurify from \"dompurify\";\r\nimport Markdown from \"marked-react\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router\";\r\nimport { useMiddleware } from \"../../../Application\";\r\nimport { useAuth } from \"../../../auth\";\r\nimport ResponsiveDialog from \"../../../components/ResponsiveDialog\";\r\n\r\nconst HASH_POSTFIX = '#/app/';\r\n\r\nconst ModuleDialog = ({\r\n    open,\r\n    onClose\r\n}) => {\r\n\r\n    const { workspace } = useAuth();\r\n\r\n    const middleware = useMiddleware('core.modules');\r\n    const subscriptionsMiddleware = useMiddleware('core.subscriptions');\r\n\r\n    const location = useLocation();\r\n\r\n    const [module, setModule] = useState({});\r\n    const [loading, setLoading] = useState(true);\r\n    const loadModuleAsync = async () => {\r\n        const response = await middleware.details(location.hash.replace(HASH_POSTFIX, ''));\r\n        setModule(response.module);\r\n        setLoading(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (open && location.hash && location.hash.startsWith(HASH_POSTFIX)) {\r\n            setLoading(true);\r\n            loadModuleAsync();\r\n        } else {\r\n            setLoading(false);\r\n        }\r\n    }, [open])\r\n\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const [subscribing, setSubscribing] = useState(false);\r\n    const subscribeAsync = async () => {\r\n        setSubscribing(true);\r\n        const response = await subscriptionsMiddleware.subscribe({\r\n            moduleId: module.id,\r\n            returnUrl: window.location.href,\r\n        });\r\n        if (response.ok) {\r\n            window.location.href = response.redirectUrl;\r\n        } else {\r\n            enqueueSnackbar('خطا در برقراری ارتباط');\r\n        }\r\n    }\r\n\r\n    const installed = workspace.subscriptions.filter(s => s.subscribed.id === module.id).length > 0;\r\n\r\n\r\n    return (\r\n        <ResponsiveDialog\r\n            open={open}\r\n            onClose={onClose}\r\n            dialogProps={{\r\n                fullWidth: true,\r\n                maxWidth: \"lg\"\r\n            }}\r\n        >\r\n            <Box sx={{ p: { xs: 3, md: 5 } }}>\r\n                <Box sx={{ display: 'flex', flexDirection: { xs: 'column', md: 'row' }, justifyContent: { xs: 'space-between' }, alignItems: { xs: 'flex-start', md: 'center' }, width: '100%' }}>\r\n                    <Box>\r\n                        <Typography variant='h5' sx={{ m: 0, fontWeight: 700 }}>{loading ? <Skeleton variant=\"text\" width={200} animation=\"wave\" /> : module.name}</Typography>\r\n                        <Typography variant='body1' sx={{ m: 0 }}>{loading ? <Skeleton variant=\"text\" width={200} animation=\"wave\" /> : module.description}</Typography>\r\n                    </Box>\r\n                    <Stack direction=\"row\" spacing={1} sx={{ mt: { xs: 3, md: 0 } }}>\r\n                        {/* <Button\r\n                                    fullWidth\r\n                                    variant=\"outlined\"\r\n                                    startIcon={<InfoOutlined />}\r\n                                    LinkComponent={Link}\r\n                                    to={{ ...location, hash: '#module-details-'.concat(module.id) }}\r\n                                >جزئیات</Button> */}\r\n                        <LoadingButton\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            startIcon={installed ? <DownloadDoneOutlined /> : <DownloadOutlined />}\r\n                            disabled={installed || subscribing}\r\n                            loading={subscribing}\r\n                            onClick={() => !installed && subscribeAsync()}\r\n                        >{installed ? 'نصب شده' : 'نصب'}</LoadingButton>\r\n                    </Stack>\r\n                </Box>\r\n            </Box>\r\n            <Divider />\r\n            <Box sx={{ p: { xs: 3, md: 5 } }}>\r\n                <Grid container>\r\n                    <Grid item xs={12} md={9}>\r\n                        <Box sx={{ height: '100%' }}>\r\n                            {loading ? (\r\n                                <>\r\n                                    <Skeleton variant=\"text\" width='100%' animation=\"wave\" />\r\n                                    <Skeleton variant=\"text\" width='100%' animation=\"wave\" />\r\n                                    <Skeleton variant=\"text\" width='100%' animation=\"wave\" />\r\n                                </>\r\n                            ) : (\r\n                                module.readme ? (\r\n                                    <Markdown breaks={true}>{DOMPurify.sanitize(module.readme)}</Markdown>\r\n                                ) : <Box sx={{ textAlign: 'center', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>اطلاعاتی جهت نمایش وجود ندارد.</Box>)}\r\n                        </Box>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={3}>\r\n                        <Typography variant=\"h6\">جزئیات</Typography>\r\n\r\n                        <Box sx={{ mt: 2 }}>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">توسعه‌دهنده</Typography>\r\n                            <Typography variant=\"body1\"><Link>نیلاهاب <Verified fontSize=\"inherit\" color=\"primary\" sx={{ verticalAlign: \"middle\" }} /></Link></Typography>\r\n                        </Box>\r\n\r\n                        <Box sx={{ mt: 2 }}>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">دسته‌بندی</Typography>\r\n                            <Typography variant=\"body1\">{module.categories && module.categories.length > 0 ? module.categories.map((cat, index) => <Link key={index}>{cat.name}</Link>).reduce((prev, curr) => [prev, ', ', curr]) : 'دسته‌بندی ندارد'}</Typography>\r\n                        </Box>\r\n\r\n                        <Box sx={{ mt: 2 }}>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">پلتفرم‌ها</Typography>\r\n                            <Typography variant=\"body1\"><Link>وبسایت</Link>, <Link>اپلیکیشن</Link>, <Link>دسکتاپ</Link></Typography>\r\n                        </Box>\r\n\r\n                        <Box sx={{ mt: 2 }}>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">پیشنیازها</Typography>\r\n                            <Typography variant=\"body1\">{module.dependencies && module.dependencies.length > 0 ? module.dependencies.map((dep, index) => <Link key={index}>{dep.name}</Link>).reduce((prev, curr) => [prev, ', ', curr]) : 'پیشنیاز ندارد'}</Typography>\r\n                        </Box>\r\n                    </Grid>\r\n                </Grid>\r\n            </Box>\r\n        </ResponsiveDialog>\r\n    )\r\n}\r\n\r\nexport default ModuleDialog;","import { Icon } from \"@iconify/react\";\r\nimport { alpha, Box, Button, Paper, styled, SvgIcon, Typography } from \"@mui/material\";\r\n\r\nimport { useAuth } from \"../../../auth\";\r\n\r\n\r\nconst Container = styled(Paper, {\r\n    shouldForwardProp: prop => !['selected', 'installed'].includes(prop)\r\n})(({ theme, installed, selected }) => ({\r\n    width: '100%',\r\n    aspectRatio: '16/9',\r\n    // minHeight: '150px',\r\n    position: 'relative',\r\n    border: '1px solid '.concat(theme.palette.divider),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'flex-end',\r\n    padding: theme.spacing(2),\r\n\r\n    ...(!installed && {\r\n        '&:hover': {\r\n            borderColor: theme.palette.primary.main,\r\n            boxShadow: '0 0 0 1px '.concat(theme.palette.primary.main),\r\n            cursor: 'pointer',\r\n            backgroundColor: '#e5f5f8'\r\n        },\r\n    }),\r\n\r\n    ...(installed && {\r\n        borderColor: theme.palette.grey[200],\r\n        // boxShadow: '0 0 0 1px #00a4bd',\r\n        backgroundColor: alpha(theme.palette.grey[200], 0.5)\r\n    }),\r\n    ...(selected && {\r\n        borderColor: '#00a4bd',\r\n        boxShadow: '0 0 0 1px #00a4bd',\r\n        backgroundColor: '#e5f5f8'\r\n    }),\r\n}));\r\n\r\nconst InstalledBadge = styled(Button)(({ theme }) => ({\r\n    position: 'absolute',\r\n    top: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n}));\r\n\r\nconst ModuleSingle = ({\r\n    onInstalled,\r\n    onClick,\r\n    ...module\r\n}) => {\r\n\r\n    const { workspace } = useAuth();\r\n\r\n    const installed = workspace.subscriptions.filter(s => s.subscribed.id === module.id).length > 0;\r\n\r\n\r\n    return (\r\n        <Container\r\n            installed={installed}\r\n            variant=\"outlined\"\r\n            onClick={onClick}\r\n        >\r\n            {installed && <InstalledBadge\r\n                variant=\"outlined\"\r\n                startIcon={<SvgIcon component={Icon} icon=\"solar:check-read-linear\" />}\r\n                size=\"small\"\r\n                disabled\r\n            >نصب شده</InstalledBadge>}\r\n            <Box sx={{ mt: 'auto' }}>\r\n                <Typography variant=\"h6\">{module.name}</Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">توسط نیلاهاب <SvgIcon component={Icon} icon=\"solar:verified-check-bold-duotone\" fontSize=\"inherit\" color=\"primary\" sx={{ verticalAlign: \"middle\" }} /></Typography>\r\n                {module.description && <Typography sx={{ mt: 2 }} variant=\"body1\">{module.description}</Typography>}\r\n            </Box>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default ModuleSingle","import { Box, Card, CardContent, CircularProgress, Container, Grid, List, ListItemButton, ListItemText, Paper, Typography } from \"@mui/material\";\r\nimport omit from \"lodash/omit\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { useMiddleware, useTask } from \"../../../../Application\";\r\nimport { useAuth } from \"../../../../auth\";\r\nimport ResponsiveContainer from \"../../../../components/ResponsiveContainer\";\r\nimport { TabView } from \"../../../../tabs\";\r\nimport ModuleDialog from \"../../components/ModuleDialog\";\r\nimport ModuleSingle from \"../../components/ModuleSingle\";\r\n\r\nconst Section = ({ title, subtitle, actions = [], children }) => {\r\n    return (\r\n        <Box sx={{ mt: 5 }}>\r\n            <Typography variant=\"h6\">{title}</Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">{subtitle}</Typography>\r\n            <Box sx={{ mt: 1 }}>\r\n                {children}\r\n            </Box>\r\n        </Box>\r\n    )\r\n}\r\n\r\n\r\nconst Marketplace = () => {\r\n\r\n    const { workspace } = useAuth();\r\n\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n\r\n    const middleware = useMiddleware('core.modules');\r\n\r\n    const [isLoading, setLoading] = useState(true);\r\n    const [modules, setModules] = useState({\r\n        data: [],\r\n        total: ''\r\n    });\r\n\r\n    const loadDataAsync = async () => {\r\n        const response = await middleware.list({\r\n            ...(workspace.category && { category: workspace.category.id })\r\n        });\r\n        if (response.ok) {\r\n            setModules(omit(response, ['ok']));\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadDataAsync();\r\n    }, []);\r\n\r\n    const task = useTask(\"Core.marketplace\");\r\n\r\n    \r\n    return (\r\n        <TabView {...task}>\r\n            <ResponsiveContainer>\r\n                <Container disableGutters>\r\n                    <Card variant=\"outlined\">\r\n                        <CardContent>\r\n                            {isLoading ? <Box sx={{ p: 15, textAlign: 'center' }}><CircularProgress /></Box> : (\r\n                                <Grid container spacing={2}>\r\n                                    <Grid item md={3} sx={{ display: { xs: 'none', md: 'block' } }}>\r\n                                        <Section\r\n                                            title=\"دسته‌بندی‌ها\"\r\n                                        >\r\n                                            <List>\r\n                                                <ListItemButton selected>\r\n                                                    <ListItemText primary=\"مدیریت\" />\r\n                                                </ListItemButton>\r\n                                            </List>\r\n                                        </Section>\r\n                                    </Grid>\r\n                                    <Grid item xs={12} md={9}>\r\n                                        <Section\r\n                                            title=\"برنامه‌های پایه\"\r\n                                            subtitle=\"برنامه‌های لازم برای همه کسب‌وکارها\"\r\n                                        >\r\n                                            <Grid container spacing={2} sx={{ mt: 1 }}>\r\n                                                {modules.data.slice(0, 3).map((module, index) => (\r\n                                                    <Grid item xs={12} sm={6} md={4} key={index}>\r\n                                                        <ModuleSingle\r\n                                                            {...module}\r\n                                                            onClick={() => navigate(`#/app/${module.id}`)}\r\n                                                            onInstalled={loadDataAsync}\r\n                                                        />\r\n                                                    </Grid>\r\n                                                ))}\r\n                                            </Grid>\r\n                                        </Section>\r\n                                        <Section\r\n                                            title=\"برنامه‌های رایگان\"\r\n                                            subtitle=\"برنامه‌های رایگان برای \"\r\n                                        >\r\n                                            <Grid container spacing={2} sx={{ mt: 1 }}>\r\n                                                {modules.data.slice(0, 3).map((module, index) => (\r\n                                                    <Grid item xs={12} sm={6} md={4} key={index}>\r\n                                                        <ModuleSingle\r\n                                                            {...module}\r\n                                                            onClick={() => navigate(`#/app/${module.id}`)}\r\n                                                            onInstalled={loadDataAsync}\r\n                                                        />\r\n                                                    </Grid>\r\n                                                ))}\r\n                                            </Grid>\r\n                                        </Section>\r\n                                        <Section\r\n                                            title=\"برنامه‌های محبوب\"\r\n                                            subtitle=\"بیشترین نصب‌ برنامه‌ها در حوزه کاری شما\"\r\n                                        >\r\n                                            <Grid container spacing={2} sx={{ mt: 1 }}>\r\n                                                {modules.data.map((module, index) => (\r\n                                                    <Grid item xs={12} sm={6} md={4} key={index}>\r\n                                                        <ModuleSingle\r\n                                                            {...module}\r\n                                                            onClick={() => navigate(`#/app/${module.id}`)}\r\n                                                            onInstalled={loadDataAsync}\r\n                                                        />\r\n                                                    </Grid>\r\n                                                ))}\r\n                                            </Grid>\r\n                                        </Section>\r\n                                    </Grid>\r\n                                </Grid>)}\r\n                        </CardContent>\r\n                    </Card>\r\n                </Container>\r\n            </ResponsiveContainer>\r\n\r\n            <ModuleDialog\r\n                open={Boolean(location.hash && location.hash.startsWith(`#/app/`))}\r\n                onClose={() => navigate(-1)}\r\n            />\r\n        </TabView>\r\n    )\r\n}\r\n\r\nexport default Marketplace;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M5 18h14v2H5v-2zm4.6-2.7L5 10.7l2-1.9 2.6 2.6L17 4l2 2-9.4 9.3z\"\n}), 'DownloadDoneOutlined');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z\"\n}), 'Verified');\nexports.default = _default;"],"names":["HASH_POSTFIX","ModuleDialog","open","onClose","workspace","useAuth","middleware","useMiddleware","subscriptionsMiddleware","location","useLocation","module","setModule","useState","loading","setLoading","useEffect","hash","startsWith","async","response","details","replace","loadModuleAsync","enqueueSnackbar","useSnackbar","subscribing","setSubscribing","installed","subscriptions","filter","s","subscribed","id","length","_jsxs","ResponsiveDialog","dialogProps","fullWidth","maxWidth","children","_jsx","Box","sx","p","xs","md","display","flexDirection","justifyContent","alignItems","width","Typography","variant","m","fontWeight","Skeleton","animation","name","description","Stack","direction","spacing","mt","LoadingButton","startIcon","DownloadDoneOutlined","DownloadOutlined","disabled","onClick","subscribe","moduleId","returnUrl","window","href","ok","redirectUrl","subscribeAsync","Divider","Grid","container","item","height","_Fragment","readme","Markdown","breaks","DOMPurify","textAlign","color","Link","Verified","fontSize","verticalAlign","categories","map","cat","index","reduce","prev","curr","dependencies","dep","Container","styled","Paper","shouldForwardProp","prop","includes","theme","selected","aspectRatio","position","border","concat","palette","divider","padding","borderColor","primary","main","boxShadow","cursor","backgroundColor","grey","alpha","InstalledBadge","Button","top","right","ModuleSingle","onInstalled","SvgIcon","component","Icon","icon","size","Section","title","subtitle","actions","Marketplace","navigate","useNavigate","isLoading","modules","setModules","data","total","loadDataAsync","list","category","omit","task","useTask","TabView","ResponsiveContainer","disableGutters","Card","CardContent","CircularProgress","List","ListItemButton","ListItemText","slice","sm","Boolean","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}