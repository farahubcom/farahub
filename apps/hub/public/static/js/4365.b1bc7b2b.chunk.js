"use strict";(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[4365],{94365:(e,s,n)=>{n.r(s),n.d(s,{default:()=>I});var t=n(68870),i=n(42419),a=n(61889),l=n(20890),o=n(35527),r=n(58518),d=n(72791),c=n(64742),x=n(45109),p=n(27067),h=n(81598),j=n(53329),u=n(39709),Z=n(65661),m=n(13400),f=n(94721),g=n(97123),C=n(26411),b=n(70697),k=n(54163),y=n(80184);const P=({open:e,onClose:s,defaultValues:n={},onCreateOrUpdate:i,requestConfig:a})=>{const l=(0,c.dp)("Tasks.Boards"),o={name:"",...n},{register:r,reset:x,loading:p,handleSubmit:P}=(0,k.Z)({initialValues:o,handlePost:e=>l.createOrUpdate(e,a),onSubmit:i});return(0,d.useEffect)((()=>{e&&x(o)}),[e]),(0,y.jsxs)(C.Z,{open:e,onClose:s,dialogProps:{fullWidth:!0,maxWidth:"xs"},children:[(0,y.jsxs)(Z.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,y.jsx)(t.Z,{children:n.id?"\u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u0628\u0631\u062f":"\u062b\u0628\u062a \u0628\u0631\u062f \u062c\u062f\u06cc\u062f"}),(0,y.jsx)(m.Z,{onClick:s,size:"small",children:(0,y.jsx)(h.Z,{})})]}),(0,y.jsx)(f.Z,{}),(0,y.jsx)(t.Z,{sx:{p:2},children:(0,y.jsx)(b.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",label:"\u0639\u0646\u0648\u0627\u0646 \u0628\u0631\u062f",variant:"filled",required:!0,...r("name")})}),(0,y.jsx)(f.Z,{}),(0,y.jsxs)(g.Z,{children:[(0,y.jsx)(u.Z,{loading:p,loadingPosition:"start",type:"submit",variant:"contained",startIcon:(0,y.jsx)(j.Z,{}),onClick:P,children:"\u062b\u0628\u062a"}),(0,y.jsx)(t.Z,{sx:{flexGrow:1}})]})]})};var v=n(88471),O=n(47047),S=n(75669);const w=({board:e,loading:s,readOnly:n,onClickRename:i})=>{const a=(0,p.Z)(),r=(0,c.Vg)("tasks.boardDetails");return s?(0,y.jsx)(O.Z,{variant:"rectangular",sx:{p:2,width:"100%",aspectRatio:"16/9",height:"105px"}}):(0,y.jsxs)(o.Z,{variant:"outlined",sx:{aspectRatio:"16/9",p:2,cursor:"pointer",position:"relative",display:"flex",flexDirection:"column",justifyContent:"flex-end"},onClick:()=>a(r(e)),children:[!Boolean(n)&&(0,y.jsx)(t.Z,{sx:{position:"absolute",right:10,top:10,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:(0,y.jsx)(m.Z,{size:"small",onClick:s=>{s.stopPropagation(),i(e)},children:(0,y.jsx)(v.Z,{fontSize:"small"})})}),(0,y.jsx)(l.Z,{fontWeight:700,children:(0,y.jsx)(S.Z,{children:e.name})})]})},z=({readOnly:e,onClickAdd:s,onClickRename:n})=>{const h=(0,c.dp)("Tasks.Boards"),{data:j,loading:u,reload:Z}=((0,p.Z)(),(0,x.Z)({handler:()=>h.list(),initialState:{data:{person:{}},loading:!0}})),{data:m}=j,{enqueueSnackbar:f}=((0,c.Vg)("tasks.boardDetails"),(0,r.Ds)()),[g,C]=(0,d.useState)({open:!1}),b=e=>{f(e),C({open:!1}),Z()};return(0,y.jsxs)(t.Z,{children:[(0,y.jsx)(a.ZP,{container:!0,justifyContent:"center",children:(0,y.jsxs)(a.ZP,{item:!0,xs:12,sm:8,md:8,children:[(0,y.jsx)(l.Z,{variant:"h6",sx:{mb:3},children:"\u0628\u0631\u062f\u0647\u0627\u06cc \u0645\u06cc\u0632 \u06a9\u0627\u0631"}),(0,y.jsxs)(a.ZP,{container:!0,spacing:2,children:[u&&[1,2,3,4,5,6].map((e=>(0,y.jsx)(a.ZP,{item:!0,xs:6,sm:4,md:3,children:(0,y.jsx)(w,{board:{},loading:!0})},e))),!u&&m.map(((s,n)=>(0,y.jsx)(a.ZP,{item:!0,xs:6,sm:4,md:3,children:(0,y.jsx)(w,{board:s,loading:u,readOnly:e,onClickRename:()=>C({open:!0,defaultValues:s,onCreateOrUpdate:e=>b("\u0628\u0631\u062f \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u06af\u0631\u062f\u06cc\u062f.")})})},n))),!Boolean(e)&&!u&&(0,y.jsx)(a.ZP,{item:!0,xs:6,sm:4,md:3,children:(0,y.jsxs)(o.Z,{variant:"outlined",sx:{px:3,pt:8,pb:2,textAlign:"center",position:"relative"},children:[(0,y.jsx)(l.Z,{fontWeight:700,sx:{opacity:0},children:"$"}),(0,y.jsx)(t.Z,{sx:{position:"absolute",left:0,width:"100%",top:0,height:"100%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>C({open:!0,onCreateOrUpdate:e=>b("\u0628\u0631\u062f \u062c\u062f\u06cc\u062f \u0627\u06cc\u062c\u0627\u062f \u06af\u0631\u062f\u06cc\u062f.")}),children:(0,y.jsx)(i.Z,{fontSize:"large",sx:{color:"text.secondary"}})})]})})]})]})}),(0,y.jsx)(P,{...g,onClose:()=>C({open:!1})})]})},I=()=>(0,y.jsx)(t.Z,{sx:{px:2,py:3},children:(0,y.jsx)(z,{})})}}]);
//# sourceMappingURL=4365.b1bc7b2b.chunk.js.map