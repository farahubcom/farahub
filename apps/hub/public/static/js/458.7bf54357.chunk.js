(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[458],{40490:(e,n,t)=>{"use strict";t.d(n,{A:()=>A});var i=t(58168),r=t(98587),l=t(65043),o=t(58387),s=t(65049),a=t(34535),c=t(98206),d=t(85865),u=t(14987),x=t(60239);function h(e){return(0,x.Ay)("MuiAlertTitle",e)}(0,u.A)("MuiAlertTitle",["root"]);var m=t(70579);const p=["className"],j=(0,a.Ay)(d.A,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,n)=>n.root})((({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2}))),A=l.forwardRef((function(e,n){const t=(0,c.b)({props:e,name:"MuiAlertTitle"}),{className:l}=t,a=(0,r.A)(t,p),d=t,u=(e=>{const{classes:n}=e;return(0,s.A)({root:["root"]},h,n)})(d);return(0,m.jsx)(j,(0,i.A)({gutterBottom:!0,component:"div",ownerState:d,ref:n,className:(0,o.A)(u.root,l)},a))}))},42907:(e,n,t)=>{var i=t(9096),r=t(99910);e.exports=function(e,n){return e&&e.length?r(e,i(n,2)):0}},49030:(e,n,t)=>{var i=t(56552).isFinite;e.exports=function(e){return"number"==typeof e&&i(e)}},60458:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>ve});var i=t(68903),r=t(18012),l=t(30370),o=t(56976),s=t(20694),a=t(65043),c=t(3111);const d=(0,a.createContext)();var u=t(46987),x=t(18611),h=t(70579);const m=(e,n)=>{var t,i;if(!e||!n||null===(t=e.prices)||void 0===t||!t.length)return 0;const r=e.prices.find((e=>e.pricing._id===n.id));return null!==(i=null===r||void 0===r?void 0:r.amount)&&void 0!==i?i:0};function p({injectedHooks:e={},defaultValues:n={},children:t}){const{inject:i}=(0,l.As)(),o=(0,r.Mv)("Invoices.Main"),s=(e,n)=>({item:e,amount:1,discount:0,unitPrice:m(e,n),...Object.assign({},...i("Invoices","InvoiceForm.newItemValues")||[])}),p={status:"",customer:null,issuedAt:new Date,number:"",pricing:null,note:"",items:[s()],...Object.assign({},...i("Invoices","InvoiceForm.initialValues")||[]),...n},{enqueueSnackbar:j}=(0,u.dh)(),A=(0,x.A)(),g=(0,r.b7)("Invoices.list"),v=(0,c.A)({initialValues:p,handlePost:e=>o.createOrUpdate({...e}),onSubmit:()=>{j("\u0641\u0627\u06a9\u062a\u0648\u0631 \u062b\u0628\u062a \u06af\u0631\u062f\u06cc\u062f."),A(g,{replace:!0})}});(0,a.useEffect)((()=>{(async()=>{let e=await o.getDefaultPricing();const t=e.pricing;let i=n.number;n.id||(e=await o.getNewNumber(),i=e.number),v.reset({...p,number:i,pricing:t})})()}),[]);return(0,h.jsxs)(d.Provider,{value:{...v,addRow:(e=null)=>{const n=v.getValue("items"),t=v.getValue("pricing");if(e){const i=n.findIndex((n=>{var t;return(null===(t=n.item)||void 0===t?void 0:t._id)===e._id}));-1!==i?n[i].amount+=1:n.length>0&&!n[n.length-1].item?n[n.length-1]={...n[n.length-1],item:e,unitPrice:m(e,t)}:n.push(s(e,t))}else n.push(s(null,t));v.setValue("items",n)},removeRow:e=>{const n=v.getValue("items"),t=v.getValue("pricing");v.setValue("items",0===e&&1===n.length?[s(null,t)]:n.filter(((n,t)=>t!==e)))}},children:[t,i("Invoices","InvoiceForm.Footer",{...v,...e})]})}const j=()=>(0,a.useContext)(d);var A=t(30279),g=t(14194),v=t(40490);const f=function({...e}){const{errors:n}=j();return(0,h.jsx)(A.A,{in:Object.keys(n).length>0,children:(0,h.jsxs)(g.A,{color:"error",icon:!1,...e,children:[(0,h.jsx)(v.A,{children:"\u062e\u0637\u0627\u06cc \u0627\u0639\u062a\u0628\u0627\u0631\u0633\u0646\u062c\u06cc"}),(0,h.jsx)("ul",{children:Object.keys(n).map(((e,t)=>(0,h.jsx)("li",{children:n[e][0]},t)))})]})})};var C=t(97167),b=t(5748),I=t(34535),y=t(85865),P=t(8122),w=t(81e3),k=t(15795),V=t(88911),S=t(12110),F=t(79958),R=t(26494),T=t(8302),z=t(72384),M=t(51690),W=t(28359),H=t(74117),D=t(98413),_=t(66181),O=t(91409),N=t(65622);const E=(0,I.Ay)(y.A)((({theme:e})=>({position:"relative",cursor:"pointer",transition:e.transitions.create("padding"),"& .MuiSvgIcon-root":{position:"absolute",right:0,opacity:0,transition:e.transitions.create("opacity")},"&:hover":{paddingInlineEnd:"1.25em"},"&:hover .MuiSvgIcon-root":{opacity:1}})));function q({children:e,...n}){return(0,h.jsxs)(E,{as:"span",...n,children:[e,(0,h.jsx)(P.A,{fontSize:"small",sx:{verticalAlign:"middle"},children:(0,h.jsx)(b.In,{icon:"solar:pen-linear"})})]})}const $=()=>{var e,n;const{t:t}=(0,H.Bd)(["global","invoices"]),{getValue:i,setValue:l}=j(),[o,s]=(0,a.useState)(!1),c=(0,r.xZ)("People.PersonSelectDialog"),{isOpen:d,close:u,open:x}=(0,O.A)(!1),m=(0,r.xZ)("Pricing.PricingsDialog"),{isOpen:p,close:g,open:v}=(0,O.A)(!1),[f,I]=(0,a.useState)({open:!1}),P=[{label:"\u0645\u0634\u062a\u0631\u06cc",value:(null===(e=i("customer"))||void 0===e?void 0:e.fullName)||"-----",onClick:x},{label:"\u062a\u0627\u0631\u06cc\u062e",renderValue:(0,h.jsx)(N.A,{defaultValue:i("issuedAt"),onSubmit:e=>l("issuedAt",e),InlineComponent:y.A,inlineComponentProps:{fontWeight:600,variant:"body1",sx:{display:"flex",justifyContent:"flex-end",width:"100%"}},renderInlineValue:e=>(0,W.A)(e,"yyyy/MM/dd"),renderForm:({value:e,setValue:n,toFocusRef:t})=>(0,h.jsx)(w.A,{children:(0,h.jsx)(M.$,{dateAdapter:C.A,children:(0,h.jsx)(z.l,{mask:"____/__/__",onChange:n,value:e,renderInput:e=>(0,h.jsx)(k.A,{InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",inputRef:t,...e})})})})})},{label:"\u0634\u0645\u0627\u0631\u0647",renderValue:(0,h.jsx)(N.A,{defaultValue:i("number"),onSubmit:e=>l("number",e),InlineComponent:y.A,inlineComponentProps:{fontWeight:600,variant:"body1",sx:{display:"flex",justifyContent:"flex-end",width:"100%"}},renderForm:({value:e,setValue:n,toFocusRef:t})=>(0,h.jsx)(D.A,{fullWidth:!0,size:"small",dir:"ltr",value:e,onChange:e=>n(e.target.value),required:!0,inputProps:{ref:t}})})}],E=[{label:"\u062a\u0639\u0631\u0641\u0647",value:(null===(n=i("pricing"))||void 0===n?void 0:n.name)||"-----",onClick:v},{label:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a",value:i("note")||(0,h.jsx)(y.A,{color:"inherit",sx:{opacity:.5},display:"inline",children:"\u0634\u0631\u062d \u062f\u0647\u06cc\u062f..."}),props:{direction:"column",alignItems:"flex-start"},onClick:((e,n={})=>()=>{I({renderContent:e,...n,open:!0})})((({value:e,setValue:n})=>(0,h.jsx)(k.A,{InputLabelProps:{shrink:!0},fullWidth:!0,multiline:!0,rows:3,label:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0641\u0627\u06a9\u062a\u0648\u0631",value:e,onChange:e=>n(e.target.value),autoFocus:!0})),{title:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0641\u0627\u06a9\u062a\u0648\u0631",defaultValue:i("note"),onSubmit:e=>{l("note",e),I({open:!1})}})}],$=e=>(0,h.jsx)(V.A,{children:e.map(((e,n)=>{var t;return(0,h.jsxs)(V.A,{direction:"row",alignItems:"center",gap:2,sx:{mb:2},...null!==(t=e.props)&&void 0!==t?t:{},children:[(0,h.jsx)(y.A,{variant:"body1",sx:{flexGrow:1},children:e.label}),(0,h.jsx)(w.A,{display:"inline-flex",justifyContent:"flex-end",alignItems:"center",flexGrow:"1",children:e.renderValue||(0,h.jsx)(q,{sx:{marginInlineStart:"auto"},onClick:e.onClick,fontWeight:600,variant:"body1",children:e.value})})]},n)}))});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(S.A,{variant:"outlined",children:[(0,h.jsx)(F.A,{title:"\u0639\u0645\u0648\u0645\u06cc",titleTypographyProps:{variant:"subtitle2"}}),(0,h.jsxs)(R.A,{children:[$(P),(0,h.jsx)(A.A,{in:o,children:$(E)}),(0,h.jsx)(T.A,{endIcon:(0,h.jsx)(b.In,{icon:"solar:alt-arrow-down-bold"}),sx:{marginInlineStart:"auto"},onClick:()=>s(!o),children:t("\u0645\u0634\u062e\u0635\u0627\u062a \u0628\u06cc\u0634\u062a\u0631")})]})]}),(0,h.jsx)(c,{open:d,onClose:u,selected:i("customer"),roles:["customer"],onSelect:e=>{l("customer",e),u()},onClear:()=>{l("customer",""),u()}}),(0,h.jsx)(m,{selectable:!0,open:p,onClose:g,selected:i("pricing"),onChange:e=>{l("pricing",e),g()},onClear:()=>{l("pricing",""),g()}}),(0,h.jsx)(_.A,{...f,onClose:()=>I({open:!1})})]})};var G=t(4566),B=t(85661);function Z(){var e,n;const t=(0,G.A)("Invoices.Main"),{data:i,loading:r,reload:l}=(0,B.A)({handler:()=>t.quickAccess()}),{addRow:o}=j();return(0,h.jsxs)(S.A,{variant:"outlined",children:[(0,h.jsx)(F.A,{title:"\u062f\u0633\u062a\u0631\u0633\u06cc \u0633\u0631\u06cc\u0639",titleTypographyProps:{variant:"subtitle2"}}),(0,h.jsxs)(R.A,{children:[(null===(e=i.data)||void 0===e?void 0:e.length)<1&&(0,h.jsx)(y.A,{textAlign:"center",children:"\u0645\u0648\u0631\u062f\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f"}),(null===(n=i.data)||void 0===n?void 0:n.length)>0&&(0,h.jsx)(V.A,{direction:"row",flexWrap:"wrap",gap:1,children:i.data.map(((e,n)=>(0,h.jsx)(T.A,{variant:"outlined",color:"inherit",onClick:()=>o(e),children:e.name},n)))})]})]})}var L=t(22505),U=t(76164),J=t(84882),Q=t(17392),K=t(51787),X=t(79650),Y=t(71806),ee=t(28076),ne=t(39652),te=t(73460),ie=t(69392),re=t(39336),le=t(27600),oe=t(20819),se=t.n(oe),ae=t(49030),ce=t.n(ae),de=t(87424),ue=t.n(de),xe=t(4398),he=t(84162),me=t(8237);const pe=(0,I.Ay)(J.A)((({theme:e})=>({"& .MuiTableCell-root":{backgroundColor:e.palette.background.paper}})));function je({injectedHooks:e={}}){const{inject:n}=(0,l.As)(),{t:t}=(0,H.Bd)(["global","invoices"]),{getValue:i,setValue:o,addRow:s,removeRow:c,...d}=j(),u=(0,a.useMemo)((()=>he.A.getInvoiceSubtotal(i("items"))),[i("items")]),x=(0,r.xZ)("Products.ProductSelectDialog"),[m,p]=(0,a.useState)({open:!1}),A=ue()([{title:"#",headerCellProps:{align:"center"},rowCellProps:{align:"center",width:75},renderCell:(e,n)=>(0,h.jsx)(y.A,{fontSize:"1.25rem",fontWeight:900,children:n+1}),priority:100},{title:t("\u06a9\u0627\u0644\u0627/\u062e\u062f\u0645\u062a"),headerCellProps:{align:"center"},rowCellProps:(e,n)=>({align:"center",width:200,onClick:()=>p({open:!0,rowIndex:n,selected:e.item}),sx:{cursor:"pointer"}}),renderCell:(e,n)=>{var i;return(null===(i=e.item)||void 0===i?void 0:i.name)||t("\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f...")},priority:200},{title:t("\u0645\u0642\u062f\u0627\u0631"),headerCellProps:{align:"center"},rowCellProps:{align:"center",width:175},renderCell:(e,n)=>(0,h.jsxs)(w.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,h.jsx)(Q.A,{size:"small",onClick:()=>{var t;return o(`items[${n}].amount`,(null!==(t=e.amount)&&void 0!==t?t:1)-1)},disabled:e.amount<2,children:(0,h.jsx)(U.A,{fontSize:"inherit"})}),(0,h.jsx)(y.A,{sx:{mx:1,verticalAlign:"middle"},children:e.amount}),(0,h.jsx)(Q.A,{size:"small",onClick:()=>{var t;return o(`items[${n}].amount`,(null!==(t=e.amount)&&void 0!==t?t:1)+1)},children:(0,h.jsx)(L.A,{fontSize:"inherit"})})]}),priority:300},{title:(0,h.jsxs)(h.Fragment,{children:[t("\u0642\u06cc\u0645\u062a \u0648\u0627\u062d\u062f")," ",(0,h.jsx)(y.A,{variant:"caption",children:"(\u0631\u06cc\u0627\u0644)"})]}),headerCellProps:{align:"center",width:175},rowCellComponent:N.A,rowCellProps:(e,n)=>({align:"center",width:175,defaultValue:e.unitPrice,onSubmit:e=>o(`items[${n}].unitPrice`,e),InlineComponent:me.A,renderInlineValue:xe.A,inlineComponentProps:{align:"center"},renderForm:({value:e,setValue:n,toFocusRef:t,handleSubmit:i})=>(0,h.jsx)(me.A,{align:"center",children:(0,h.jsx)("form",{onSubmit:i,children:(0,h.jsx)(D.A,{fullWidth:!0,size:"small",dir:"ltr",InputProps:{inputRef:t,startAdornment:(0,h.jsx)(K.A,{position:"start",children:(0,h.jsx)("small",{children:"\u0631\u06cc\u0627\u0644"})})},value:e,onChange:e=>n(e.target.value),required:!0})})})}),renderCell:(e,n)=>null,priority:400},{title:(0,h.jsxs)(h.Fragment,{children:[t("\u062a\u062e\u0641\u06cc\u0641")," ",(0,h.jsx)(y.A,{variant:"caption",children:"(\u0631\u06cc\u0627\u0644)"})]}),headerCellProps:{align:"center",width:175},rowCellComponent:N.A,rowCellProps:(e,n)=>({align:"center",width:175,defaultValue:e.discount,onSubmit:e=>o(`items[${n}].discount`,e),InlineComponent:me.A,renderInlineValue:xe.A,inlineComponentProps:{align:"center"},renderForm:({value:e,setValue:n,toFocusRef:t,handleSubmit:i})=>(0,h.jsx)(me.A,{align:"center",children:(0,h.jsx)("form",{onSubmit:i,children:(0,h.jsx)(D.A,{fullWidth:!0,size:"small",dir:"ltr",InputProps:{inputRef:t,startAdornment:(0,h.jsx)(K.A,{position:"start",children:(0,h.jsx)("small",{children:"\u0631\u06cc\u0627\u0644"})})},value:e,onChange:e=>n(e.target.value),required:!0})})})}),renderCell:(e,n)=>null,priority:500},{title:(0,h.jsxs)(h.Fragment,{children:[t("\u0645\u0628\u0644\u063a \u062e\u0627\u0644\u0635")," ",(0,h.jsx)(y.A,{variant:"caption",children:"(\u0631\u06cc\u0627\u0644)"})]}),headerCellProps:{align:"center"},rowCellProps:{align:"center",width:175},renderCell:(e,n)=>{const t=he.A.getItemTotalPrice(e);return ce()(t)?(0,xe.A)(t):0},priority:600},...se()(n("Invoices","InvoiceForm.tableDefinitions",{getValue:i,setValue:o,addRow:s,removeRow:c,...d,...e})||[])],(e=>e.priority));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(S.A,{variant:"outlined",sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,h.jsx)(F.A,{title:"\u0627\u0642\u0644\u0627\u0645 \u0641\u0627\u06a9\u062a\u0648\u0631",action:(0,h.jsx)(T.A,{size:"small",variant:"contained",startIcon:(0,h.jsx)(b.In,{icon:"solar:add-circle-linear"}),onClick:()=>s(),children:"\u0631\u062f\u06cc\u0641 \u062c\u062f\u06cc\u062f"}),titleTypographyProps:{variant:"subtitle2"}}),(0,h.jsx)(R.A,{sx:{p:0},children:(0,h.jsx)(X.A,{sx:{maxHeight:"400px",overflow:"auto"},children:(0,h.jsxs)(Y.A,{size:"small",stickyHeader:!0,children:[(0,h.jsx)(pe,{children:(0,h.jsxs)(ee.A,{children:[A.map(((e,n)=>e.render||e.renderCell||e.field?(0,h.jsx)(ne.A,{...e.headerCellProps,sx:{whiteSpace:"nowrap"},children:e.title},n):null)),(0,h.jsx)(ne.A,{})]})}),(0,h.jsx)(te.A,{children:i("items").map(((e,n)=>(0,h.jsxs)(ee.A,{children:[A.map(((t,i)=>{if(!t.render&&!t.renderCell&&!t.field)return null;const r=t.rowCellComponent||me.A;return(0,h.jsx)(r,{..."function"==typeof t.rowCellProps?t.rowCellProps(e,n):t.rowCellProps,children:t.renderCell?t.renderCell(e,n):t.render?t.render(e,n):e[t.field]},i)})),(0,h.jsx)(me.A,{align:"center",children:(0,h.jsx)(V.A,{direction:"row",alignItems:"center",spacing:1,children:(0,h.jsx)(ie.A,{title:"\u062d\u0630\u0641 \u0633\u0637\u0631",enterDelay:2e3,children:(0,h.jsx)(Q.A,{size:"small",onClick:()=>c(n),children:(0,h.jsx)(b.In,{icon:"solar:trash-bin-2-broken"})})})})})]},n)))})]})})}),(0,h.jsx)(re.A,{sx:{mt:"auto"}}),(0,h.jsx)(le.A,{sx:{justifyContent:"flex-end"},children:(0,h.jsxs)(y.A,{variant:"subtitle2",children:["\u0645\u062c\u0645\u0648\u0639: ",ce()(u)?(0,xe.A)(u):0," ",(0,h.jsx)(y.A,{variant:"caption",children:"\u0631\u06cc\u0627\u0644"})]})})]}),(0,h.jsx)(x,{...m,onSelect:s,onClose:()=>p({open:!1})})]})}function Ae({injectedHooks:e}){const{inject:n}=(0,l.As)(),{register:t,handleSubmit:i,loading:r,reset:o,getValue:s,setValue:a}=j();return(0,h.jsx)(S.A,{variant:"outlined",children:(0,h.jsx)(w.A,{sx:{p:2},children:(0,h.jsxs)(V.A,{alignItems:"end",children:[n("Invoices","InvoiceForm.Payment",{register:t,loading:r,getValue:s,setValue:a,reset:o,...e}),(0,h.jsx)(T.A,{variant:"contained",onClick:i,children:"\u062b\u0628\u062a \u0641\u0627\u06a9\u062a\u0648\u0631"})]})})})}const ge=({injectedHooks:e})=>{const{inject:n}=(0,l.As)(),t=j();return(0,h.jsx)(h.Fragment,{children:n("Invoices","InvoiceForm.PostTableGrid",{...t,...e})})},ve=()=>{const{inject:e}=(0,l.As)(),n=(0,r.b7)("Invoices.create"),t=Object.assign({},...e("Invoices","InvoiceForm.Hooks")||[]);return(0,h.jsx)(p,{injectedHooks:t,children:(0,h.jsx)(s.JQ,{...n,children:(0,h.jsxs)(o.A,{maxWidth:"xl",fullHeight:!0,children:[(0,h.jsx)(f,{sx:{mb:2}}),(0,h.jsxs)(i.Ay,{container:!0,spacing:2,children:[(0,h.jsx)(i.Ay,{item:!0,xs:3,children:(0,h.jsxs)(i.Ay,{container:!0,spacing:2,children:[(0,h.jsx)(i.Ay,{item:!0,xs:12,children:(0,h.jsx)($,{})}),(0,h.jsx)(i.Ay,{item:!0,xs:12,children:(0,h.jsx)(Z,{})})]})}),(0,h.jsxs)(i.Ay,{item:!0,xs:9,container:!0,spacing:2,children:[(0,h.jsx)(i.Ay,{item:!0,xs:12,children:(0,h.jsx)(je,{injectedHooks:t})}),(0,h.jsx)(ge,{injectedHooks:t}),(0,h.jsx)(i.Ay,{item:!0,sx:{marginInlineStart:"auto"},xs:4,children:(0,h.jsx)(Ae,{injectedHooks:t})})]})]})]})})})}},66181:(e,n,t)=>{"use strict";t.d(n,{A:()=>m});var i=t(71612),r=t(4219),l=t(81e3),o=t(17392),s=t(39336),a=t(35316),c=t(29347),d=t(8302),u=t(65043),x=t(99275),h=t(70579);const m=({title:e,defaultValue:n,onSubmit:t,open:m,onClose:p,renderContent:j,dialogProps:A={}})=>{const[g,v]=(0,u.useState)(n);return(0,u.useEffect)((()=>v(m?n:null)),[m]),(0,h.jsxs)(x.A,{open:m,onClose:p,dialogProps:{fullWidth:!0,maxWidth:"xs",...A},children:[(0,h.jsxs)(r.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,h.jsx)(l.A,{children:e}),(0,h.jsx)(o.A,{onClick:p,size:"small",children:(0,h.jsx)(i.A,{})})]}),(0,h.jsx)(s.A,{}),(0,h.jsx)(a.A,{children:j&&j({value:g,setValue:v})}),(0,h.jsx)(s.A,{}),(0,h.jsxs)(c.A,{children:[(0,h.jsx)(d.A,{type:"submit",variant:"contained",onClick:e=>t(g),children:"\u062b\u0628\u062a"}),(0,h.jsx)(l.A,{sx:{flexGrow:1}}),(0,h.jsx)(d.A,{type:"button",onClick:p,children:"\u0627\u0646\u0635\u0631\u0627\u0641"})]})]})}},76164:(e,n,t)=>{"use strict";var i=t(24994);n.A=void 0;var r=i(t(40039)),l=t(70579);n.A=(0,r.default)((0,l.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove")},84162:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var i,r=t(42907),l=t.n(r);class o{}i=o,o.getItemPureTotal=e=>e.amount*e.unitPrice,o.getItemDiscountPrice=e=>e.discount||0,o.getItemTotalPrice=e=>i.getItemPureTotal(e)-i.getItemDiscountPrice(e),o.getFactorPrice=(e,n)=>("PRICE"===n.unit?n.amount:n.amount/100*i.getInvoiceSubtotal(e))*("REDUCER"===n.type?-1:1),o.getInvoiceSubtotal=e=>l()(e,(e=>i.getItemTotalPrice(e))),o.getInvoiceTotal=(e,n)=>Number(i.getInvoiceSubtotal(e))+l()(n,(n=>i.getFactorPrice(e,n)));const s=o},99910:e=>{e.exports=function(e,n){for(var t,i=-1,r=e.length;++i<r;){var l=n(e[i]);void 0!==l&&(t=void 0===t?l:t+l)}return t}}}]);
//# sourceMappingURL=458.7bf54357.chunk.js.map