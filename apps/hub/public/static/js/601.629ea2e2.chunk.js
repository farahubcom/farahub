"use strict";(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[601],{40601:(e,s,i)=>{i.r(s),i.d(s,{default:()=>R});var n=i(68870),t=i(20890),a=i(89164),r=i(57621),d=i(39504),l=i(13239),c=i(61889),o=i(90493),x=i(76278),h=i(49900),j=i(24242),m=i.n(j),p=i(72791),Z=i(57689),u=i(62685),b=i(46019),v=i(61709),g=i(7175),y=i(40514),f=i(78439),w=i(59581),k=i(39709),C=i(47047),P=i(36314),S=i(94721),I=i(50533),z=i(78703),L=i.n(z),W=i(2959),D=i(58518),A=i(26411),T=i(80184);const F="#/app/",H=({open:e,onClose:s})=>{const{workspace:i}=(0,b.aC)(),a=(0,u.dp)("core.modules"),r=(0,u.dp)("core.subscriptions"),d=(0,Z.TH)(),[l,o]=(0,p.useState)({}),[x,h]=(0,p.useState)(!0);(0,p.useEffect)((()=>{e&&d.hash&&d.hash.startsWith(F)?(h(!0),(async()=>{const e=await a.details(d.hash.replace(F,""));o(e.module),h(!1)})()):h(!1)}),[e]);const{enqueueSnackbar:j}=(0,D.Ds)(),[m,v]=(0,p.useState)(!1),g=i.subscriptions.filter((e=>e.subscribed.id===l.id)).length>0;return(0,T.jsxs)(A.Z,{open:e,onClose:s,dialogProps:{fullWidth:!0,maxWidth:"lg"},children:[(0,T.jsx)(n.Z,{sx:{p:{xs:3,md:5}},children:(0,T.jsxs)(n.Z,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:{xs:"space-between"},alignItems:{xs:"flex-start",md:"center"},width:"100%"},children:[(0,T.jsxs)(n.Z,{children:[(0,T.jsx)(t.Z,{variant:"h5",sx:{m:0,fontWeight:700},children:x?(0,T.jsx)(C.Z,{variant:"text",width:200,animation:"wave"}):l.name}),(0,T.jsx)(t.Z,{variant:"body1",sx:{m:0},children:x?(0,T.jsx)(C.Z,{variant:"text",width:200,animation:"wave"}):l.description})]}),(0,T.jsx)(P.Z,{direction:"row",spacing:1,sx:{mt:{xs:3,md:0}},children:(0,T.jsx)(k.Z,{fullWidth:!0,variant:"contained",startIcon:g?(0,T.jsx)(y.Z,{}):(0,T.jsx)(f.Z,{}),disabled:g||m,loading:m,onClick:()=>!g&&(async()=>{v(!0);const e=await r.subscribe({moduleId:l.id,returnUrl:window.location.href});e.ok?window.location.href=e.redirectUrl:j("\u062e\u0637\u0627 \u062f\u0631 \u0628\u0631\u0642\u0631\u0627\u0631\u06cc \u0627\u0631\u062a\u0628\u0627\u0637")})(),children:g?"\u0646\u0635\u0628 \u0634\u062f\u0647":"\u0646\u0635\u0628"})})]})}),(0,T.jsx)(S.Z,{}),(0,T.jsx)(n.Z,{sx:{p:{xs:3,md:5}},children:(0,T.jsxs)(c.ZP,{container:!0,children:[(0,T.jsx)(c.ZP,{item:!0,xs:12,md:9,children:(0,T.jsx)(n.Z,{sx:{height:"100%"},children:x?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(C.Z,{variant:"text",width:"100%",animation:"wave"}),(0,T.jsx)(C.Z,{variant:"text",width:"100%",animation:"wave"}),(0,T.jsx)(C.Z,{variant:"text",width:"100%",animation:"wave"})]}):l.readme?(0,T.jsx)(W.Z,{breaks:!0,children:L().sanitize(l.readme)}):(0,T.jsx)(n.Z,{sx:{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a\u06cc \u062c\u0647\u062a \u0646\u0645\u0627\u06cc\u0634 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f."})})}),(0,T.jsxs)(c.ZP,{item:!0,xs:12,md:3,children:[(0,T.jsx)(t.Z,{variant:"h6",children:"\u062c\u0632\u0626\u06cc\u0627\u062a"}),(0,T.jsxs)(n.Z,{sx:{mt:2},children:[(0,T.jsx)(t.Z,{variant:"body2",color:"text.secondary",children:"\u062a\u0648\u0633\u0639\u0647\u200c\u062f\u0647\u0646\u062f\u0647"}),(0,T.jsx)(t.Z,{variant:"body1",children:(0,T.jsxs)(I.Z,{children:["\u0646\u06cc\u0644\u0627\u0647\u0627\u0628 ",(0,T.jsx)(w.Z,{fontSize:"inherit",color:"primary",sx:{verticalAlign:"middle"}})]})})]}),(0,T.jsxs)(n.Z,{sx:{mt:2},children:[(0,T.jsx)(t.Z,{variant:"body2",color:"text.secondary",children:"\u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc"}),(0,T.jsx)(t.Z,{variant:"body1",children:l.categories&&l.categories.length>0?l.categories.map(((e,s)=>(0,T.jsx)(I.Z,{children:e.name},s))).reduce(((e,s)=>[e,", ",s])):"\u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc \u0646\u062f\u0627\u0631\u062f"})]}),(0,T.jsxs)(n.Z,{sx:{mt:2},children:[(0,T.jsx)(t.Z,{variant:"body2",color:"text.secondary",children:"\u067e\u0644\u062a\u0641\u0631\u0645\u200c\u0647\u0627"}),(0,T.jsxs)(t.Z,{variant:"body1",children:[(0,T.jsx)(I.Z,{children:"\u0648\u0628\u0633\u0627\u06cc\u062a"}),", ",(0,T.jsx)(I.Z,{children:"\u0627\u067e\u0644\u06cc\u06a9\u06cc\u0634\u0646"}),", ",(0,T.jsx)(I.Z,{children:"\u062f\u0633\u06a9\u062a\u0627\u067e"})]})]}),(0,T.jsxs)(n.Z,{sx:{mt:2},children:[(0,T.jsx)(t.Z,{variant:"body2",color:"text.secondary",children:"\u067e\u06cc\u0634\u0646\u06cc\u0627\u0632\u0647\u0627"}),(0,T.jsx)(t.Z,{variant:"body1",children:l.dependencies&&l.dependencies.length>0?l.dependencies.map(((e,s)=>(0,T.jsx)(I.Z,{children:e.name},s))).reduce(((e,s)=>[e,", ",s])):"\u067e\u06cc\u0634\u0646\u06cc\u0627\u0632 \u0646\u062f\u0627\u0631\u062f"})]})]})]})})]})};var O=i(4830),$=i(66934),q=i(35527),E=i(12065),J=i(36151),U=i(99259);const V=(0,$.ZP)(q.Z,{shouldForwardProp:e=>!["selected","installed"].includes(e)})((({theme:e,installed:s,selected:i})=>({width:"100%",aspectRatio:"16/9",position:"relative",border:"1px solid ".concat(e.palette.divider),display:"flex",flexDirection:"column",justifyContent:"flex-end",padding:e.spacing(2),...!s&&{"&:hover":{borderColor:e.palette.primary.main,boxShadow:"0 0 0 1px ".concat(e.palette.primary.main),cursor:"pointer",backgroundColor:"#e5f5f8"}},...s&&{borderColor:e.palette.grey[200],backgroundColor:(0,E.Fq)(e.palette.grey[200],.5)},...i&&{borderColor:"#00a4bd",boxShadow:"0 0 0 1px #00a4bd",backgroundColor:"#e5f5f8"}}))),B=(0,$.ZP)(J.Z)((({theme:e})=>({position:"absolute",top:e.spacing(2),right:e.spacing(2)}))),G=({onInstalled:e,onClick:s,...i})=>{const{workspace:a}=(0,b.aC)(),r=a.subscriptions.filter((e=>e.subscribed.id===i.id)).length>0;return(0,T.jsxs)(V,{installed:r,variant:"outlined",onClick:s,children:[r&&(0,T.jsx)(B,{variant:"outlined",startIcon:(0,T.jsx)(U.Z,{component:O.JO,icon:"solar:check-read-linear"}),size:"small",disabled:!0,children:"\u0646\u0635\u0628 \u0634\u062f\u0647"}),(0,T.jsxs)(n.Z,{sx:{mt:"auto"},children:[(0,T.jsx)(t.Z,{variant:"h6",children:i.name}),(0,T.jsxs)(t.Z,{variant:"body2",color:"text.secondary",children:["\u062a\u0648\u0633\u0637 \u0646\u06cc\u0644\u0627\u0647\u0627\u0628 ",(0,T.jsx)(U.Z,{component:O.JO,icon:"solar:verified-check-bold-duotone",fontSize:"inherit",color:"primary",sx:{verticalAlign:"middle"}})]}),i.description&&(0,T.jsx)(t.Z,{sx:{mt:2},variant:"body1",children:i.description})]})]})},M=({title:e,subtitle:s,actions:i=[],children:a})=>(0,T.jsxs)(n.Z,{sx:{mt:5},children:[(0,T.jsx)(t.Z,{variant:"h6",children:e}),(0,T.jsx)(t.Z,{variant:"body2",color:"text.secondary",children:s}),(0,T.jsx)(n.Z,{sx:{mt:1},children:a})]}),R=()=>{const{workspace:e}=(0,b.aC)(),s=(0,Z.TH)(),i=(0,Z.s0)(),t=(0,u.dp)("core.modules"),[j,y]=(0,p.useState)(!0),[f,w]=(0,p.useState)({data:[],total:""}),k=async()=>{const s=await t.list({...e.category&&{category:e.category.id}});s.ok&&(w(m()(s,["ok"])),y(!1))};(0,p.useEffect)((()=>{k()}),[]);const C=(0,u.Vg)("Core.marketplace");return(0,T.jsxs)(g.xf,{...C,children:[(0,T.jsx)(v.Z,{children:(0,T.jsx)(a.Z,{disableGutters:!0,children:(0,T.jsx)(r.Z,{variant:"outlined",children:(0,T.jsx)(d.Z,{children:j?(0,T.jsx)(n.Z,{sx:{p:15,textAlign:"center"},children:(0,T.jsx)(l.Z,{})}):(0,T.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,T.jsx)(c.ZP,{item:!0,md:3,sx:{display:{xs:"none",md:"block"}},children:(0,T.jsx)(M,{title:"\u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc\u200c\u0647\u0627",children:(0,T.jsx)(o.Z,{children:(0,T.jsx)(x.Z,{selected:!0,children:(0,T.jsx)(h.Z,{primary:"\u0645\u062f\u06cc\u0631\u06cc\u062a"})})})})}),(0,T.jsxs)(c.ZP,{item:!0,xs:12,md:9,children:[(0,T.jsx)(M,{title:"\u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0647\u0627\u06cc \u067e\u0627\u06cc\u0647",subtitle:"\u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0647\u0627\u06cc \u0644\u0627\u0632\u0645 \u0628\u0631\u0627\u06cc \u0647\u0645\u0647 \u06a9\u0633\u0628\u200c\u0648\u06a9\u0627\u0631\u0647\u0627",children:(0,T.jsx)(c.ZP,{container:!0,spacing:2,sx:{mt:1},children:f.data.slice(0,3).map(((e,s)=>(0,T.jsx)(c.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,T.jsx)(G,{...e,onClick:()=>i(`#/app/${e.id}`),onInstalled:k})},s)))})}),(0,T.jsx)(M,{title:"\u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0647\u0627\u06cc \u0631\u0627\u06cc\u06af\u0627\u0646",subtitle:"\u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0647\u0627\u06cc \u0631\u0627\u06cc\u06af\u0627\u0646 \u0628\u0631\u0627\u06cc ",children:(0,T.jsx)(c.ZP,{container:!0,spacing:2,sx:{mt:1},children:f.data.slice(0,3).map(((e,s)=>(0,T.jsx)(c.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,T.jsx)(G,{...e,onClick:()=>i(`#/app/${e.id}`),onInstalled:k})},s)))})}),(0,T.jsx)(M,{title:"\u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0647\u0627\u06cc \u0645\u062d\u0628\u0648\u0628",subtitle:"\u0628\u06cc\u0634\u062a\u0631\u06cc\u0646 \u0646\u0635\u0628\u200c \u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0647\u0627 \u062f\u0631 \u062d\u0648\u0632\u0647 \u06a9\u0627\u0631\u06cc \u0634\u0645\u0627",children:(0,T.jsx)(c.ZP,{container:!0,spacing:2,sx:{mt:1},children:f.data.map(((e,s)=>(0,T.jsx)(c.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,T.jsx)(G,{...e,onClick:()=>i(`#/app/${e.id}`),onInstalled:k})},s)))})})]})]})})})})}),(0,T.jsx)(H,{open:Boolean(s.hash&&s.hash.startsWith("#/app/")),onClose:()=>i(-1)})]})}},40514:(e,s,i)=>{var n=i(64836);s.Z=void 0;var t=n(i(45649)),a=i(80184),r=(0,t.default)((0,a.jsx)("path",{d:"M5 18h14v2H5v-2zm4.6-2.7L5 10.7l2-1.9 2.6 2.6L17 4l2 2-9.4 9.3z"}),"DownloadDoneOutlined");s.Z=r},59581:(e,s,i)=>{var n=i(64836);s.Z=void 0;var t=n(i(45649)),a=i(80184),r=(0,t.default)((0,a.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"}),"Verified");s.Z=r}}]);
//# sourceMappingURL=601.629ea2e2.chunk.js.map