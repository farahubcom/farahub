(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[1813],{51813:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var r=s(42846),o=s(68870),l=s(61889),a=s(20890),n=s(93517),c=s(72791),i=s(57689),d=s(7175),p=s(74223),x=s(80184);const h=(0,p.Z)((0,x.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");var m=s(66934),u=s(85818),f=s(57621),g=s(13400),Z=s(97002);s(70697);(0,m.ZP)(h)((({theme:e})=>({color:e.palette.text.secondary})));const j=(0,m.ZP)(u.ZP)((({theme:e})=>({fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.button.fontSize}))),v=({ticket:e,onMessageSent:t})=>{const[s,r]=(0,c.useState)(""),l=(0,Z.dp)("tickets.main");return(0,x.jsxs)(f.Z,{variant:"outlined",sx:{px:2,py:1,display:"flex",mb:3},children:[(0,x.jsx)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",flexGrow:1},children:(0,x.jsx)(j,{placeholder:"\u067e\u06cc\u0627\u0645",value:s,onChange:e=>r(e.target.value),sx:{flexGrow:1},multiline:!0})}),(0,x.jsx)(o.Z,{children:(0,x.jsx)(g.Z,{onClick:async o=>{o.preventDefault();const a=await l.createOrUpdate({...e,messages:[...e.messages,{content:s,sentAt:new Date,isRespond:!1}]});a.ok&&(r(""),t(a.ticket))},sx:{transform:"rotate(180deg)"},children:(0,x.jsx)(h,{})})})]})};var y=s(93044),b=s(67317),C=s(45812),w=s.n(C),S=s(11087),k=s(90577);const M=({ticket:e})=>{(0,i.s0)(),(0,i.TH)();const[t,s]=(0,S.lr)(),[r,l]=(0,c.useState)(t.has("sort")?t.get("sort"):"-createdAt");return(0,k.Z)((()=>{s({...Object.fromEntries(t),sort:r})}),[r]),(0,x.jsx)(x.Fragment,{children:w()(e.messages,"sentAt","desc").map(((e,t)=>(0,x.jsx)(o.Z,{sx:{mb:2},children:(0,x.jsxs)(o.Z,{sx:{display:"flex",flexDirection:e.isRespond?"row-reverse":"row",justifyContent:"flex-start"},children:[(0,x.jsx)(y.Z,{src:"asd",sx:{mr:!e.isRespond&&2,ml:e.isRespond&&2}}),(0,x.jsxs)(f.Z,{variant:"outlined",sx:{flexBasis:{xs:"100%",md:"33.33%"},maxWidth:{xs:"100%",md:"50%"}},children:[(0,x.jsx)(a.Z,{sx:{mb:2,p:2},children:e.content}),(0,x.jsx)(o.Z,{sx:{px:2,py:1},children:(0,x.jsx)("small",{children:(0,b.Z)(new Date(e.sentAt),"yyyy/MM/dd hh:mm")})})]})]})},t)))})},P=()=>{var e;const t=(0,i.TH)(),[s,p]=(0,c.useState)(null===(e=t.state)||void 0===e?void 0:e.ticket);return s?(0,x.jsx)(d.xf,{title:"\u062a\u06cc\u06a9\u062a \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc",Icon:r.Z,children:(0,x.jsx)(o.Z,{sx:{p:{xs:1,sm:2,md:3}},children:(0,x.jsx)(l.ZP,{container:!0,justifyContent:"center",children:(0,x.jsxs)(l.ZP,{item:!0,xs:12,md:8,children:[(0,x.jsx)(o.Z,{sx:{mb:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,x.jsxs)(o.Z,{children:[(0,x.jsx)(a.Z,{variant:"h5",sx:{fontWeight:600,mb:1},children:s.subject}),(0,x.jsxs)(n.Z,{children:[(0,x.jsx)(a.Z,{color:"text.primary",children:"\u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc"}),(0,x.jsx)(a.Z,{color:"text.primary",children:"\u062a\u06cc\u06a9\u062a\u200c\u0647\u0627"}),(0,x.jsx)(a.Z,{color:"text.primary",children:s.subject})]})]})}),(0,x.jsx)(v,{ticket:s,onMessageSent:e=>p(e)}),(0,x.jsx)(M,{ticket:s})]})})})}):(0,x.jsx)(i.Fg,{to:"/support/tickets",replace:!0})}},42846:(e,t,s)=>{"use strict";var r=s(64836);t.Z=void 0;var o=r(s(45649)),l=s(80184),a=(0,o.default)((0,l.jsx)("path",{d:"M19 14v4h-2v-4h2M7 14v4H6c-.55 0-1-.45-1-1v-3h2m5-13c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h4v1h-7v2h6c1.66 0 3-1.34 3-3V10c0-4.97-4.03-9-9-9z"}),"HeadsetMicOutlined");t.Z=a},93517:(e,t,s)=>{"use strict";s.d(t,{Z:()=>R});var r=s(87462),o=s(63366),l=s(72791),a=(s(57441),s(28182)),n=s(94419),c=s(50272),i=s(66934),d=s(31402),p=s(20890),x=s(12065),h=s(74223),m=s(80184);const u=(0,h.Z)((0,m.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var f=s(95080);const g=["slots","slotProps"],Z=(0,i.ZP)(f.Z)((({theme:e})=>(0,r.Z)({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`},"light"===e.palette.mode?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,r.Z)({},"light"===e.palette.mode?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}),"&:active":(0,r.Z)({boxShadow:e.shadows[0]},"light"===e.palette.mode?{backgroundColor:(0,x._4)(e.palette.grey[200],.12)}:{backgroundColor:(0,x._4)(e.palette.grey[600],.12)})}))),j=(0,i.ZP)(u)({width:24,height:16});const v=function(e){const{slots:t={},slotProps:s={}}=e,l=(0,o.Z)(e,g),a=e;return(0,m.jsx)("li",{children:(0,m.jsx)(Z,(0,r.Z)({focusRipple:!0},l,{ownerState:a,children:(0,m.jsx)(j,(0,r.Z)({as:t.CollapsedIcon,ownerState:a},s.collapsedIcon))}))})};var y=s(75878),b=s(21217);function C(e){return(0,b.Z)("MuiBreadcrumbs",e)}const w=(0,y.Z)("MuiBreadcrumbs",["root","ol","li","separator"]),S=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],k=(0,i.ZP)(p.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${w.li}`]:t.li},t.root]})({}),M=(0,i.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),P=(0,i.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function I(e,t,s,r){return e.reduce(((o,l,a)=>(a<e.length-1?o=o.concat(l,(0,m.jsx)(P,{"aria-hidden":!0,className:t,ownerState:r,children:s},`separator-${a}`)):o.push(l),o)),[])}const R=l.forwardRef((function(e,t){const s=(0,d.Z)({props:e,name:"MuiBreadcrumbs"}),{children:i,className:p,component:x="nav",slots:h={},slotProps:u={},expandText:f="Show path",itemsAfterCollapse:g=1,itemsBeforeCollapse:Z=1,maxItems:j=8,separator:y="/"}=s,b=(0,o.Z)(s,S),[w,P]=l.useState(!1),R=(0,r.Z)({},s,{component:x,expanded:w,expandText:f,itemsAfterCollapse:g,itemsBeforeCollapse:Z,maxItems:j,separator:y}),B=(e=>{const{classes:t}=e;return(0,n.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},C,t)})(R),z=(0,c.Z)({elementType:h.CollapsedIcon,externalSlotProps:u.collapsedIcon,ownerState:R}),A=l.useRef(null),T=l.Children.toArray(i).filter((e=>l.isValidElement(e))).map(((e,t)=>(0,m.jsx)("li",{className:B.li,children:e},`child-${t}`)));return(0,m.jsx)(k,(0,r.Z)({ref:t,component:x,color:"text.secondary",className:(0,a.default)(B.root,p),ownerState:R},b,{children:(0,m.jsx)(M,{className:B.ol,ref:A,ownerState:R,children:I(w||j&&T.length<=j?T:(e=>Z+g>=e.length?e:[...e.slice(0,Z),(0,m.jsx)(v,{"aria-label":f,slots:{CollapsedIcon:h.CollapsedIcon},slotProps:{collapsedIcon:z},onClick:()=>{P(!0);const e=A.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-g,e.length)])(T),B.separator,y,R)})}))}))},45812:(e,t,s)=>{var r=s(93226),o=s(93629);e.exports=function(e,t,s,l){return null==e?[]:(o(t)||(t=null==t?[]:[t]),o(s=l?void 0:s)||(s=null==s?[]:[s]),r(e,t,s))}}}]);
//# sourceMappingURL=1813.e742b390.chunk.js.map