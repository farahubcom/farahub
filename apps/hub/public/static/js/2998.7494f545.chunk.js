"use strict";(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[2998],{11692:(e,t,r)=>{r.d(t,{Z:()=>S});var o=r(66934),a=r(49877),i=r(68870),n=r(13967),s=r(95193),l=r(55931),d=r(39157),c=r(61889),h=r(36314),p=r(36151),u=r(57689),g=r(46019),m=r(28367),x=r(26386),b=r(13400),v=r(20890),Z=(r(72791),r(80184));const f=(0,o.ZP)(b.Z)((({theme:e})=>({display:"flex",flexDirection:"column",minWidth:94.5}))),j=(0,o.ZP)("span")((({theme:e})=>({display:"inline-block"}))),C=(0,o.ZP)(v.Z)((({theme:e})=>({...e.typography.button,display:"inline-block"}))),w=({label:e,labelTypographyProps:t={},children:r,...o})=>(0,Z.jsxs)(f,{...o,children:[(0,Z.jsx)(j,{children:r}),e&&(0,Z.jsx)(C,{...t,children:e})]});var y=r(26411);const P=(0,o.ZP)(a.Z)((({theme:e})=>({position:"fixed",bottom:`calc(${e.spacing(2)} + 48px)`,left:e.spacing(2),zIndex:100}))),k=(0,o.ZP)(i.Z)((({theme:e})=>({}))),z=(0,o.ZP)("span")((({theme:e})=>({border:"1px solid currentColor",borderRadius:"50%",padding:e.spacing(.75),display:"flex",alignItems:"center",justifyContent:"center"}))),S=({actions:e=[],ResponsiveActionComponent:t=P,responsiveActionProps:r={},ResponsiveActionIcon:o,showResponsiveOnDesktop:a=!1})=>{var i,b;const v=(0,n.Z)(),f=(0,s.Z)(v.breakpoints.down("sm")),j=(0,u.s0)(),C="actions",{hasSegment:S,addSegment:M,removeSegment:R}=(0,x.Z)(),F=(0,m.Z)(),I=({children:t})=>e.length>1?(0,Z.jsx)(Z.Fragment,{children:t}):(0,Z.jsx)(l.Z,{direction:"up",in:!F,mountOnEnter:!0,unmountOnExit:!0,children:t});return a||f?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(I,{children:(0,Z.jsx)(t,{onClick:e.length>1?()=>j(M(C)):null===(i=e[0])||void 0===i?void 0:i.onClick,...r,children:e.length>1?o:null===(b=e[0])||void 0===b?void 0:b.icon})}),e.length>0&&(0,Z.jsx)(y.Z,{dialogProps:{fullWidth:!0,maxWidth:"xs"},open:S(C),onClose:()=>j(R(C),{replace:!0}),children:(0,Z.jsx)(d.Z,{children:(0,Z.jsx)(c.ZP,{container:!0,columns:3,children:e.map(((e,t)=>(0,Z.jsx)(g.FY,{authorize:e.authorize,children:(0,Z.jsx)(c.ZP,{item:!0,xs:1,alignItems:"center",justifyContent:"center",children:(0,Z.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Z.jsx)(w,{label:e.title,onClick:e.onClick,size:"large",color:"inherit",labelTypographyProps:{sx:{mt:1}},children:(0,Z.jsx)(z,{children:e.icon})})})})},t)))})})})]}):(0,Z.jsx)(k,{children:(0,Z.jsx)(h.Z,{direction:f?"row-reverse":"row",spacing:1,children:e.map(((e,t)=>(0,Z.jsx)(g.FY,{authorize:e.authorize,children:(0,Z.jsx)(p.Z,{variant:"transparent",disableElevation:!0,startIcon:e.icon,onClick:e.onClick,...e.buttonProps,children:e.title})},t)))})})}},52998:(e,t,r)=>{r.r(t),r.d(t,{default:()=>E});var o=r(4390),a=r(68870),i=r(36314),n=r(57621),s=r(94721),l=r(25506),d=r.n(l),c=r(64286),h=r.n(c),p=r(11087),u=r(58518),g=r(97002),m=r(46019),x=r(11692),b=r(61709),v=r(7175),Z=r(42239),f=r(99519),j=r(85356),C=r(4830),w=r(67317),y=r(72791),P=r(78925),k=r(75669),z=r(90577),S=r(26182),M=r(80184);const R=({loading:e,data:t,meta:r,infiniteScrollProps:o,onClickChangeStatus:i})=>{const{inject:n}=(0,m.aC)(),[s,l]=(0,p.lr)(),[c,u]=(0,y.useState)(s.has("sort")?s.get("sort"):"-createdAt");(0,z.Z)((()=>{l({...Object.fromEntries(s),sort:c})}),[c]);const g=(0,S.Z)();return(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(P.Z,{data:t,loading:e,infiniteScrollProps:o,definitions:h()([{title:"\u0631\u062f\u06cc\u0641",headerCellProps:{align:"center"},rowCellProps:{align:"center",width:100},renderCell:(e,t)=>(0,M.jsx)(k.Z,{children:g(t)}),priority:100},{title:"\u0645\u06cc\u0632 \u06a9\u0627\u0631",rowCellProps:{width:150},render:e=>{var t;return(0,M.jsx)(k.Z,{children:null===(t=e.workspace)||void 0===t?void 0:t.name})||"-"},priority:200},{field:"content",title:"\u0645\u062a\u0646",rowCellProps:{width:350},render:e=>(0,M.jsx)(a.Z,{whiteSpace:"pre-line",children:(0,M.jsx)(k.Z,{children:e.content})})||"-",priority:300},{field:"code",title:"\u0648\u0636\u0639\u06cc\u062a",headerCellProps:{align:"center"},rowCellProps:{align:"center",width:150},render:e=>(0,M.jsx)(k.Z,{children:e.latestStatus.status})||"-",priority:500},{title:"\u0622\u062e\u0631\u06cc\u0646 \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc",headerCellProps:{align:"center"},rowCellProps:{align:"center",width:200},render:e=>(0,M.jsx)(k.Z,{children:(0,w.Z)(new Date(e.latestStatus.createdAt),"dd MMMM yyyy HH:mm")})||"-",priority:600},...d()(n("Customers-Club-Management","Customers-Club-ManagementList.definitions")||[])],(e=>e.priority)),renderSheetTitle:e=>(0,M.jsx)(k.Z,{children:e.name}),tableRowProps:e=>({striped:!0}),paginationProps:{count:r.total,rowsPerPage:s.has("perPage")?Number(s.get("perPage")):25,page:s.has("page")?Number(s.get("page")):0,onPageChange:(e,t)=>l({...Object.fromEntries([...s]),page:t}),onRowsPerPageChange:e=>l({...Object.fromEntries([...s]),perPage:e.target.value})},actions:[{title:"\u062a\u063a\u06cc\u06cc\u0631 \u0648\u0636\u0639\u06cc\u062a",icon:(0,M.jsx)(C.JO,{icon:"solar:clipboard-check-linear"}),onClick:i,authorize:({hasRole:e,hasPermission:t})=>e("owner")||t("person:edit")}]})})};var F=r(5403),I=r(66934),O=r(85818),N=r(37398);const A=(0,I.ZP)(F.Z)((({theme:e})=>({color:e.palette.text.secondary}))),V=(0,I.ZP)(O.ZP)((({theme:e})=>({fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.button.fontSize}))),W=()=>{const[e,t]=(0,p.lr)(),[r,o]=(0,y.useState)(e.get("query")||""),i=(0,N.Z)(r,500);return(0,z.Z)((()=>{t({...Object.fromEntries(e),query:i})}),[i]),(0,M.jsx)(a.Z,{sx:{px:2,py:1.5,display:"flex"},className:"search-form",children:(0,M.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1},children:[(0,M.jsx)(A,{sx:{mr:1},color:"inherit"}),(0,M.jsx)(V,{value:r,placeholder:"\u062c\u0633\u062a\u062c\u0648...",onChange:e=>o(e.target.value),sx:{flexGrow:1}})]})})},E=()=>{const{inject:e}=(0,m.aC)(),t=(0,g.dp)("Customers-Club-Management.Messages"),[r]=(0,p.lr)(),{data:l,total:c,loading:C,loadMore:w,reload:y}=(0,f.Z)({handleFetch:e=>t.list({...e,...Object.fromEntries([...r])}),loadDeps:[r],infiniteScrollDefaultParams:{page:r.has("page")?r.get("page"):0,perPage:r.has("perPage")?r.get("perPage"):25}}),{enqueueSnackbar:P}=(0,u.Ds)(),[k,z,S]=(0,Z.Z)("form"),F=Object.assign({},...e("Customers-Club-Management","MessagesList.Hooks")||[]),I=(0,g.Vg)("Customers-Club-Management.messages");return(0,M.jsx)(v.xf,{...I,children:(0,M.jsxs)(b.Z,{children:[(0,M.jsxs)(a.Z,{sx:{display:"flex",mb:{xs:0,sm:1}},children:[(0,M.jsx)(a.Z,{sx:{flexGrow:1}}),(0,M.jsx)(i.Z,{direction:"row",spacing:1,children:(0,M.jsx)(x.Z,{actions:h()([...d()(e("Customers-Club-Management","MessagesList.ActionsList",{data:l,loading:C,reload:y,...F})||[])],(e=>e.priority)),ResponsiveActionIcon:(0,M.jsx)(o.Z,{}),responsiveActionProps:{color:"primary"}})})]}),(0,M.jsxs)(n.Z,{variant:"outlined",children:[(0,M.jsx)(W,{}),(0,M.jsx)(s.Z,{}),(0,M.jsx)(R,{data:l,loading:C,meta:{total:c},infiniteScrollProps:{loading:!1,hasNextPage:l.length<c,onLoadMore:w},onClickChangeStatus:e=>{z({defaultValues:{workspaceId:e.workspace.id,messageId:e.id},onUpdate:()=>(P("\u0648\u0636\u0639\u06cc\u062a \u067e\u06cc\u0627\u0645\u06a9 \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u06af\u0631\u062f\u06cc\u062f."),y(),void S())})}})]}),(0,M.jsx)(j.Z,{...k}),e("Customers-Club-Management","MessagesList.Footer",{data:l,loading:C,reload:y,...F})]})})}},4390:(e,t,r)=>{var o=r(64836);t.Z=void 0;var a=o(r(45649)),i=r(80184),n=(0,a.default)((0,i.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"MenuOutlined");t.Z=n},49877:(e,t,r)=>{r.d(t,{Z:()=>Z});var o=r(63366),a=r(87462),i=r(72791),n=r(28182),s=r(94419),l=r(95080),d=r(14036),c=r(31402),h=r(75878),p=r(21217);function u(e){return(0,p.Z)("MuiFab",e)}const g=(0,h.Z)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var m=r(66934),x=r(80184);const b=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],v=(0,m.ZP)(l.Z,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,m.FO)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${(0,d.Z)(r.size)}`],"inherit"===r.color&&t.colorInherit,t[(0,d.Z)(r.size)],t[r.color]]}})((({theme:e,ownerState:t})=>{var r,o;return(0,a.Z)({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:null==(r=(o=e.palette).getContrastText)?void 0:r.call(o,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${g.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},"small"===t.size&&{width:40,height:40},"medium"===t.size&&{width:48,height:48},"extended"===t.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===t.variant&&"small"===t.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===t.variant&&"medium"===t.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===t.color&&{color:"inherit"})}),(({theme:e,ownerState:t})=>(0,a.Z)({},"inherit"!==t.color&&"default"!==t.color&&null!=(e.vars||e).palette[t.color]&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}})),(({theme:e})=>({[`&.${g.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}))),Z=i.forwardRef((function(e,t){const r=(0,c.Z)({props:e,name:"MuiFab"}),{children:i,className:l,color:h="default",component:p="button",disabled:g=!1,disableFocusRipple:m=!1,focusVisibleClassName:Z,size:f="large",variant:j="circular"}=r,C=(0,o.Z)(r,b),w=(0,a.Z)({},r,{color:h,component:p,disabled:g,disableFocusRipple:m,size:f,variant:j}),y=(e=>{const{color:t,variant:r,classes:o,size:i}=e,n={root:["root",r,`size${(0,d.Z)(i)}`,"inherit"===t?"colorInherit":t]},l=(0,s.Z)(n,u,o);return(0,a.Z)({},o,l)})(w);return(0,x.jsx)(v,(0,a.Z)({className:(0,n.default)(y.root,l),component:p,disabled:g,focusRipple:!m,focusVisibleClassName:(0,n.default)(y.focusVisible,Z),ownerState:w,ref:t},C,{classes:y,children:i}))}))}}]);
//# sourceMappingURL=2998.7494f545.chunk.js.map