"use strict";(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[6190],{11692:(e,n,s)=>{s.d(n,{Z:()=>I});var i=s(66934),l=s(49877),t=s(68870),r=s(13967),o=s(95193),a=s(55931),d=s(39157),c=s(61889),x=s(36314),h=s(36151),p=s(57689),j=s(46019),m=s(28367),u=s(26386),Z=s(13400),g=s(20890),P=(s(72791),s(80184));const f=(0,i.ZP)(Z.Z)((({theme:e})=>({display:"flex",flexDirection:"column",minWidth:94.5}))),C=(0,i.ZP)("span")((({theme:e})=>({display:"inline-block"}))),b=(0,i.ZP)(g.Z)((({theme:e})=>({...e.typography.button,display:"inline-block"}))),y=({label:e,labelTypographyProps:n={},children:s,...i})=>(0,P.jsxs)(f,{...i,children:[(0,P.jsx)(C,{children:s}),e&&(0,P.jsx)(b,{...n,children:e})]});var v=s(26411);const k=(0,i.ZP)(l.Z)((({theme:e})=>({position:"fixed",bottom:`calc(${e.spacing(2)} + 48px)`,left:e.spacing(2),zIndex:100}))),w=(0,i.ZP)(t.Z)((({theme:e})=>({}))),S=(0,i.ZP)("span")((({theme:e})=>({border:"1px solid currentColor",borderRadius:"50%",padding:e.spacing(.75),display:"flex",alignItems:"center",justifyContent:"center"}))),I=({actions:e=[],ResponsiveActionComponent:n=k,responsiveActionProps:s={},ResponsiveActionIcon:i,showResponsiveOnDesktop:l=!1})=>{var t,Z;const g=(0,r.Z)(),f=(0,o.Z)(g.breakpoints.down("sm")),C=(0,p.s0)(),b="actions",{hasSegment:I,addSegment:z,removeSegment:D}=(0,u.Z)(),W=(0,m.Z)(),A=({children:n})=>e.length>1?(0,P.jsx)(P.Fragment,{children:n}):(0,P.jsx)(a.Z,{direction:"up",in:!W,mountOnEnter:!0,unmountOnExit:!0,children:n});return l||f?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(A,{children:(0,P.jsx)(n,{onClick:e.length>1?()=>C(z(b)):null===(t=e[0])||void 0===t?void 0:t.onClick,...s,children:e.length>1?i:null===(Z=e[0])||void 0===Z?void 0:Z.icon})}),e.length>0&&(0,P.jsx)(v.Z,{dialogProps:{fullWidth:!0,maxWidth:"xs"},open:I(b),onClose:()=>C(D(b),{replace:!0}),children:(0,P.jsx)(d.Z,{children:(0,P.jsx)(c.ZP,{container:!0,columns:3,children:e.map(((e,n)=>(0,P.jsx)(j.FY,{authorize:e.authorize,children:(0,P.jsx)(c.ZP,{item:!0,xs:1,alignItems:"center",justifyContent:"center",children:(0,P.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,P.jsx)(y,{label:e.title,onClick:e.onClick,size:"large",color:"inherit",labelTypographyProps:{sx:{mt:1}},children:(0,P.jsx)(S,{children:e.icon})})})})},n)))})})})]}):(0,P.jsx)(w,{children:(0,P.jsx)(x.Z,{direction:f?"row-reverse":"row",spacing:1,children:e.map(((e,n)=>(0,P.jsx)(j.FY,{authorize:e.authorize,children:(0,P.jsx)(h.Z,{variant:"transparent",disableElevation:!0,startIcon:e.icon,onClick:e.onClick,...e.buttonProps,children:e.title})},n)))})})}},39269:(e,n,s)=>{s.d(n,{Z:()=>D});var i=s(81598),l=s(57250),t=s(63872),r=s(66934),o=s(35855),a=s(68870),d=s(13239),c=s(39281),x=s(79836),h=s(53382),p=s(68745),j=s(93044),m=s(65661),u=s(13400),Z=s(94721),g=s(63466),P=s(97123),f=s(36151),C=s(72791),b=s(37398),y=s(18702),v=s(64742),k=s(70697),w=s(26411),S=s(80184);const I=(0,r.ZP)(o.Z)((({theme:e,hover:n,selected:s})=>({cursor:n?"pointer":"auto",backgroundColor:s?e.palette.action.hover:e.palette.common.white,"&:focus":{backgroundColor:e.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}))),z=({loading:e,modules:n,selected:s,onSelect:i,selectable:l})=>{const r=e=>!(!l||!s)&&(Array.isArray(s)?s.filter((n=>n.id===e.id)).length>0:s.id===e.id);return e?(0,S.jsx)(a.Z,{sx:{px:5,py:5,textAlign:"center"},children:(0,S.jsx)(d.Z,{})}):n.length<1?(0,S.jsxs)(a.Z,{sx:{px:5,py:5,textAlign:"center"},children:[(0,S.jsx)(t.Z,{fontSize:"large"}),(0,S.jsx)("p",{children:"\u0645\u0648\u0631\u062f\u06cc \u062c\u0647\u062a \u0646\u0645\u0627\u06cc\u0634 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f."})]}):(0,S.jsx)(c.Z,{sx:{overflow:"auto",maxHeight:400},children:(0,S.jsx)(x.Z,{stickyHeader:!0,size:"small",children:(0,S.jsx)(h.Z,{children:n.map(((e,n)=>(0,S.jsxs)(I,{selected:r(e),hover:l,onClick:()=>l&&i(e),children:[(0,S.jsx)(p.Z,{align:"center",children:n+1}),(0,S.jsx)(p.Z,{children:(0,S.jsxs)(a.Z,{sx:{display:"flex"},children:[(0,S.jsx)(j.Z,{src:e.picture,variant:"rounded",children:(0,S.jsx)(y.Z,{})}),(0,S.jsxs)(a.Z,{sx:{pl:2},children:[(0,S.jsx)("strong",{children:e.name}),(0,S.jsx)("br",{}),(0,S.jsx)(a.Z,{sx:{fontFamily:"Helvetica"},children:e.identifier})]})]})})]},n)))})})})},D=({open:e,onClose:n,selectable:s,selected:t,onSelect:r,onClear:o,queryParams:d={}})=>{const c=(0,v.dp)("core.modules"),[x,h]=(0,C.useState)(!0),[p,j]=(0,C.useState)([]),[y,I]=(0,C.useState)(""),D=(0,b.Z)(y,500);return(0,C.useEffect)((()=>{if(!e){const e=setTimeout((()=>{h(!0),""!==y&&I("")}),500);return()=>{clearTimeout(e)}}(async()=>{const{ok:e,data:n}=await c.list({...d,query:D,...""===y?{page:0,perPage:100}:{}});e&&(j(n),h(!1))})()}),[e,D]),(0,S.jsxs)(w.Z,{open:e,onClose:n,dialogProps:{fullWidth:!0,maxWidth:"xs"},children:[(0,S.jsxs)(m.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,S.jsx)(a.Z,{children:s?"\u0627\u0646\u062a\u062e\u0627\u0628 \u0645\u0627\u0698\u0648\u0644":"\u0645\u062f\u06cc\u0631\u06cc\u062a \u0645\u0627\u0698\u0648\u0644\u200c\u0647\u0627"}),(0,S.jsx)(u.Z,{onClick:n,size:"small",children:(0,S.jsx)(i.Z,{})})]}),(0,S.jsx)(Z.Z,{}),(0,S.jsx)(a.Z,{sx:{p:2},children:(0,S.jsx)(k.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",variant:"filled",label:"\u062c\u0633\u062a\u062c\u0648 \u0628\u0631\u0627\u0633\u0627\u0633 \u0646\u0627\u0645",value:y,onChange:e=>I(e.target.value),InputProps:{startAdornment:(0,S.jsx)(g.Z,{position:"start",children:(0,S.jsx)(l.Z,{})})}})}),(0,S.jsx)(z,{loading:x,modules:p,selectable:s,selected:t,onSelect:r}),(0,S.jsx)(Z.Z,{}),(0,S.jsxs)(P.Z,{children:[s&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(f.Z,{type:"button",onClick:n,children:"\u0628\u0633\u062a\u0646"}),(0,S.jsx)(a.Z,{sx:{flexGrow:1}})]}),o&&(0,S.jsx)(f.Z,{type:"button",onClick:o,children:"\u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646"}),!s&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(a.Z,{sx:{flexGrow:1}}),(0,S.jsx)(f.Z,{type:"button",onClick:n,children:"\u0627\u0646\u0635\u0631\u0627\u0641"})]})]})]})}},16190:(e,n,s)=>{s.r(n),s.d(n,{default:()=>pe});var i=s(42419),l=s(4390),t=s(68870),r=s(57621),o=s(58518),a=s(72791),d=s(11087),c=s(64742),x=s(11692),h=s(61709),p=s(7175),j=s(99519),m=s(39705),u=s(39027),Z=s(95616),g=s(81598),P=s(97479),f=s(53329),C=s(63250),b=s(39709),y=s(65661),v=s(13400),k=s(94721),w=s(39157),S=s(61889),I=s(90493),z=s(15021),D=s(76278),W=s(57064),A=s(49900),R=s(91440),F=s(56125),E=s(63466),L=s(97123),O=s(36151),q=s(20139),T=s(26411),V=s(70697),M=s(54163),H=s(85818),G=s(78703),U=s.n(G),Y=s(2959),N=s(66934),$=s(80184);const B=(0,N.ZP)(t.Z)((({theme:e})=>({backgroundColor:"rgb(223, 227, 235)",border:"1px solid rgb(203, 214, 226)",width:"100%",borderRadius:"30000px",padding:"4px 8px",display:"flex",position:"relative",cursor:"pointer"}))),J=(0,N.ZP)("div")((({theme:e})=>({width:"calc(50% - 10px)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",lineHeight:"initial",zIndex:"2",textAlign:"center"}))),K=(0,N.ZP)("div")((({theme:e})=>({fontSize:"11px",fontWeight:600}))),Q=(0,N.ZP)("div")((({theme:e})=>({fontSize:"11px"}))),X=(0,N.ZP)("div")((({theme:e})=>({position:"absolute",height:"calc(100% + 6px)",width:"calc(50% + 6px)",background:"rgb(255, 255, 255)",borderRadius:"3000px",top:"-3px",border:"1px solid ".concat(e.palette.primary.main),transition:"all 0.2s ease-in-out 0s"}))),_=({options:e,value:n,onChange:s,...i})=>(0,$.jsxs)(B,{...i,children:[e.map(((e,n)=>(0,$.jsxs)(J,{onClick:()=>s(e.value),children:[(0,$.jsx)(K,{children:e.title}),e.subtitle&&(0,$.jsx)(Q,{children:e.subtitle})]},n))).reduce(((e,n)=>[e,(0,$.jsx)("div",{style:{width:20}},new Date),n])),(0,$.jsx)(X,{style:{left:n===e[1].value?"-3px":"calc(50% - 3px)"}})]}),ee=({defaultValue:e,open:n,onClose:s,dialogProps:i={},dialogTitle:l,onSubmit:r})=>{const[o,d]=(0,a.useState)(e),[c,x]=(0,a.useState)("editor");return(0,a.useEffect)((()=>{n&&d(e)}),[e]),(0,$.jsxs)(T.Z,{open:n,onClose:s,dialogProps:{fullWidth:!0,maxWidth:"md",...i},children:[(0,$.jsxs)(y.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,$.jsx)(t.Z,{children:l||"\u0645\u0639\u0631\u0641\u06cc \u0646\u0627\u0645\u0647"}),(0,$.jsx)(v.Z,{onClick:s,size:"small",children:(0,$.jsx)(g.Z,{})})]}),(0,$.jsx)(k.Z,{}),(0,$.jsxs)(w.Z,{sx:{p:0},children:[(0,$.jsx)(_,{value:c,sx:{width:"200px",mx:"auto",my:2},options:[{title:"\u0648\u06cc\u0631\u0627\u06cc\u0634",value:"editor"},{title:"\u067e\u06cc\u0634\u0646\u0645\u0627\u06cc\u0634",value:"preview"}],onChange:e=>x(e)}),(0,$.jsx)(t.Z,{sx:{minHeight:250},children:"editor"===c?(0,$.jsx)(H.ZP,{fullWidth:!0,value:o,onChange:e=>d(e.target.value),multiline:!0,rows:9,placeholder:"\u0645\u0627\u0698\u0648\u0644 \u0631\u0627 \u0645\u0639\u0631\u0641\u06cc \u06a9\u0646\u06cc\u062f...",sx:{p:2}}):(0,$.jsx)(Y.Z,{breaks:!0,children:U().sanitize(o)})})]}),(0,$.jsx)(k.Z,{}),(0,$.jsx)(L.Z,{children:(0,$.jsx)(O.Z,{variant:"contained",onClick:()=>r(o),children:"\u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"})})]})};var ne=s(39269);const se=({open:e,onClose:n,defaultValues:s,onCreateOrUpdate:i,requestConfig:l})=>{const r=(0,c.dp)("core.modules"),o=(0,c.Co)("Categories.CategoriesDialog"),d={name:"",identifier:"",monthlyCost:"",description:"",micro:!1,maintenance:!1,readme:"",hourlyCostFactorPercent:"",trimesterlyDiscount:"",semiannuallyDiscount:"",annuallyDiscount:"",categories:[],dependencies:[],...s},{register:x,reset:h,loading:p,getValue:j,setValue:H,handleSubmit:G}=(0,M.Z)({initialValues:d,handlePost:e=>r.createOrUpdate(e,l),onSubmit:i});(0,a.useEffect)((()=>{e&&h(d)}),[e]);const[U,Y]=(0,a.useState)({open:!1}),[N,B]=(0,a.useState)({open:!1}),[J,K]=(0,a.useState)({open:!1});return(0,$.jsxs)(T.Z,{open:e,onClose:n,dialogProps:{fullWidth:!0,maxWidth:"sm"},children:[(0,$.jsxs)(y.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,$.jsx)(t.Z,{children:s?"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0628\u0631\u0646\u0627\u0645\u0647":"\u062b\u0628\u062a \u0628\u0631\u0646\u0627\u0645\u0647"}),(0,$.jsx)(v.Z,{onClick:n,size:"small",children:(0,$.jsx)(g.Z,{})})]}),(0,$.jsx)(k.Z,{}),(0,$.jsxs)(w.Z,{sx:{p:0},children:[(0,$.jsxs)(S.ZP,{container:!0,spacing:2,sx:{p:2},children:[(0,$.jsx)(S.ZP,{item:!0,xs:12,md:6,children:(0,$.jsx)(V.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",label:"\u0646\u0627\u0645 \u0628\u0631\u0646\u0627\u0645\u0647",variant:"filled",required:!0,...x("name")})}),(0,$.jsx)(S.ZP,{item:!0,xs:12,md:6,children:(0,$.jsx)(V.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",label:"\u0634\u0646\u0627\u0633\u0647 \u0628\u0631\u0646\u0627\u0645\u0647",variant:"filled",required:!0,dir:"ltr",...x("identifier")})})]}),(0,$.jsx)(k.Z,{}),(0,$.jsxs)(I.Z,{disablePadding:!0,dense:!0,children:[(0,$.jsx)(z.ZP,{disablePadding:!0,divider:!0,children:(0,$.jsxs)(D.Z,{onClick:()=>H("micro",!j("micro")),children:[(0,$.jsx)(W.Z,{children:(0,$.jsx)(P.Z,{})}),(0,$.jsx)(A.Z,{primary:"\u0628\u0631\u0646\u0627\u0645\u0647 \u0645\u06cc\u06a9\u0631\u0648",secondary:"\u0645\u06cc\u06a9\u0631\u0648 \u0628\u0631\u0646\u0627\u0645\u0647\u060c \u0628\u0631\u0646\u0627\u0645\u0647\u200c\u0647\u0627\u06cc\u06cc \u0647\u0633\u062a\u0646\u062f \u06a9\u0647 \u0628\u0631\u0627\u06cc \u062a\u0648\u0633\u0639\u0647 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc\u200c\u0634\u0648\u0646\u062f \u0648 \u0642\u0627\u0628\u0644 \u0646\u0635\u0628 \u0645\u0633\u062a\u0642\u06cc\u0645 \u062a\u0648\u0633\u0637 \u06a9\u0627\u0631\u0628\u0631 \u0646\u0645\u06cc\u200c\u0628\u0627\u0634\u0646\u062f."}),(0,$.jsx)(R.Z,{edge:"end",onClick:()=>H("micro",!j("micro")),checked:j("micro"),inputProps:{"aria-labelledby":"switch-list-label-bluetooth"}})]})}),(0,$.jsx)(z.ZP,{disablePadding:!0,children:(0,$.jsxs)(D.Z,{onClick:()=>H("maintenance",!j("maintenance")),children:[(0,$.jsx)(W.Z,{children:(0,$.jsx)(m.Z,{})}),(0,$.jsx)(A.Z,{primary:"\u062f\u0631 \u062d\u0627\u0644 \u062a\u0648\u0633\u0639\u0647"}),(0,$.jsx)(R.Z,{edge:"end",onClick:()=>H("maintenance",!j("maintenance")),checked:j("maintenance"),inputProps:{"aria-labelledby":"switch-list-label-bluetooth"}})]})})]}),(0,$.jsx)(k.Z,{}),(0,$.jsxs)(F.Z,{in:!j("micro"),children:[(0,$.jsxs)(S.ZP,{container:!0,spacing:2,sx:{p:2},children:[(0,$.jsx)(S.ZP,{item:!0,xs:12,md:12,children:(0,$.jsx)(V.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,size:"small",label:"\u0634\u0631\u062d \u0628\u0631\u0646\u0627\u0645\u0647",variant:"filled",multiline:!0,rows:5,...x("description")})}),(0,$.jsx)(S.ZP,{item:!0,xs:12,md:6,children:(0,$.jsx)(q.Z,{fullWidth:!0,size:"small",label:"\u0647\u0632\u06cc\u0646\u0647 \u0645\u0627\u0647\u06cc\u0627\u0646\u0647",dir:"ltr",variant:"filled",InputProps:{startAdornment:(0,$.jsx)(E.Z,{position:"start",children:(0,$.jsx)("small",{children:"\u062a\u0648\u0645\u0627\u0646"})})},value:j("monthlyCost")?j("monthlyCost").IRR:"",...x("monthlyCost",["value"])})}),(0,$.jsx)(S.ZP,{item:!0,xs:12,md:6,children:(0,$.jsx)(V.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,type:"number",size:"small",label:"\u0641\u0627\u06a9\u062a\u0648\u0631 \u0645\u062d\u0627\u0633\u0628\u0647 \u0633\u0627\u0639\u062a\u06cc",variant:"filled",InputProps:{startAdornment:(0,$.jsx)(E.Z,{position:"start",children:(0,$.jsx)("small",{children:"%"})})},dir:"ltr",...x("hourlyCostFactorPercent")})}),(0,$.jsx)(S.ZP,{item:!0,xs:12,md:4,children:(0,$.jsx)(V.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,type:"number",size:"small",label:"\u062a\u062e\u0641\u06cc\u0641 \u0633\u0647 \u0645\u0627\u0647\u0647",variant:"filled",InputProps:{startAdornment:(0,$.jsx)(E.Z,{position:"start",children:(0,$.jsx)("small",{children:"%"})})},dir:"ltr",...x("trimesterlyDiscount")})}),(0,$.jsx)(S.ZP,{item:!0,xs:12,md:4,children:(0,$.jsx)(V.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,type:"number",size:"small",label:"\u062a\u062e\u0641\u06cc\u0641 \u0634\u0634 \u0645\u0627\u0647\u0647",variant:"filled",InputProps:{startAdornment:(0,$.jsx)(E.Z,{position:"start",children:(0,$.jsx)("small",{children:"%"})})},dir:"ltr",...x("semiannuallyDiscount")})}),(0,$.jsx)(S.ZP,{item:!0,xs:12,md:4,children:(0,$.jsx)(V.Z,{InputLabelProps:{shrink:!0},fullWidth:!0,type:"number",size:"small",label:"\u062a\u062e\u0641\u06cc\u0641 \u0633\u0627\u0644\u06cc\u0627\u0646\u0647",variant:"filled",InputProps:{startAdornment:(0,$.jsx)(E.Z,{position:"start",children:(0,$.jsx)("small",{children:"%"})})},dir:"ltr",...x("annuallyDiscount")})})]}),(0,$.jsxs)(I.Z,{disablePadding:!0,dense:!0,children:[(0,$.jsx)(z.ZP,{disablePadding:!0,divider:!0}),(0,$.jsx)(z.ZP,{disablePadding:!0,children:(0,$.jsxs)(D.Z,{onClick:()=>Y({open:!0}),children:[(0,$.jsx)(W.Z,{children:(0,$.jsx)(C.Z,{})}),(0,$.jsx)(A.Z,{primary:"\u0648\u0627\u0628\u0633\u062a\u06af\u06cc\u200c\u0647\u0627",secondary:j("dependencies")&&j("dependencies").length>0?(0,$.jsx)("strong",{children:j("dependencies").map((e=>e.name)).join(", ")}):"\u0628\u0631\u0627\u06cc \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f."})]})}),(0,$.jsx)(z.ZP,{disablePadding:!0,divider:!0}),(0,$.jsx)(z.ZP,{disablePadding:!0,children:(0,$.jsxs)(D.Z,{onClick:()=>K({open:!0}),children:[(0,$.jsx)(W.Z,{children:(0,$.jsx)(Z.Z,{})}),(0,$.jsx)(A.Z,{primary:"\u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc\u200c\u0647\u0627",secondary:j("categories")&&j("categories").length>0?(0,$.jsx)("strong",{children:j("categories").map((e=>e.name)).join(", ")}):"\u0628\u0631\u0627\u06cc \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f."})]})}),(0,$.jsx)(z.ZP,{disablePadding:!0,divider:!0}),(0,$.jsx)(z.ZP,{disablePadding:!0,children:(0,$.jsxs)(D.Z,{onClick:()=>B({open:!0,defaultValue:j("readme")}),children:[(0,$.jsx)(W.Z,{children:(0,$.jsx)(u.Z,{})}),(0,$.jsx)(A.Z,{primary:"\u0645\u0639\u0631\u0641\u06cc\u200c\u0646\u0627\u0645\u0647",secondary:"\u0628\u0631\u0627\u06cc \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f."})]})})]})]})]}),(0,$.jsx)(k.Z,{}),(0,$.jsxs)(L.Z,{children:[(0,$.jsx)(b.Z,{loading:p,loadingPosition:"start",type:"submit",variant:"contained",startIcon:(0,$.jsx)(f.Z,{}),onClick:G,children:"\u062b\u0628\u062a \u0645\u0634\u062e\u0635\u0627\u062a"}),(0,$.jsx)(t.Z,{sx:{flexGrow:1}}),(0,$.jsx)(O.Z,{type:"button",onClick:n,children:"\u0627\u0646\u0635\u0631\u0627\u0641"})]}),(0,$.jsx)(ne.Z,{...U,queryParams:{includeMicros:!0},onClose:()=>Y({open:!1}),selectable:!0,selected:j("dependencies"),onSelect:e=>H("dependencies",j("dependencies").filter((n=>n.id===e.id)).length>0?j("dependencies").filter((n=>n.id!==e.id)):[...j("dependencies"),e])}),(0,$.jsx)(o,{...J,label:"workspace",onClose:()=>K({open:!1}),selectable:!0,selected:j("categories"),onSelect:e=>H("categories",j("categories").filter((n=>n.id===e.id)).length>0?j("categories").filter((n=>n.id!==e.id)):[...j("categories"),e]),requestConfig:{transformRequest:[(e,n)=>(delete n.common["Workspace-ID"],e)]}}),(0,$.jsx)(ee,{...N,dialogTitle:"\u0645\u0639\u0631\u0641\u06cc\u200c\u0646\u0627\u0645\u0647 \u0628\u0631\u0646\u0627\u0645\u0647",onClose:()=>B({open:!1}),onSubmit:e=>{H("readme",e),B({open:!1})}})]})};var ie=s(90503),le=s(88471),te=s(18702),re=s(93044),oe=s(20653),ae=s(78925),de=s(75669),ce=s(79698),xe=s(25863);const he=({loading:e,modules:n,meta:s,infiniteScrollProps:i,onClickEdit:l})=>{const[r,o]=(0,a.useState)({open:!1}),[c,x]=(0,d.lr)();return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(ae.Z,{data:n,loading:e,infiniteScrollProps:i,tableRowProps:e=>({disabled:e.maintenance}),definitions:[{title:"\u0631\u062f\u06cc\u0641",headerCellProps:{align:"center"},rowCellProps:{align:"center"},renderCell:(e,n)=>(0,$.jsx)(de.Z,{children:n+1})},{title:"\u0628\u0631\u0646\u0627\u0645\u0647",renderCell:e=>(0,$.jsxs)(t.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,$.jsx)(re.Z,{src:e.picture,sx:{width:75,height:75},variant:"rounded",children:e.micro?(0,$.jsx)(P.Z,{fontSize:"large"}):(0,$.jsx)(te.Z,{fontSize:"large"})}),(0,$.jsxs)(t.Z,{sx:{pl:2},children:[(0,$.jsx)("strong",{style:{whiteSpace:"nowrap"},children:(0,$.jsx)(de.Z,{children:e.name})}),(0,$.jsx)("br",{}),(0,$.jsx)(t.Z,{children:e.identifier})]}),e.micro&&(0,$.jsx)(ce.Z,{title:"\u0645\u06cc\u06a9\u0631\u0648 \u0628\u0631\u0646\u0627\u0645\u06a9",children:(0,$.jsx)(P.Z,{sx:{ml:2},fontSize:"small"})}),e.maintenance&&(0,$.jsx)(ce.Z,{title:"\u062f\u0631 \u062d\u0627\u0644 \u062a\u0648\u0633\u0639\u0647",children:(0,$.jsx)(m.Z,{sx:{ml:2},fontSize:"small"})})]})},{title:"\u0634\u0631\u062d \u0645\u062e\u062a\u0635\u0631",renderList:e=>e.description?(0,$.jsx)(de.Z,{children:e.description}):"-"},{field:"monthlyCost",headerCellProps:{align:"center",width:150},rowCellProps:{align:"center"},title:(0,$.jsxs)(t.Z,{component:"span",children:["\u0647\u0632\u06cc\u0646\u0647 \u0645\u0627\u0647\u06cc\u0627\u0646\u0647 ",(0,$.jsx)("small",{children:"(\u062a\u0648\u0645\u0627\u0646)"})]}),render:e=>e.monthlyCost?(0,$.jsx)(de.Z,{children:(0,xe.Z)(e.monthlyCost.IRR)}):"-"},{field:"hourlyCostFactorPercent",headerCellProps:{align:"center",width:150},rowCellProps:{align:"center"},title:(0,$.jsxs)(t.Z,{component:"span",children:["\u0641\u0627\u06a9\u062a\u0648\u0631 \u0647\u0632\u06cc\u0646\u0647 \u0633\u0627\u0639\u062a\u06cc ",(0,$.jsx)("small",{children:"(%)"})]}),render:e=>e.hourlyCostFactorPercent?(0,$.jsx)(de.Z,{children:e.hourlyCostFactorPercent}):"-"},{field:"trimesterlyDiscount",headerCellProps:{align:"center",width:150},rowCellProps:{align:"center"},title:(0,$.jsxs)(t.Z,{component:"span",children:["\u062a\u062e\u0641\u06cc\u0641 \u0633\u0647 \u0645\u0627\u0647\u0647 ",(0,$.jsx)("small",{children:"(%)"})]}),render:e=>e.trimesterlyDiscount?(0,$.jsx)(de.Z,{children:e.trimesterlyDiscount}):"-"},{field:"semiannuallyDiscount",headerCellProps:{align:"center",width:150},rowCellProps:{align:"center"},title:(0,$.jsxs)(t.Z,{component:"span",children:["\u062a\u062e\u0641\u06cc\u0641 \u0634\u0634 \u0645\u0627\u0647\u0647 ",(0,$.jsx)("small",{children:"(%)"})]}),render:e=>e.semiannuallyDiscount?(0,$.jsx)(de.Z,{children:e.semiannuallyDiscount}):"-"},{field:"annuallyDiscount",headerCellProps:{align:"center",width:150},rowCellProps:{align:"center"},title:(0,$.jsxs)(t.Z,{component:"span",children:["\u062a\u062e\u0641\u06cc\u0641 \u0633\u0627\u0644\u06cc\u0627\u0646\u0647 ",(0,$.jsx)("small",{children:"(%)"})]}),render:e=>e.annuallyDiscount?(0,$.jsx)(de.Z,{children:e.annuallyDiscount}):"-"},{title:"\u0648\u0627\u0628\u0633\u062a\u06af\u06cc\u200c\u0647\u0627",headerCellProps:{width:200},render:e=>e.dependencies&&e.dependencies.length>0?e.dependencies.map((e=>e.name)).join(", "):"-"},{title:"\u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc\u200c\u0647\u0627",headerCellProps:{width:200},render:e=>e.categories&&e.categories.length>0?e.categories.map((e=>e.name)).join(", "):"-"},{title:"\u062f\u0633\u062a\u0647\u200c\u0647\u0627\u06cc \u06a9\u0633\u0628\u200c\u0648\u200c\u06a9\u0627\u0631",headerCellProps:{width:200},render:e=>e.workspacesCategories&&e.workspacesCategories.length>0?e.workspacesCategories.map((e=>e.name)).join(", "):"-"}],renderSheetTitle:e=>e.name,renderListItemChildren:e=>(0,$.jsxs)(D.Z,{children:[(0,$.jsx)(oe.Z,{children:(0,$.jsx)(re.Z,{src:e.picture,variant:"rounded",children:(0,$.jsx)(te.Z,{})})}),(0,$.jsx)(A.Z,{primary:(0,$.jsx)("strong",{children:e.name}),secondary:(0,$.jsx)(t.Z,{component:"span",children:e.identifier})})]}),paginationProps:{count:s.total,rowsPerPage:c.get("perPage")||25,page:c.get("page")||0,onPageChange:(e,n)=>x({...Object.fromEntries([...c]),page:n}),onRowsPerPageChange:e=>x({...Object.fromEntries([...c]),perPage:e.target.value})},actions:[{title:"\u0648\u06cc\u0631\u0627\u06cc\u0634",icon:(0,$.jsx)(le.Z,{}),onClick:l,authorize:({hasRole:e,hasPermission:n})=>e("owner")||n("core.modules.edit")},{title:"\u062d\u0630\u0641",icon:(0,$.jsx)(ie.Z,{}),onClick:e=>alert("Delete module entirely"),authorize:({hasRole:e,hasPermission:n})=>e("owner")||n("core.modules.delete")}]}),(0,$.jsx)(ee,{onClose:()=>o({open:!1}),...r})]})},pe=()=>{const e=(0,c.dp)("core.modules"),[n]=(0,d.lr)(),{data:s,total:m,loading:u,loadMore:Z,reload:g}=(0,j.Z)({handleFetch:s=>e.list({...s,includeMicros:!0,includeInMaintenance:!0,...Object.fromEntries([...n])}),loadDeps:[n],infiniteScrollDefaultParams:{page:n.has("page")?n.get("page"):0,perPage:n.has("perPage")?n.get("perPage"):25}}),{enqueueSnackbar:P}=(0,o.Ds)(),[f,C]=(0,a.useState)({open:!1}),b=e=>{P(e),C({open:!1}),g()},y=(0,c.Vg)("core.manageModules");return(0,$.jsx)(p.xf,{...y,children:(0,$.jsxs)(h.Z,{children:[(0,$.jsxs)(t.Z,{sx:{display:"flex",mb:{xs:0,sm:1}},children:[(0,$.jsx)(t.Z,{sx:{flexGrow:1}}),(0,$.jsx)(x.Z,{actions:[{title:"\u0628\u0631\u0646\u0627\u0645\u0647 \u062c\u062f\u06cc\u062f",icon:(0,$.jsx)(i.Z,{}),onClick:()=>C({open:!0,onCreateOrUpdate:e=>b("\u0645\u0634\u062e\u0635\u0627\u062a \u0628\u0631\u0646\u0627\u0645\u0647 \u062b\u0628\u062a \u06af\u0631\u062f\u06cc\u062f.")})}],ResponsiveActionIcon:(0,$.jsx)(l.Z,{}),responsiveActionProps:{color:"primary"}})]}),(0,$.jsx)(r.Z,{variant:"outlined",children:(0,$.jsx)(he,{modules:s,loading:u,meta:{total:m},infiniteScrollProps:{loading:!1,hasNextPage:s.length<m,onLoadMore:Z},onClickEdit:e=>C({open:!0,defaultValues:e,onCreateOrUpdate:e=>b("\u0645\u0634\u062e\u0635\u0627\u062a \u0628\u0631\u0646\u0627\u0645\u0647 \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u06af\u0631\u062f\u06cc\u062f.")})})}),(0,$.jsx)(se,{...f,onClose:()=>C({open:!1})})]})})}}}]);
//# sourceMappingURL=6190.d1973396.chunk.js.map