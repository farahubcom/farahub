"use strict";(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[6060],{6060:(e,s,n)=>{n.r(s),n.d(s,{default:()=>N});var l=n(4830),i=n(66934),a=n(57621),r=n(39504),t=n(61889),d=n(19658),c=n(78703),o=n.n(c),x=n(2959),u=n(61709),g=n(7175),m=n(68870),h=n(20890),j=n(56125),v=n(81918),b=n(47317),p=n(63466),Z=n(36151),w=n(94721),y=n(15021),f=n(76278),k=n(49900),P=n(57064),C=n(91440),_=n(763),z=n(58518),I=n(39230),O=n(35065),S=n(70697),T=n(54163),V=n(97368),$=n(72791),B=n(80184);const G=()=>{const{t:e}=(0,I.$G)(["customers-club","global"]),{enqueueSnackbar:s}=(0,z.Ds)(),n=(0,O.dp)("Customers-Club.Rewards"),i={pending:{type:"pending",color:"warning",label:e("global:general.pending"),text:e("pages.welcome.welcome_pending_text")},confirmed:{type:"confirmed",color:"success",label:e("global:general.active"),text:e("pages.welcome.revisit_active_text")},rejected:{type:"rejected",color:"error",label:e("global:general.inactive"),text:e("pages.welcome.welcome_inactive_text")}},{register:a,setValue:r,getValue:c,reset:o,loading:x,handleSubmit:u}=(0,T.Z)({initialValues:{rewards:[],active:!1},handlePost:e=>n.createOrUpdate(e),onSubmit:n=>{s(e("global:general.update_successful","Update successful"))}});(0,$.useEffect)((()=>{(async()=>{const e=await n.getOptions();o(e.data)})()}),[]);const g=(e,s,n)=>(0,_.get)(c("rewards"),`[${e}][${s}]`,n),G=(e,s,n)=>{r("rewards",(0,_.map)(c("rewards"),((l,i)=>i===e?(0,_.set)(l,s,n):l)))};return(0,B.jsxs)(m.Z,{children:[(0,B.jsxs)(m.Z,{sx:{mb:2},children:[!c("rewards").length&&(0,B.jsx)(d.Z,{severity:"warning",icon:!1,sx:{mb:2},children:(0,B.jsx)(h.Z,{children:"\u062c\u0627\u06cc\u0632\u0647\u200c\u0627\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f"})}),c("rewards").length>0&&c("rewards").map(((s,n)=>{var l,a;const o=null!==s&&void 0!==s&&null!==(l=s.message)&&void 0!==l&&l.status?(x=null===s||void 0===s||null===(a=s.message)||void 0===a?void 0:a.status,i[x]):{};var x;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(j.Z,{in:["pending","rejected"].includes(o.type),children:(0,B.jsxs)(d.Z,{icon:!1,variant:"standard",severity:null===o||void 0===o?void 0:o.color,action:"pending"===(null===o||void 0===o?void 0:o.type)&&(0,B.jsx)(v.Z,{color:null===o||void 0===o?void 0:o.color,label:null===o||void 0===o?void 0:o.label}),sx:{mb:2},children:[(0,B.jsx)(b.Z,{children:e("global:general.status")}),null===o||void 0===o?void 0:o.text]})}),(0,B.jsxs)(t.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,B.jsx)(t.ZP,{item:!0,xs:10,children:(0,B.jsx)(S.Z,{type:"number",min:1,max:100,size:"small",label:e("\u0627\u062d\u062a\u0645\u0627\u0644"),value:g(n,"possiblity"),onChange:e=>G(n,"possiblity",e.target.value),InputProps:{endAdornment:(0,B.jsx)(p.Z,{position:"end",children:"\u062f\u0631\u0635\u062f"})}})}),(0,B.jsx)(t.ZP,{item:!0,xs:2,children:(0,B.jsx)(Z.Z,{size:"small",color:"error",variant:"contained",onClick:()=>r("rewards",(0,_.filter)(c("rewards"),((e,s)=>s!==n))),children:"\u062d\u0630\u0641"})}),(0,B.jsx)(t.ZP,{item:!0,xs:12,children:(0,B.jsx)(V.Z,{placeholder:e("\u0645\u062a\u0646 \u067e\u06cc\u0627\u0645..."),value:g(n,"message.content"),onChange:e=>G(n,"message.content",e)})})]},n),(0,B.jsx)(w.Z,{sx:{my:3}})]})})),(0,B.jsx)(Z.Z,{size:"small",color:"success",variant:"contained",onClick:()=>{const n=(0,_.sumBy)(c("rewards"),(e=>Number(e.possiblity)));100!==n?r("rewards",[...c("rewards"),{possiblity:100-n,message:{content:""}}]):s(e("\u0627\u062d\u062a\u0645\u0627\u0644 \u0646\u0645\u06cc\u062a\u0648\u0627\u0646\u062f \u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 100 \u0628\u0627\u0634\u062f"))},startIcon:(0,B.jsx)(l.JO,{icon:"solar:add-linear"}),children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u062c\u0627\u06cc\u0632\u0647"}),(0,B.jsx)(m.Z,{sx:{my:2}}),(0,B.jsx)(y.ZP,{disableGutters:!0,disablePadding:!0,children:(0,B.jsxs)(f.Z,{selected:!0,disabled:(0,_.some)(c("rewards"),(e=>{var s;return"confirmed"!==(null===(s=e.message)||void 0===s?void 0:s.status)})),onClick:()=>r("active",!c("active")),children:[(0,B.jsx)(k.Z,{primary:e("\u0627\u0631\u0633\u0627\u0644 \u0641\u0639\u0627\u0644"),secondary:e("\u062f\u0631 \u0635\u0648\u0631\u062a \u063a\u06cc\u0631 \u0641\u0639\u0627\u0644 \u0628\u0648\u062f\u0646\u060c \u067e\u06cc\u0627\u0645 \u0627\u0631\u0633\u0627\u0644 \u0646\u062e\u0648\u0627\u0647\u062f \u0634\u062f.")}),(0,B.jsx)(P.Z,{children:(0,B.jsx)(C.Z,{checked:c("active"),onChange:e=>r("active",e.target.checked)})})]})})]}),(0,B.jsx)(m.Z,{sx:{my:3}}),(0,B.jsx)(Z.Z,{variant:"contained",onClick:u,disabled:x||c("rewards").length>0&&(0,_.sumBy)(c("rewards"),(e=>Number(e.possiblity)))<100,children:e("global:general.save_changes")})]})},J=(0,i.ZP)("div")((({theme:e})=>({"& h3":{marginTop:0}}))),N=()=>(0,B.jsx)(g.xf,{title:"\u0627\u06cc\u062c\u0627\u062f \u062c\u0627\u06cc\u0632\u0647",Icon:e=>(0,B.jsx)(l.JO,{...e,icon:"solar:gift-bold-duotone"}),children:(0,B.jsx)(u.Z,{children:(0,B.jsx)(a.Z,{variant:"outlined",sx:{mb:3},children:(0,B.jsx)(r.Z,{sx:{p:3},children:(0,B.jsxs)(t.ZP,{container:!0,spacing:5,children:[(0,B.jsx)(t.ZP,{item:!0,xs:12,sm:6,children:(0,B.jsx)(d.Z,{color:"info",children:(0,B.jsx)(J,{children:(0,B.jsx)(x.Z,{breaks:!0,children:o().sanitize('\n### \u0646\u06a9\u0627\u062a \u0622\u0645\u0648\u0632\u0634\u06cc\n\n\u0628\u0627 \u0633\u0631\u0648\u06cc\u0633 \u062c\u0627\u06cc\u0632\u0647 \u0645\u0634\u062a\u0631\u06cc\u0627\u0646 \u0631\u0627 \u0634\u06af\u0641\u062a \u0632\u062f\u0647 \u0648 \u062e\u0648\u0634\u062d\u0627\u0644 \u06a9\u0646\u06cc\u062f.\n\u0686\u0646\u062f \u0645\u062a\u0646 \u0645\u062e\u062a\u0644\u0641 \u0628\u0627 \u0627\u062d\u062a\u0645\u0627\u0644 \u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641 \u062a\u0639\u0631\u06cc\u0641 \u06a9\u0646\u06cc\u062f \u060c \u0647\u0631 \u0648\u0642\u062a \u0645\u0634\u062a\u0631\u06cc \u0634\u0645\u0627\u0631\u0647 \u062e\u0648\u062f\u0634 \u0631\u0627 \u0648\u0627\u0631\u062f \u062f\u0633\u062a\u06af\u0627\u0647 \u06a9\u0646\u062f \u06cc\u06a9\u06cc \u0627\u0632 \u0627\u06cc\u0646 \u0645\u062a\u0646 \u0647\u0627 \u0631\u0627 \u0628\u0635\u0648\u0631\u062a \u062a\u0635\u0627\u062f\u0641\u06cc \u0648 \u0628\u0631 \u0627\u0633\u0627\u0633 \u0627\u062d\u062a\u0645\u0627\u0644\u06cc \u06a9\u0647 \u0634\u0645\u0627 \u062a\u0639\u0631\u06cc\u0641 \u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f \u062f\u0631\u06cc\u0627\u0641\u062a \u0645\u06cc \u06a9\u0646\u062f.\n\n\u0628\u0627 \u06cc\u06a9 \u0645\u062b\u0627\u0644 \u062a\u0648\u0636\u06cc\u062d \u0645\u06cc \u062f\u0647\u06cc\u0645 : \u0634\u0645\u0627 \u0628\u0647 \u0645\u0634\u062a\u0631\u06cc \u0645\u06cc \u06af\u0648\u06cc\u06cc\u062f \u0634\u0645\u0627\u0631\u0647 \u0627\u0634 \u0631\u0627 \u0648\u0627\u0631\u062f \u062f\u0633\u062a\u06af\u0627\u0647 \u06a9\u0646\u062f \u062a\u0627 \u0634\u0627\u0646\u0633 \u062e\u0648\u062f \u0628\u0631\u0627\u06cc \u062f\u0631\u06cc\u0627\u0641\u062a \u062a\u062e\u0641\u06cc\u0641 50 \u062f\u0631\u0635\u062f\u06cc \u0631\u0627 \u0627\u0645\u062a\u062d\u0627\u0646 \u06a9\u0646\u062f.\n\u0633\u067e\u0633 \u0686\u0646\u062f \u0645\u062a\u0646 \u0628\u0647 \u0627\u06cc\u0646 \u0635\u0648\u0631\u062a \u062a\u0639\u0631\u06cc\u0641 \u0645\u06cc \u06a9\u0646\u06cc\u062f :\n\u0645\u062a\u0646 :"\u0627\u0645\u06cc\u062f\u0648\u0627\u0631\u0645 \u062f\u0631 \u062e\u0631\u06cc\u062f \u0628\u0639\u062f\u06cc \u0628\u0631\u0646\u062f\u0647 \u062a\u062e\u0641\u06cc\u0641 \u0648\u06cc\u0698\u0647 \u0645\u0627 \u0628\u0627\u0634\u06cc\u062f " \u0627\u062d\u062a\u0645\u0627\u0644 : 50%\n\u0645\u062a\u0646 :"\u0634\u0645\u0627 \u0628\u0631\u0646\u062f\u0647 10 \u062f\u0631\u0635\u062f \u062a\u062e\u0641\u06cc\u0641 \u0634\u062f\u06cc\u062f" \u0627\u062d\u062a\u0645\u0627\u0644 : 30%\n\u0645\u062a\u0646 :"\u0634\u0645\u0627 \u0628\u0631\u0646\u062f\u0647 \u062f\u0647 \u0647\u0632\u0627\u0631 \u062a\u0648\u0645\u0627\u0646 \u062a\u062e\u0641\u06cc\u0641 \u0634\u062f\u06cc\u062f" \u0627\u062d\u062a\u0645\u0627\u0644 : 15%\n\u0645\u062a\u0646 :"\u0634\u0645\u0627 \u0628\u0631\u0646\u062f\u0647 50% \u062a\u062e\u0641\u06cc\u0641 \u0648\u06cc\u0698\u0647 \u0645\u0627 \u0634\u062f\u06cc\u062f \u060c \u062a\u0628\u0631\u06cc\u06a9!!" \u0627\u062d\u062a\u0645\u0627\u0644 : 5%\n\u062f\u0631 \u0645\u062b\u0627\u0644 \u0628\u0627\u0644\u0627 50% \u0645\u0634\u062a\u0631\u06cc \u0647\u0627 \u067e\u06cc\u0627\u0645\u06a9\u06cc \u0631\u0627 \u062f\u0631\u06cc\u0627\u0641\u062a \u0645\u06cc \u06a9\u0646\u0646\u062f \u06a9\u0647 \u0646\u0634\u0627\u0646 \u0645\u06cc \u062f\u0647\u062f \u0628\u0631\u0646\u062f\u0647 \u0646\u0634\u062f\u0647 \u0627\u0646\u062f \u060c 30% \u0628\u0631\u0646\u062f\u0647 10 \u062f\u0631\u0635\u062f \u062a\u062e\u0641\u06cc\u0641 \u0645\u06cc \u0634\u0648\u0646\u062f \u060c 15% \u0628\u0631\u0646\u062f\u0647 \u062f\u0647 \u0647\u0632\u0627\u0631 \u062a\u0648\u0645\u0627\u0646 \u062a\u062e\u0641\u06cc\u0641 \u0648 \u0641\u0642\u0637 5% \u0645\u0634\u062a\u0631\u06cc\u0627\u0646 \u0628\u0631\u0646\u062f\u0647 \u062a\u062e\u0641\u06cc\u0641 50% \u0645\u06cc \u0634\u0648\u0646\u062f.\n')})})})}),(0,B.jsx)(t.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(G,{})})]})})})})})}}]);
//# sourceMappingURL=6060.a737507e.chunk.js.map