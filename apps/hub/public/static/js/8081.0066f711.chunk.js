(globalThis.webpackChunkfarahub=globalThis.webpackChunkfarahub||[]).push([[8081],{88517:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(31357),s=i.n(n);class l{}l.getItemPureTotal=e=>e.amount*e.unitPrice,l.getItemDiscountPrice=e=>e.discount||0,l.getItemTotalPrice=e=>l.getItemPureTotal(e)-l.getItemDiscountPrice(e),l.getFactorPrice=(e,t)=>("PRICE"===t.unit?t.amount:t.amount/100*l.getInvoiceSubtotal(e))*("REDUCER"===t.type?-1:1),l.getInvoiceSubtotal=e=>s()(e,(e=>l.getItemTotalPrice(e))),l.getInvoiceTotal=(e,t)=>Number(l.getInvoiceSubtotal(e))+s()(t,(t=>l.getFactorPrice(e,t)));const r=l},38081:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>P});var n=i(66934),s=i(35855),l=i(39281),r=i(79836),c=i(56890),a=i(68745),o=i(53382),d=i(68870),x=i(20890),h=i(70109),u=i.n(h),Z=i(72791),j=i(57689),m=i(97002),g=i(46019),v=i(58052),p=i(25863),b=i(88517),f=i(80184);const I=(0,n.ZP)(s.Z)((({theme:e})=>({"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}))),P=()=>{var e;const{inject:t}=(0,g.aC)(),i=(0,m.dp)("Online-Booking.Main"),n=(0,j.UO)(),[h,P]=(0,Z.useState)(!0),[T,w]=(0,Z.useState)();(0,Z.useEffect)((()=>{(async()=>{P(!0);const e=await i.details(n.reservationId);e.ok&&(w(e.reservation),P(!1))})()}),[n.reservationId]);const y=(0,Z.useMemo)((()=>T&&T.items?b.Z.getInvoiceTotal(T.items,T.factors):0),[T]);return h?(0,f.jsx)(v.Z,{size:"small"}):(0,f.jsx)(l.Z,{children:(0,f.jsxs)(r.Z,{size:"small",stickyHeader:!0,children:[(0,f.jsx)(c.Z,{children:(0,f.jsxs)(s.Z,{children:[(0,f.jsx)(a.Z,{align:"center",children:"#"}),(0,f.jsx)(a.Z,{align:"center",children:"\u06a9\u062f"}),(0,f.jsx)(a.Z,{children:"\u0634\u0631\u062d"}),t("invoices","InvoiceItemsTable.HeadCells.AfterTitle"),(0,f.jsx)(a.Z,{align:"center",children:"\u062a\u0639\u062f\u0627\u062f"}),(0,f.jsxs)(a.Z,{align:"center",children:["\u0641\u06cc ",(0,f.jsx)("small",{children:"(\u0631\u06cc\u0627\u0644)"})]}),(0,f.jsx)(a.Z,{align:"center",children:"\u062a\u062e\u0641\u06cc\u0641"}),(0,f.jsx)(a.Z,{align:"center",children:"\u0645\u062c\u0645\u0648\u0639"})]})}),(0,f.jsxs)(o.Z,{children:[T.items.map(((e,i)=>(0,f.jsxs)(I,{children:[(0,f.jsx)(a.Z,{align:"center",children:i+1}),(0,f.jsx)(a.Z,{align:"center",children:e.item.code}),(0,f.jsx)(a.Z,{children:e.item.name}),t("invoices","InvoiceItemsTable.BodyCells.AfterTitle",{item:e}),(0,f.jsx)(a.Z,{align:"center",children:e.amount}),(0,f.jsx)(a.Z,{align:"center",children:(0,p.Z)(e.unitPrice)}),(0,f.jsx)(a.Z,{align:"center",children:(0,p.Z)(b.Z.getItemDiscountPrice(e))}),(0,f.jsx)(a.Z,{align:"center",children:(0,p.Z)(b.Z.getItemTotalPrice(e))})]},e.id))),(0,f.jsx)(I,{children:(0,f.jsx)(a.Z,{colSpan:100,children:(0,f.jsxs)(d.Z,{sx:{width:"33.33%",ml:"auto",display:"flex"},children:[(0,f.jsx)(x.Z,{variant:"subtitle2",children:"\u062c\u0645\u0639 \u06a9\u0644 \u0641\u0627\u06a9\u062a\u0648\u0631"}),(0,f.jsx)(d.Z,{sx:{flexGrow:1}}),(0,f.jsx)(x.Z,{variant:"subtitle2",sx:{px:"16px"},children:(0,p.Z)(T.subtotal)})]})})}),T&&(null===(e=T.factors)||void 0===e?void 0:e.map(((e,t)=>(0,f.jsx)(I,{children:(0,f.jsx)(a.Z,{colSpan:100,children:(0,f.jsxs)(d.Z,{sx:{width:"33.33%",ml:"auto",display:"flex"},children:[(0,f.jsxs)(x.Z,{variant:"subtitle2",children:[e.title," ","PERCENT"===e.unit?`(${e.amount}%)`:""]}),(0,f.jsx)(d.Z,{sx:{flexGrow:1}}),(0,f.jsx)(x.Z,{variant:"subtitle2",sx:{px:"16px"},children:(0,p.Z)(e.amount)})]})})},e.id)))),(0,f.jsx)(I,{children:(0,f.jsx)(a.Z,{colSpan:100,children:(0,f.jsxs)(d.Z,{sx:{width:"33.33%",ml:"auto",display:"flex"},children:[(0,f.jsx)(x.Z,{variant:"subtitle2",children:"\u062e\u0627\u0644\u0635 \u0641\u0627\u06a9\u062a\u0648\u0631"}),(0,f.jsx)(d.Z,{sx:{flexGrow:1}}),(0,f.jsxs)(x.Z,{variant:"subtitle2",sx:{px:"16px"},children:[(0,f.jsx)("strong",{children:u()(y)?(0,p.Z)(y):0})," ",(0,f.jsx)("small",{children:"\u0631\u06cc\u0627\u0644"})]})]})})})]})]})})}},58645:e=>{e.exports=function(e,t){for(var i,n=-1,s=e.length;++n<s;){var l=t(e[n]);void 0!==l&&(i=void 0===i?l:i+l)}return i}},70109:(e,t,i)=>{var n=i(97009).isFinite;e.exports=function(e){return"number"==typeof e&&n(e)}},31357:(e,t,i)=>{var n=i(56025),s=i(58645);e.exports=function(e,t){return e&&e.length?s(e,n(t,2)):0}}}]);
//# sourceMappingURL=8081.0066f711.chunk.js.map